<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>技术笔记</title>
  <subtitle>有输入,有输出</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://muxiaobai.github.io/"/>
  <updated>2019-05-21T12:52:54.235Z</updated>
  <id>https://muxiaobai.github.io/</id>
  
  <author>
    <name>Mu Xiaobai(慕小白)</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>高并发之缓存、限流、降级</title>
    <link href="https://muxiaobai.github.io/2019/05/21/%E9%AB%98%E5%B9%B6%E5%8F%91%E4%B9%8B%E7%BC%93%E5%AD%98%E3%80%81%E9%99%90%E6%B5%81%E3%80%81%E9%99%8D%E7%BA%A7/"/>
    <id>https://muxiaobai.github.io/2019/05/21/高并发之缓存、限流、降级/</id>
    <published>2019-05-21T11:54:24.000Z</published>
    <updated>2019-05-21T12:52:54.235Z</updated>
    
    <content type="html"><![CDATA[<p>&#x9996;&#x5148;&#x5FC5;&#x987B;&#x8981;&#x4ECE;&#x4EE3;&#x7801;&#x5C42;&#x9762;&#x4E0A;&#x63D0;&#x5347;&#x6027;&#x80FD;&#xFF0C;&#x5229;&#x7528;&#x7F13;&#x5B58;&#x7B49;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8BBF;&#x95EE;&#x91CF;&#x5927;&#xFF0C;&#x786E;&#x5B9E;&#x65E0;&#x6CD5;&#x5904;&#x7406;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x8981;&#x8003;&#x8651;&#x9650;&#x6D41;&#xFF0C;&#x6216;&#x8005;&#x9632;&#x5237;&#x4E5F;&#x662F;&#x8981;&#x8003;&#x8651;&#x9650;&#x6D41;&#xFF0C;&#x7136;&#x540E;&#x5982;&#x679C;&#x670D;&#x52A1;&#x786E;&#x5B9E;&#x4E0D;&#x53EF;&#x7528;&#x7684;&#x8BDD;&#x5C31;&#x628A;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x964D;&#x7EA7;&#xFF0C;&#x6BD4;&#x5982;&#x5F53;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F46;&#x662F;&#x5199;&#x7684;&#x670B;&#x53CB;&#x5708;&#x662F;&#x8981;&#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x7684;&#x3002;&#x4E0D;&#x80FD;&#x56E0;&#x4E3A;&#x8BC4;&#x8BBA;&#x670D;&#x52A1;&#x65E0;&#x6CD5;&#x63D0;&#x4F9B;&#xFF0C;&#x8FDE;&#x670B;&#x53CB;&#x5708;&#x4E5F;&#x4E0D;&#x80FD;&#x770B;&#x4E86;&#x3002;</p>
<h2 id="&#x7F13;&#x5B58;"><a href="#&#x7F13;&#x5B58;" class="headerlink" title="&#x7F13;&#x5B58;"></a>&#x7F13;&#x5B58;</h2><p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x628A;&#x6280;&#x672F;&#x76F8;&#x5173;&#x7684;&#xFF0C;&#x8BFB;&#x7F13;&#x5B58;&#xFF0C;&#x5199;&#x65E5;&#x5FD7;&#xFF0C;&#x5199;&#x7F13;&#x5B58;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x52A0;&#x53CD;&#x5C04;&#x6765;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x4F2A;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Cache cache =getCache();</div><div class="line"></div><div class="line">if(cache!=null){</div><div class="line">    return cache;</div><div class="line">}</div><div class="line"></div><div class="line">Data result= getDatabase();</div><div class="line">lg.info(&quot;&#x83B7;&#x53D6;&#x6570;&#x636E;&quot;);</div><div class="line">if(result!=null){</div><div class="line">    setCacheData(result)</div><div class="line">}</div><div class="line"></div><div class="line">return result;</div></pre></td></tr></table></figure></p>
<p>&#x4E1A;&#x52A1;&#x4E0A;&#xFF0C;&#x5B9E;&#x9645;&#x53EA;&#x6709;getDatabase&#x624D;&#x6709;&#x7528;&#x3002;</p>
<p>&#x4F2A;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@getCache()</div><div class="line">@setCache()</div><div class="line">@log()</div><div class="line">public getData(){</div><div class="line">    Data result= getDatabase();</div><div class="line">    return result;</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x53CD;&#x5C04;&#x5982;&#x679C;&#x6709;getCache&#x7684;&#x8BDD;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#xFF0C;&#x5982;&#x679C;&#x6709;log&#x5199;&#x65E5;&#x5FD7;&#xFF0C;&#x5982;&#x679C;&#x6709;set&#x5219;&#x628A;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x6570;&#x636E;&#x5199;&#x5230;cache&#x4E2D;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<h2 id="&#x9650;&#x6D41;"><a href="#&#x9650;&#x6D41;" class="headerlink" title="&#x9650;&#x6D41;"></a>&#x9650;&#x6D41;</h2><h4 id="&#x9650;&#x6D41;&#x77AC;&#x65F6;&#x6D41;&#x91CF;"><a href="#&#x9650;&#x6D41;&#x77AC;&#x65F6;&#x6D41;&#x91CF;" class="headerlink" title="&#x9650;&#x6D41;&#x77AC;&#x65F6;&#x6D41;&#x91CF;"></a>&#x9650;&#x6D41;&#x77AC;&#x65F6;&#x6D41;&#x91CF;</h4><p>&#x53CC;11&#xFF0C;&#x79D2;&#x6740;&#xFF0C;&#x4E4B;&#x7C7B;&#x7684;&#x5C5E;&#x4E8E;&#x77AC;&#x65F6;&#x6D41;&#x91CF;&#x5F88;&#x5927;&#xFF0C;&#x5E73;&#x65F6;&#x76F8;&#x5BF9;&#x7A33;&#x5B9A;&#x3002;</p>
<h4 id="&#x9650;&#x6D41;&#x603B;&#x5E76;&#x53D1;&#x91CF;"><a href="#&#x9650;&#x6D41;&#x603B;&#x5E76;&#x53D1;&#x91CF;" class="headerlink" title="&#x9650;&#x6D41;&#x603B;&#x5E76;&#x53D1;&#x91CF;"></a>&#x9650;&#x6D41;&#x603B;&#x5E76;&#x53D1;&#x91CF;</h4><h4 id="&#x9650;&#x6D41;&#x5E73;&#x5747;&#x6D41;&#x91CF;"><a href="#&#x9650;&#x6D41;&#x5E73;&#x5747;&#x6D41;&#x91CF;" class="headerlink" title="&#x9650;&#x6D41;&#x5E73;&#x5747;&#x6D41;&#x91CF;"></a>&#x9650;&#x6D41;&#x5E73;&#x5747;&#x6D41;&#x91CF;</h4><ul>
<li><p>&#x6ED1;&#x52A8;&#x7A97;&#x53E3;</p>
</li>
<li><p>&#x4EE4;&#x724C;&#x6876;&#xFF0C;&#x6BCF;&#x79D2;&#x751F;&#x6210;n&#x4E2A;&#xFF0C;&#x9650;&#x5236;&#x5E73;&#x5747;&#x6D41;&#x91CF;</p>
</li>
<li><p>&#x6F0F;&#x6876;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x5E94;&#x5BF9;&#x77AC;&#x65F6;&#x6D41;&#x91CF;&#x8FC7;&#x5927;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x5B9A;&#x7684;&#x901F;&#x7387;&#x8FDB;&#x884C;&#x6D88;&#x8D39;&#xFF0C;MQ&#xFF0C;&#x524A;&#x5CF0;&#xFF0C;&#x89E3;&#x8026;&#xFF0C;&#x5F02;&#x6B65;&#x3002;&#x4F46;&#x662F;&#x80FD;&#x89E3;&#x51B3;&#x7684;&#x77AC;&#x65F6;&#x6D41;&#x91CF;&#x4E5F;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x6700;&#x5927;&#x503C;&#x3002;</p>
</li>
<li><p>&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x9650;&#x5236;&#x603B;&#x7684;&#x5E76;&#x53D1;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x6BCF;&#x79D2;&#x949F;&#x53EA;&#x80FD;&#x8BF7;&#x6C42;100&#x6B21;&#xFF0C;&#x662F;&#x9650;&#x5236;&#x603B;&#x5E76;&#x53D1;&#x91CF;&#x3002;&#x901A;&#x5E38;&#x53EF;&#x7528;redis&#x7F13;&#x5B58;&#xFF0C;&#x8BF7;&#x6C42;&#x589E;&#x52A0;incr&#x6765;&#x5B9E;&#x73B0;&#x3002;</p>
</li>
</ul>
<p>&#x91C7;&#x7528;&#xFF1A;Google&#x5F00;&#x6E90;&#x5DE5;&#x5177;&#x5305;Guava&#x63D0;&#x4F9B;&#x4E86;&#x9650;&#x6D41;&#x5DE5;&#x5177;&#x7C7B;RateLimiter&#xFF0C;&#x8BE5;&#x7C7B;&#x57FA;&#x4E8E;&#x4EE4;&#x724C;&#x6876;&#x7B97;&#x6CD5;&#x6765;&#x5B8C;&#x6210;&#x9650;&#x6D41;&#xFF0C;&#x975E;&#x5E38;&#x6613;&#x4E8E;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="&#x964D;&#x7EA7;"><a href="#&#x964D;&#x7EA7;" class="headerlink" title="&#x964D;&#x7EA7;"></a>&#x964D;&#x7EA7;</h2><p>&#x5F53;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x8005;&#x4F7F;&#x7528;&#x540C;&#x6B65;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x5927;&#x91CF;&#x7684;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x5360;&#x7528;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#xFF0C;&#x4E00;&#x65E6;&#x7EBF;&#x7A0B;&#x8D44;&#x6E90;&#x88AB;&#x8017;&#x5C3D;&#xFF0C;<br>&#x670D;&#x52A1;&#x8C03;&#x7528;&#x8005;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#x4E5F;&#x5C06;&#x5904;&#x4E8E;&#x4E0D;&#x53EF;&#x7528;&#x72B6;&#x6001;&#xFF0C;&#x4E8E;&#x662F;&#x670D;&#x52A1;&#x96EA;&#x5D29;&#x6548;&#x5E94;&#x4EA7;&#x751F;&#x4E86;&#xFF01;<br>&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x6BD4;&#x5982;&#x8BF4;&#xFF1A;&#x5F53;&#x5931;&#x8D25;&#x4E86;&#x591A;&#x5C11;&#x6B21;&#x4E4B;&#x540E;&#xFF0C;</p>
<p>1&#xFF0C;&#x8D85;&#x65F6;&#x673A;&#x5236;<br>2&#xFF0C;&#x670D;&#x52A1;&#x9650;&#x6D41;<br>3&#xFF0C;&#x670D;&#x52A1;&#x7194;&#x65AD;<br>4&#xFF0C;&#x670D;&#x52A1;&#x964D;&#x7EA7;</p>
<p>&#x8D85;&#x65F6;&#x673A;&#x5236;<br>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x52A0;&#x5165;&#x8D85;&#x65F6;&#x673A;&#x5236;&#xFF0C;&#x4F8B;&#x5982;2s&#xFF0C;&#x90A3;&#x4E48;&#x8D85;&#x8FC7;2s&#x5C31;&#x4F1A;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x6837;&#x5C31;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x53EF;&#x4EE5;&#x6291;&#x5236;&#x6D88;&#x8D39;&#x8005;&#x8D44;&#x6E90;&#x8017;&#x5C3D;&#x7684;&#x95EE;&#x9898;</p>
<p>&#x670D;&#x52A1;&#x9650;&#x6D41;<br>&#x901A;&#x8FC7;&#x7EBF;&#x7A0B;&#x6C60;+&#x961F;&#x5217;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x901A;&#x8FC7;&#x4FE1;&#x53F7;&#x91CF;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x6BD4;&#x5982;&#x5546;&#x54C1;&#x8BC4;&#x8BBA;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x6700;&#x5927;&#x80FD;&#x540C;&#x65F6;&#x5904;&#x7406;10&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x961F;&#x5217;&#x5F85;&#x5904;&#x7406;5&#x4E2A;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x679C;&#x540C;&#x65F6;20&#x4E2A;&#x7EBF;&#x7A0B;&#x5230;&#x8FBE;&#x7684;&#x8BDD;&#xFF0C;&#x5176;&#x4E2D;&#x5C31;&#x6709;5&#x4E2A;&#x7EBF;&#x7A0B;&#x88AB;&#x9650;&#x6D41;&#x4E86;&#xFF0C;&#x5176;&#x4E2D;10&#x4E2A;&#x5148;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x53E6;&#x5916;5&#x4E2A;&#x5728;&#x961F;&#x5217;&#x4E2D;</p>
<p>&#x670D;&#x52A1;&#x7194;&#x65AD;<br>&#x8FD9;&#x4E2A;&#x7194;&#x65AD;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5BB6;&#x91CC;&#x7684;&#x7535;&#x95F8;&#x3002;<br>&#x5F53;&#x4F9D;&#x8D56;&#x7684;&#x670D;&#x52A1;&#x6709;&#x5927;&#x91CF;&#x8D85;&#x65F6;&#x65F6;&#xFF0C;&#x5728;&#x8BA9;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#x53BB;&#x8BBF;&#x95EE;&#x6839;&#x672C;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#xFF0C;&#x53EA;&#x4F1A;&#x65E0;&#x754F;&#x7684;&#x6D88;&#x8017;&#x73B0;&#x6709;&#x8D44;&#x6E90;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x4E86;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x4E3A;1s&#xFF0C;&#x5982;&#x679C;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x6709;&#x5927;&#x91CF;&#x8BF7;&#x6C42;&#x5728;1s&#x5185;&#x90FD;&#x5F97;&#x4E0D;&#x5230;&#x54CD;&#x5E94;&#xFF0C;&#x5C31;&#x610F;&#x5473;&#x7740;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x51FA;&#x73B0;&#x4E86;&#x5F02;&#x5E38;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x518D;&#x8BA9;&#x5176;&#x4ED6;&#x7684;&#x8BF7;&#x6C42;&#x53BB;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x7194;&#x65AD;&#x5668;&#x907F;&#x514D;&#x8D44;&#x6E90;&#x6D6A;&#x8D39;</p>
<p>&#x670D;&#x52A1;&#x964D;&#x7EA7;<br>&#x6709;&#x670D;&#x52A1;&#x7194;&#x65AD;&#xFF0C;&#x5FC5;&#x7136;&#x8981;&#x6709;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x3002;<br>&#x6240;&#x8C13;&#x964D;&#x7EA7;&#xFF0C;&#x5C31;&#x662F;&#x5F53;&#x67D0;&#x4E2A;&#x670D;&#x52A1;&#x7194;&#x65AD;&#x4E4B;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x5C06;&#x4E0D;&#x518D;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x6B64;&#x65F6;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x51C6;&#x5907;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x7684;fallback&#xFF08;&#x56DE;&#x9000;&#xFF09;&#x56DE;&#x8C03;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7F3A;&#x7701;&#x503C;&#x3002; &#x4F8B;&#x5982;&#xFF1A;(&#x5907;&#x7528;&#x63A5;&#x53E3;/&#x7F13;&#x5B58;/mock&#x6570;&#x636E;)&#xFF0C;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x867D;&#x7136;&#x670D;&#x52A1;&#x6C34;&#x5E73;&#x4E0B;&#x964D;&#xFF0C;&#x4F46;&#x597D;&#x6B79;&#x53EF;&#x7528;&#xFF0C;&#x6BD4;&#x76F4;&#x63A5;&#x6302;&#x6389;&#x8981;&#x5F3A;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x4E5F;&#x8981;&#x770B;&#x9002;&#x5408;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;</p>
]]></content>
    
    <summary type="html">
    
      高并发下保证可用性的三大神器，缓存，限流，降级
    
    </summary>
    
      <category term="高并发" scheme="https://muxiaobai.github.io/categories/%E9%AB%98%E5%B9%B6%E5%8F%91/"/>
    
    
      <category term="基础" scheme="https://muxiaobai.github.io/tags/%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>使用ELK分析日志</title>
    <link href="https://muxiaobai.github.io/2019/05/18/%E4%BD%BF%E7%94%A8ELK%E5%88%86%E6%9E%90%E6%97%A5%E5%BF%97/"/>
    <id>https://muxiaobai.github.io/2019/05/18/使用ELK分析日志/</id>
    <published>2019-05-18T23:35:47.000Z</published>
    <updated>2019-05-19T04:29:40.481Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.elastic.co/cn/elk-stack" target="_blank" rel="external">elk &#x5B98;&#x7F51;&#x4ECB;&#x7ECD;</a><br>&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF1A;<br>&#x5BF9;&#x4E8E;&#x65E5;&#x5FD7;&#x7B49;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x8BBF;&#x95EE;IP&#x6570;&#xFF0C;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x8BBF;&#x95EE;&#x6700;&#x591A;&#xFF0C;&#x7528;&#x6237;&#x91CF;&#x6700;&#x5927;&#xFF1B;<br>&#x7B80;&#x5355;&#x7684;&#x67B6;&#x6784;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528;filebeat&#x6765;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x3002;<br>&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x662F;&#xFF1A;&#x62C9;&#x53D6;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x5148;&#x901A;&#x8FC7;Logstash&#xFF08;tools&#xFF09;&#x628A;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#x5206;&#x6790;&#x51FA;&#x6765;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x51FA;&#x5230;ElasticSearch&#xFF08;data&#xFF09;&#x4E2D;&#x7136;&#x540E;&#x4F7F;&#x7528;kibaba&#x6765;&#x8FDB;&#x884C;&#x865A;&#x62DF;&#x5316;&#x7684;&#x5C55;&#x793A;&#xFF08;view&#xFF09;&#x3002;<br>&#x8FD8;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A;output&#x7684;&#x8F93;&#x51FA;&#x5230;&#x961F;&#x5217;&#x7F13;&#x5B58;&#x4E2D;&#x7B49;&#x3002;</p>
<h3 id="&#x4E3B;&#x8981;&#x6280;&#x672F;&#x624B;&#x6BB5;"><a href="#&#x4E3B;&#x8981;&#x6280;&#x672F;&#x624B;&#x6BB5;" class="headerlink" title="&#x4E3B;&#x8981;&#x6280;&#x672F;&#x624B;&#x6BB5;"></a>&#x4E3B;&#x8981;&#x6280;&#x672F;&#x624B;&#x6BB5;</h3><p>filebeat&#x3001;Logstash&#x3001;ElasticSearch&#x3001;Kibaba</p>
<h5 id="filebeat"><a href="#filebeat" class="headerlink" title="filebeat"></a>filebeat</h5><p>&#x901A;&#x5E38;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8FD0;&#x884C;&#x5728;&#x4E1A;&#x52A1;&#x5E94;&#x7528;&#x673A;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;<br>&#x7136;&#x540E;&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x628A;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;Logstash&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x6570;&#x636E;&#x76F4;&#x63A5;output&#x5230;ElasticSearch&#x5185;&#x3002;</p>
<p><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/filebeat.png" alt="ElasticSearch&#x63A7;&#x5236;&#x53F0;"></p>
<h5 id="Logstash"><a href="#Logstash" class="headerlink" title="Logstash"></a>Logstash</h5><p>Logstash&#x628A;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#xFF08;filter&#xFF09;&#x5904;&#x7406;&#xFF0C;&#x628A;&#x627E;&#x5230;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x8F93;&#x51FA;&#x5230;ElasticSearch,</p>
<h5 id="ElasticSearch"><a href="#ElasticSearch" class="headerlink" title="ElasticSearch"></a>ElasticSearch</h5><p>&#x4E0D;&#x7528;&#x591A;&#x8BB2;&#xFF0C;&#x5B58;&#x50A8;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7528;&#x7684;&#xFF0C;&#x57FA;&#x4E8E;Lucene&#xFF0C;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#x3002;&#x5728;&#x8FD9;&#x79CD;elk&#x4E2D;&#x5145;&#x5F53;&#x6570;&#x636E;&#x6E90;&#x3002;</p>
<h5 id="Kibaba"><a href="#Kibaba" class="headerlink" title="Kibaba"></a>Kibaba</h5><p>visual&#x5C55;&#x793A;</p>
<h3 id="&#x793A;&#x4F8B;-&#x4F7F;&#x7528;nginx&#x65E5;&#x5FD7;&#x6765;&#x64CD;&#x4F5C;&#xFF0C;&#x7B80;&#x5355;&#x7248;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;filebeat"><a href="#&#x793A;&#x4F8B;-&#x4F7F;&#x7528;nginx&#x65E5;&#x5FD7;&#x6765;&#x64CD;&#x4F5C;&#xFF0C;&#x7B80;&#x5355;&#x7248;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;filebeat" class="headerlink" title="&#x793A;&#x4F8B; &#x4F7F;&#x7528;nginx&#x65E5;&#x5FD7;&#x6765;&#x64CD;&#x4F5C;&#xFF0C;&#x7B80;&#x5355;&#x7248;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;filebeat"></a>&#x793A;&#x4F8B; &#x4F7F;&#x7528;nginx&#x65E5;&#x5FD7;&#x6765;&#x64CD;&#x4F5C;&#xFF0C;&#x7B80;&#x5355;&#x7248;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;filebeat</h3><p>&#x5B9A;&#x4E49;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x5728;<code>/c/ProgrmTool/dev/</code>&#x4E2D;</p>
<h5 id="&#x542F;&#x52A8;nginx"><a href="#&#x542F;&#x52A8;nginx" class="headerlink" title="&#x542F;&#x52A8;nginx"></a>&#x542F;&#x52A8;nginx</h5><p>&#x53C2;&#x8003;<a href="https://muxiaobai.github.io/2017/09/02/%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2%E4%B9%8Bnginx%E8%B4%9F%E8%BD%BD/">&#x5E94;&#x7528;&#x90E8;&#x7F72;&#x4E4B;nginx&#x8D1F;&#x8F7D;</a></p>
<p><code>/c/ProgrmTool/dev/ &gt;start nginx</code></p>
<p>nginx &#x4E2D;&#x7684;log_format&#x683C;&#x5F0F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</div><div class="line">                  &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</div><div class="line">                  &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</div></pre></td></tr></table></figure>
<p>&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5728;../logs/access.log</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">127.0.0.1 - - [19/May/2019:11:10:18 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&quot; &quot;-&quot;</div><div class="line">127.0.0.1 - - [19/May/2019:11:10:19 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://localhost/&quot; &quot;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&quot; &quot;-&quot;</div><div class="line">127.0.0.1 - - [19/May/2019:11:10:19 +0800] &quot;GET / HTTP/1.1&quot; 304 0 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&quot; &quot;-&quot;</div><div class="line">127.0.0.1 - - [19/May/2019:11:36:05 +0800] &quot;GET / HTTP/1.1&quot; 304 0 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&quot; &quot;-&quot;</div><div class="line">127.0.0.1 - - [19/May/2019:11:36:05 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://localhost/&quot; &quot;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&quot; &quot;-&quot;</div></pre></td></tr></table></figure>
<h5 id="&#x914D;&#x7F6E;-Logstash"><a href="#&#x914D;&#x7F6E;-Logstash" class="headerlink" title="&#x914D;&#x7F6E; Logstash"></a>&#x914D;&#x7F6E; Logstash</h5><p>&#x628A;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x914D;&#x7F6E;&#x5230;Logstash&#x4E2D;</p>
<p>&#x6D4B;&#x8BD5;&#xFF1A;<code>./logstash -e &apos;input {stdin 0} output {studout 0}&apos;</code><br>&#x4ECE;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x5165;&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#xFF0C;</p>
<p>&#x9A8C;&#x8BC1;grok&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF1A;<a href="https://grokdebug.herokuapp.com/" target="_blank" rel="external">https://grokdebug.herokuapp.com/</a></p>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"># Sample Logstash configuration for creating a simple</div><div class="line"># Beats -&gt; Logstash -&gt; Elasticsearch pipeline.</div><div class="line"></div><div class="line">input {</div><div class="line">        file {</div><div class="line">                path =&gt; &quot;C:/ProgramTool/dev/nginx/logs/access.log&quot;</div><div class="line">                type =&gt; &quot;nginx-access&quot;</div><div class="line">                start_position =&gt; &quot;beginning&quot;</div><div class="line">                #sincedb_path =&gt; &quot;/usr/local/logstash/sincedb&quot;</div><div class="line">        }</div><div class="line">}</div><div class="line"></div><div class="line">filter {</div><div class="line">        if [type] == &quot;nginx-access&quot; {</div><div class="line">                grok {</div><div class="line">                    patterns_dir =&gt; &quot;C:/ProgramTool/dev/logstash-6.7.0/patterns&quot;        #&#x8BBE;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x6B63;&#x5219;&#x8DEF;&#x5F84;</div><div class="line">                    match =&gt; {</div><div class="line">                        &quot;message&quot; =&gt; &quot;%{NGINXACCESS}&quot;</div><div class="line">                        #&#x4F7F;&#x7528;patterns&#x8DEF;&#x5F84;&#x4E0B;&#x6587;&#x4EF6;&#x5185;&#x90E8;&#x7684;&#x89E3;&#x6790;&#x540D;&#x5B57;</div><div class="line">                    }</div><div class="line">                }</div><div class="line">                date {</div><div class="line">                    match =&gt; [ &quot;log_timestamp&quot; , &quot;dd/MMM/YYYY:HH:mm:ss Z&quot; ]</div><div class="line">                }</div><div class="line">                urldecode {</div><div class="line">                    all_fields =&gt; true</div><div class="line">                }</div><div class="line">            #&#x628A;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;urldecode&#xFF08;&#x663E;&#x793A;&#x4E2D;&#x6587;&#xFF09;</div><div class="line">        }</div><div class="line">}</div><div class="line"></div><div class="line">output {</div><div class="line">        if [type] == &quot;nginx-access&quot; {</div><div class="line">            stdout {</div><div class="line">                codec    =&gt; rubydebug</div><div class="line">            }</div><div class="line">            # &#x8F93;&#x51FA;&#x5230;&#x63A7;&#x5236;&#x53F0;</div><div class="line">            elasticsearch {</div><div class="line">                    hosts =&gt; [&quot;127.0.0.1:9200&quot;]</div><div class="line">                    manage_template =&gt; true</div><div class="line">                    index =&gt; &quot;logstash-nginx-access-%{+YYYY-MM-dd}&quot;</div><div class="line">                    # &#x7D22;&#x5F15;&#x540D;&#x79F0;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>
<p>grok&#x53C2;&#x6570;&#x8BBE;&#x7F6E;<code>C:/ProgramTool/dev/logstash-6.7.0/patterns</code>&#x8DEF;&#x5F84;&#x4E0B;&#x8BBE;&#x7F6E;nginx&#x7684;&#x5339;&#x914D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NGINXACCESS %{IPORHOST:clientip} %{HTTPDUSER:ident} %{USER:auth} \[%{HTTPDATE:timestamp}\] &quot;(?:%{WORD:verb} %{NOTSPACE:request}(?: HTTP/%{NUMBER:httpversion})?|%{DATA:rawrequest})&quot; %{NUMBER:response} (?:%{NUMBER:bytes}|-) %{QS:referrer} %{QS:agent} %{QS:x_forwarded_for}</div></pre></td></tr></table></figure>
<p>&#x53C2;&#x8003;<a href="https://www.cnblogs.com/Orgliny/p/5592186.html" target="_blank" rel="external">grok&#x53C2;&#x6570;&#x8BBE;&#x7F6E;</a><br>&#x66F4;&#x591A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">URIPARM1 [A-Za-z0-9$.+!*&apos;|(){},~@#%&amp;/=:;_?\-\[\]]*</div><div class="line">URIPATH1 (?:/[A-Za-z0-9$.+!*&apos;(){},~:;=@#%&amp;_\- ]*)+</div><div class="line">URI1 (%{URIPROTO}://)?(?:%{USER}(?::[^@]*)?@)?(?:%{URIHOST})?(?:%{URIPATHPARAM})?</div><div class="line">NGINXACCESS %{IPORHOST:clientip} %{HTTPDUSER:ident} %{USER:auth} \[%{HTTPDATE:timestamp}\] &quot;(?:%{WORD:verb} %{NOTSPACE:request}(?: HTTP/%{NUMBER:httpversion})?|%{DATA:rawrequest})&quot; %{NUMBER:response} (?:%{NUMBER:bytes}|-) %{QS:referrer} %{QS:agent} %{QS:x_forwarded_for}</div><div class="line">DEMOACCESS %{IPORHOST:remote_addr} - (%{USERNAME:user}|-) \[%{HTTPDATE:log_timestamp}\] %{HOSTNAME:http_host} %{WORD:request_method} \&quot;%{URIPATH1:uri}\&quot; \&quot;%{URIPARM1:param}\&quot; %{BASE10NUM:http_status} (?:%{BASE10NUM:body_bytes_sent}|-) \&quot;(?:%{URI1:http_referrer}|-)\&quot; (%{BASE10NUM:upstream_status}|-) (?:%{HOSTPORT:upstream_addr}|-) (%{BASE16FLOAT:upstream_response_time}|-) (%{BASE16FLOAT:request_time}|-) (?:%{QUOTEDSTRING:user_agent}|-) \&quot;(%{IPV4:client_ip}|-)\&quot; \&quot;(%{WORD:x_forword_for}|-)\&quot;</div></pre></td></tr></table></figure></p>
<p>&#x4E0A;&#x9762;&#x7528;&#x5230;&#x6B63;&#x5219;&#x5207;&#x5272;&#x65E5;&#x5FD7;&#x7B49;&#x529F;&#x80FD;</p>
<p>&#x542F;&#x52A8;&#xFF1A;<code>./logstash -f ../config/logstash.conf &amp;</code><br><code>./logstash -f ../config/logstash.conf --path.data=C:/ProgramTool/dev/logstash-6.7.0/data</code><br>&#x5982;&#x679C;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;&#x8BDD;&#xFF0C;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6307;&#x5B9A;path.data</p>
<h5 id="&#x7B80;&#x5355;&#x7684;es&#x4E3B;&#x4ECE;"><a href="#&#x7B80;&#x5355;&#x7684;es&#x4E3B;&#x4ECE;" class="headerlink" title="&#x7B80;&#x5355;&#x7684;es&#x4E3B;&#x4ECE;"></a>&#x7B80;&#x5355;&#x7684;es&#x4E3B;&#x4ECE;</h5><p>master &#x9ED8;&#x8BA4;9200&#x7AEF;&#x53E3;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">http.cors.enabled: true</div><div class="line">http.cors.allow-origin: &quot;*&quot;</div><div class="line"></div><div class="line">cluster.name: muxiaobai-test</div><div class="line">node.name: master</div><div class="line">node.master: true</div><div class="line"></div><div class="line">network.host: 127.0.0.1</div></pre></td></tr></table></figure></p>
<p>slave-1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">cluster.name: muxiaobai-test</div><div class="line">node.name: slave-1</div><div class="line">#node.master: true</div><div class="line"></div><div class="line">network.host: 127.0.0.1</div><div class="line">http.port: 9500</div><div class="line"></div><div class="line">discovery.zen.ping.unicast.hosts: [&quot;127.0.0.1&quot;]</div></pre></td></tr></table></figure></p>
<p>slave-2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">cluster.name: muxiaobai-test</div><div class="line">node.name: slave-1</div><div class="line">#node.master: true</div><div class="line"></div><div class="line">network.host: 127.0.0.1</div><div class="line">http.port: 9400</div><div class="line"></div><div class="line">discovery.zen.ping.unicast.hosts: [&quot;127.0.0.1&quot;]</div></pre></td></tr></table></figure></p>
<h5 id="&#x4F7F;&#x7528;elastic-head-&#x56FE;&#x5F62;&#x5316;&#x5DE5;&#x5177;&#x67E5;&#x770B;&#x8FD0;&#x884C;&#x60C5;&#x51B5;"><a href="#&#x4F7F;&#x7528;elastic-head-&#x56FE;&#x5F62;&#x5316;&#x5DE5;&#x5177;&#x67E5;&#x770B;&#x8FD0;&#x884C;&#x60C5;&#x51B5;" class="headerlink" title="&#x4F7F;&#x7528;elastic-head &#x56FE;&#x5F62;&#x5316;&#x5DE5;&#x5177;&#x67E5;&#x770B;&#x8FD0;&#x884C;&#x60C5;&#x51B5;"></a>&#x4F7F;&#x7528;elastic-head &#x56FE;&#x5F62;&#x5316;&#x5DE5;&#x5177;&#x67E5;&#x770B;&#x8FD0;&#x884C;&#x60C5;&#x51B5;</h5><p><a href="https://github.com/mobz/elasticsearch-head" target="_blank" rel="external">elastic-head github</a><br>&#x9700;&#x8981;node&#x73AF;&#x5883;<br><code>npm install</code> <code>npm run start</code>&#x9ED8;&#x8BA4;9100&#x7AEF;&#x53E3; &#x8BBF;&#x95EE;<a href="http://127.0.0.1:9100" target="_blank" rel="external">http://127.0.0.1:9100</a></p>
<p><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/elasticsearch-init.png" alt="Logstash&#x65E5;&#x5FD7;&#x8FDB;&#x5165;ElasticSearch"></p>
<h5 id="&#x4F7F;&#x7528;kibaba"><a href="#&#x4F7F;&#x7528;kibaba" class="headerlink" title="&#x4F7F;&#x7528;kibaba"></a>&#x4F7F;&#x7528;kibaba</h5><p>&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;5601&#xFF0C;<a href="http://localhost:5601" target="_blank" rel="external">http://localhost:5601</a>,&#x628A;&#x5BF9;&#x5E94;&#x7684;&#x7D22;&#x5F15;&#x52A0;&#x8FDB;&#x53BB;&#x3002;</p>
<h4 id="&#x64CD;&#x4F5C;&#x5982;&#x4E0B;"><a href="#&#x64CD;&#x4F5C;&#x5982;&#x4E0B;" class="headerlink" title="&#x64CD;&#x4F5C;&#x5982;&#x4E0B;"></a>&#x64CD;&#x4F5C;&#x5982;&#x4E0B;</h4><p>&#x9996;&#x5148;&#x8BBF;&#x95EE; nginx &#xFF0C;&#x5730;&#x5740;&#xFF1A;<a href="http://localhost" target="_blank" rel="external">http://localhost</a></p>
<p>&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;Logstash&#x7A97;&#x53E3;&#x8F93;&#x51FA;&#x7684;&#x65E5;&#x5FD7;</p>
<p><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/logstash-nginx.png" alt="ElasticSearch&#x63A7;&#x5236;&#x53F0;"></p>
<p><a href="http://localhost:9100,&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x7684;&#x5185;&#x5BB9;" target="_blank" rel="external">http://localhost:9100,&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x7684;&#x5185;&#x5BB9;</a><br>&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<br><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/elasticsearch-header.png" alt="Logstash&#x65E5;&#x5FD7;&#x8FDB;&#x5165;ElasticSearch"><br>&#x5177;&#x4F53;&#x5207;&#x5206;&#x7684;&#x6570;&#x636E;<br><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/data1.png" alt="Logstash&#x65E5;&#x5FD7;&#x8FDB;&#x5165;ElasticSearch"></p>
<p><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/data2.png" alt="Logstash&#x65E5;&#x5FD7;&#x8FDB;&#x5165;ElasticSearch"></p>
<p>&#x521B;&#x5EFA;&#x4E86;&#x7D22;&#x5F15;&#x540E;&#xFF0C;<br><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/kibaba2.png" alt="Logstash&#x65E5;&#x5FD7;&#x8FDB;&#x5165;ElasticSearch"><br>&#x5728;kibaba&#x4E2D;&#x6709;&#x9ED8;&#x8BA4;&#x7684;&#x65F6;&#x95F4;&#x7EBF;&#xFF0C;&#x8BBF;&#x95EE;&#x6B21;&#x6570;&#xFF0C;&#x5373;&#x53EF;&#x5C55;&#x793A;<br><img src="/2019/05/18/&#x4F7F;&#x7528;ELK&#x5206;&#x6790;&#x65E5;&#x5FD7;/kibaba4.png" alt="Logstash&#x65E5;&#x5FD7;&#x8FDB;&#x5165;ElasticSearch"></p>
<h3 id="&#x4F7F;&#x7528;filebeat"><a href="#&#x4F7F;&#x7528;filebeat" class="headerlink" title="&#x4F7F;&#x7528;filebeat"></a>&#x4F7F;&#x7528;filebeat</h3><p><a href="https://www.elastic.co/guide/en/beats/filebeat/7.0/filebeat-module-nginx.html#nginx-settings" target="_blank" rel="external">nginx filebeat &#x914D;&#x7F6E;</a></p>
<p>&#x5DF2;&#x7ECF;&#x6709;&#x6A21;&#x677F;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5148;&#x5F00;&#x542F;&#xFF0C;&#x7136;&#x540E;&#x5B89;&#x88C5;&#xFF0C;&#x6700;&#x540E;&#x542F;&#x52A8;&#x5373;&#x53EF;</p>
<ul>
<li><code>filebeat  modules enable nginx</code></li>
<li><code>filebeat setup -e</code></li>
<li><code>filebeat</code></li>
<li></li>
</ul>
<p>nginx.yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- module: nginx</div><div class="line">  access:</div><div class="line">    enabled: true</div><div class="line">    var.paths: [&quot;C:/ProgramTool/dev/nginx/logs/access.log*&quot;]</div><div class="line">  error:</div><div class="line">    enabled: true</div><div class="line">    var.paths: [&quot;C:/ProgramTool/dev/nginx/logs/error.log*&quot;]</div></pre></td></tr></table></figure></p>
<p>&#x9ED8;&#x8BA4;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5230;ElasticSearch</p>
<p>&#x7136;&#x540E;&#x5728;Logstash&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x4F7F;&#x7528;beat&#x4F5C;&#x4E3A;input&#xFF0C;&#x8F93;&#x5165;&#x6E90;&#x3002;<br>&#x4E3B;&#x8981;&#x662F;input<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">input {</div><div class="line">  beats {</div><div class="line">    port =&gt; 5044</div><div class="line">    host =&gt; &quot;0.0.0.0&quot;</div><div class="line">  }</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>logstash.conf &#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x5C31;&#x662F;&#x4ECE;beat&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x7684;</p>
<p>&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><a href="https://www.cnblogs.com/aresxin/p/8035137.html" target="_blank" rel="external">ELK&#x7CFB;&#x7EDF;&#x6846;&#x67B6;&#x56FE;</a></li>
<li><a href="https://www.colabug.com/2936270.html" target="_blank" rel="external">filebeat&#x548C;Logstash&#x914D;&#x5408;&#x4F7F;&#x7528;</a></li>
<li><a href="https://github.com/elastic/logstash/blob/88563c86435926a8e5353bd970f92ab61efe58ec/docs/static/filebeat_modules/nginx/pipeline.conf" target="_blank" rel="external">&#x5B98;&#x7F51; Logstash&#x4E2D;&#x7684;beat nginx &#x914D;&#x7F6E;</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      日志分析系统搭建
    
    </summary>
    
      <category term="工具" scheme="https://muxiaobai.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="分析" scheme="https://muxiaobai.github.io/tags/%E5%88%86%E6%9E%90/"/>
    
      <category term="日志" scheme="https://muxiaobai.github.io/tags/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>Linux 基础命令总结4</title>
    <link href="https://muxiaobai.github.io/2019/04/01/Linux-%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%934/"/>
    <id>https://muxiaobai.github.io/2019/04/01/Linux-基础命令总结4/</id>
    <published>2019-04-01T05:19:12.000Z</published>
    <updated>2019-04-10T08:29:39.872Z</updated>
    
    <content type="html"><![CDATA[<h4 id="shell-&#x5E38;&#x7528;&#x5FEB;&#x6377;&#x952E;"><a href="#shell-&#x5E38;&#x7528;&#x5FEB;&#x6377;&#x952E;" class="headerlink" title="shell &#x5E38;&#x7528;&#x5FEB;&#x6377;&#x952E;"></a>shell &#x5E38;&#x7528;&#x5FEB;&#x6377;&#x952E;</h4><p><a href="https://blog.csdn.net/weixin_42256178/article/details/80392077" target="_blank" rel="external">&#x5E38;&#x7528;shell&#x5FEB;&#x6377;&#x952E;</a></p>
<ul>
<li>ctrl + a &#x547D;&#x4EE4;&#x884C;&#x9996;</li>
<li>ctrl + e &#x547D;&#x4EE4;&#x884C;&#x5C3E;&#xFF08;end&#xFF09;</li>
<li>ctrl + b &#x76F8;&#x5F53;&#x4E8E;&#x65B9;&#x5411;&#x952E;&#x5DE6;&#x2190;&#xFF08;&#xFF09;</li>
<li>ctrl + f &#x76F8;&#x5F53;&#x4E8E;&#x65B9;&#x5411;&#x952E;&#x53F3;&#x2192;</li>
<li></li>
<li>ctrl + u &#x526A;&#x5207;&#x5149;&#x6807;&#x5230;&#x884C;&#x9996;</li>
<li>ctrl + k &#x526A;&#x5207;&#x5149;&#x6807;&#x5230;&#x884C;&#x5C3E;</li>
<li>ctrl + w &#x526A;&#x5207;&#x5149;&#x6807;&#x524D;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;</li>
<li>ctrl + y &#x7C98;&#x8D34;&#x4E0A;&#x9762;&#x4E09;&#x4E2A;&#x7684;&#x590D;&#x5236;</li>
<li>ctrl + z &#x6302;&#x8D77;&#x5F53;&#x524D;&#x547D;&#x4EE4; jobs bg fg  &#x5524;&#x9192;</li>
<li></li>
<li>ctrl + r &#x641C;&#x7D22;&#x4E4B;&#x524D;&#x7684;&#x547D;&#x4EE4;</li>
<li>ctrl + g &#x53D6;&#x6D88;&#x641C;&#x7D22;<br>-</li>
<li>ctrl + s &#x9501;&#x5C4F;&#xFF0C;&#x6302;&#x8D77;&#x5F53;&#x524D;shell</li>
<li>ctrl + q &#x53D6;&#x6D88;&#x9501;&#x5C4F;&#xFF0C;&#x91CD;&#x65B0;&#x542F;&#x7528;&#x5F53;&#x524D;shell</li>
<li><p>ctrl + l clear &#x6E05;&#x5C4F;</p>
</li>
<li><p>ctrl + insert &#x63D2;&#x5165;</p>
</li>
</ul>
<h4 id="&#x5176;&#x4ED6;&#x5E38;&#x7528;&#x547D;&#x4EE4;"><a href="#&#x5176;&#x4ED6;&#x5E38;&#x7528;&#x547D;&#x4EE4;" class="headerlink" title="&#x5176;&#x4ED6;&#x5E38;&#x7528;&#x547D;&#x4EE4;"></a>&#x5176;&#x4ED6;&#x5E38;&#x7528;&#x547D;&#x4EE4;</h4><ul>
<li>ps -ef | grep tomcat </li>
<li>ps -aux | sort -k4nr |head -h 10 &#x5185;&#x5B58;&#x524D;&#x5341;&#x7684;&#x8FDB;&#x7A0B;</li>
<li>du -sh *   &#x5F53;&#x524D;&#x8DEF;&#x5F84;&#xFF08;disk usage&#xFF09;</li>
<li>df -hP  &#x6574;&#x4E2A;&#x78C1;&#x76D8;&#xFF08;disk free&#xFF09;</li>
<li>crontab -l &#x5B9A;&#x65F6;&#x4EFB;&#x52A1;</li>
<li>tail -f /root/file.log &#x67E5;&#x770B;&#x5B9E;&#x65F6;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</li>
<li>free -h &#x67E5;&#x8BE2;&#x5185;&#x5B58;&#x6587;&#x4EF6;</li>
<li>/var/log/messages &#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#xFF0C;</li>
<li>service /etc/init.d  &#x542F;&#x52A8;&#x811A;&#x672C;&#x4F4D;&#x7F6E;</li>
</ul>
]]></content>
    
    <summary type="html">
    
      shell快捷件键，常用命令
    
    </summary>
    
      <category term="Linux" scheme="https://muxiaobai.github.io/categories/Linux/"/>
    
    
      <category term="基础命令" scheme="https://muxiaobai.github.io/tags/%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>性能优化之redis储存计算值</title>
    <link href="https://muxiaobai.github.io/2019/02/16/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8Bredis%E5%82%A8%E5%AD%98%E8%AE%A1%E7%AE%97%E5%80%BC/"/>
    <id>https://muxiaobai.github.io/2019/02/16/性能优化之redis储存计算值/</id>
    <published>2019-02-16T04:17:43.000Z</published>
    <updated>2019-02-16T05:01:42.160Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x95EE;&#x9898;"><a href="#&#x95EE;&#x9898;" class="headerlink" title="&#x95EE;&#x9898;"></a>&#x95EE;&#x9898;</h2><p>&#x4E24;&#x5F20;&#x8868;&#xFF0C;&#x4E00;&#x4E2A;&#x4E3B;&#x8868;&#xFF0C;&#x4E00;&#x4E2A;&#x6811;&#x5F62;&#x7ED3;&#x6784;&#x8868;&#xFF0C;</p>
<p>&#x6BCF;&#x4E00;&#x6761;&#x6811;&#x5F62;&#x7ED3;&#x6784;&#x6570;&#x636E;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#xFF0C;&#x8981;&#x7EDF;&#x8BA1;&#x51FA;&#x6240;&#x6709;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5C55;&#x793A;&#x5728;&#x4E3B;&#x8868;&#x7684;&#x5217;&#x4E0A;&#xFF0C;&#x524D;&#x671F;&#x4F7F;&#x7528;&#x4E86;oracle&#x7684;<code>start connect</code>&#x7EDF;&#x8BA1;&#x6839;&#x8282;&#x70B9;&#xFF0C;&#x5728;&#x524D;&#x671F;&#x4E3B;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5C0F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5217;&#x8868;&#x4EF7;&#x5728;&#x6B63;&#x5E38;&#xFF0C;&#x540E;&#x671F;&#x6570;&#x636E;&#x91CF;&#x589E;&#x5927;&#xFF0C;&#x5217;&#x8868;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x5F02;&#x5E38;&#x3002;&#x540E;&#x7ECF;&#x8FC7;&#x5206;&#x6790;&#xFF0C;&#x5F97;&#x51FA;&#x6BCF;&#x4E00;&#x6761;&#x6839;&#x8282;&#x70B9;&#x5FAA;&#x73AF;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;600ms&#x5DE6;&#x53F3;&#xFF0C;&#x7136;&#x540E;&#x6570;&#x636E;&#x589E;&#x5927;&#x76F4;&#x63A5;&#x662F;&#x4E3B;&#x8868;&#x7684;600ms*n&#x3002;</p>
<p>&#x6811;&#x5F62;&#x7ED3;&#x6784;&#x8D85;&#x8FC7;&#x4E09;&#x7EA7;&#xFF0C;&#x524D;&#x4E24;&#x7EA7;&#x7ED3;&#x6784;&#x8D85;&#x8FC7;50&#x6761;&#x8BB0;&#x5F55;&#xFF0C;</p>
<h2 id="&#x4F18;&#x5316;&#x8DEF;&#x601D;&#x8DEF;&#xFF1A;"><a href="#&#x4F18;&#x5316;&#x8DEF;&#x601D;&#x8DEF;&#xFF1A;" class="headerlink" title="&#x4F18;&#x5316;&#x8DEF;&#x601D;&#x8DEF;&#xFF1A;"></a>&#x4F18;&#x5316;&#x8DEF;&#x601D;&#x8DEF;&#xFF1A;</h2><p>redis&#x4F18;&#x5316;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x79CD;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x6267;&#x884C;&#x7B2C;&#x4E00;&#x6B21;,&#x968F;&#x540E;&#x518D;&#x6B21;&#x67E5;&#x8BE2;&#x5217;&#x8868;&#x7684;&#x65F6;&#x5019;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x83B7;&#x53D6;&#xFF0C;&#x51CF;&#x5C11;&#x8BA1;&#x7B97;&#x6B21;&#x6570;&#x3002;</p>
<h2 id="&#x89E3;&#x51B3;&#x65B9;&#x6CD5;"><a href="#&#x89E3;&#x51B3;&#x65B9;&#x6CD5;" class="headerlink" title="&#x89E3;&#x51B3;&#x65B9;&#x6CD5;"></a>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;</h2><h4 id="&#x67E5;&#x8BE2;"><a href="#&#x67E5;&#x8BE2;" class="headerlink" title="&#x67E5;&#x8BE2;"></a>&#x67E5;&#x8BE2;</h4><p>&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x5148;&#x4ECE;redis&#x4E2D;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#xFF1B;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;&#x518D;&#x67E5;&#x6570;&#x636E;&#x5E93;&#xFF0C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">//&#x67E5;&#x8BE2;&#x72B6;&#x6001;,&#x6709;num&#x76F4;&#x63A5;&#x8FD4;&#x56DE;:</div><div class="line"></div><div class="line">if(Redis.isCached(key, FORP.SPRING_CONTEXT.getBean(&quot;applicationPool&quot;, JedisPool.class))){</div><div class="line">	return Integer.parseInt(Redis.getString(key, FORP.SPRING_CONTEXT.getBean(&quot;applicationPool&quot;, JedisPool.class)));</div><div class="line">}</div><div class="line"></div><div class="line">//&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x7ED3;&#x679C;</div><div class="line">String sql =  &quot; select count(*) as num &quot;</div><div class="line">			+ &quot; from pre_dutysubitem t1 ,pre_dutyitem t2 &quot;</div><div class="line">			+ &quot; where t2.fk_dutyid = ?  &quot;</div><div class="line">			+ &quot; and (select  count(*) from pre_dutysubitem t3 &quot;</div><div class="line">			+ &quot; start with t3.id = t1.id &quot;</div><div class="line">			+ &quot; connect by prior t3.id =t3.fk_parentid ) = 1 &quot;</div><div class="line">			+ &quot; and t2.id=t1.fk_dutyitemid and t1.currstatus is not null &quot;;</div><div class="line">SqlRowSet rs = null;</div><div class="line"></div><div class="line">//&#x5982;&#x679C;currStatus&#x6CA1;&#x503C;&#x67E5;&#x7EDF;&#x8BA1;&#x5168;&#x90E8;&#x5B50;&#x9879;&#x6570;&#x91CF;&#xFF0C;&#x5426;&#x5219;&#x6309;&#x72B6;&#x6001;&#x7EDF;&#x8BA1;</div><div class="line">if(StringUtils.isNotBlank(currStatus)){</div><div class="line">	sql+=&quot; and t1.currstatus = ?  &quot;;</div><div class="line">	rs = jdbc.queryForRowSet(sql, dutyId, currStatus);</div><div class="line">}else{</div><div class="line">	rs = jdbc.queryForRowSet(sql, dutyId);</div><div class="line">}</div><div class="line">int num = 0;</div><div class="line">while(rs.next()){</div><div class="line">	num =rs.getInt(&quot;num&quot;);</div><div class="line">}</div><div class="line">//&#x7F13;&#x5B58;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;</div><div class="line">Redis.cacheString(key, String.valueOf(num), FORP.SPRING_CONTEXT.getBean(&quot;applicationPool&quot;, JedisPool.class));</div><div class="line"></div><div class="line">return num;</div></pre></td></tr></table></figure>
<h4 id="&#x4FEE;&#x6539;&#x72B6;&#x6001;"><a href="#&#x4FEE;&#x6539;&#x72B6;&#x6001;" class="headerlink" title="&#x4FEE;&#x6539;&#x72B6;&#x6001;"></a>&#x4FEE;&#x6539;&#x72B6;&#x6001;</h4><p>&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5148;&#x5220;&#x9664;redis&#x7F13;&#x5B58;&#xFF0C;&#x518D;&#x66F4;&#x6539;&#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x521A;&#x5220;&#x9664;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x8FD8;&#x6CA1;&#x6765;&#x5F97;&#x53CA;&#x66F4;&#x6539;&#xFF0C;&#x53C8;&#x6709;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#xFF0C;&#x5BFC;&#x81F4;redis&#x7F13;&#x5B58;&#x810F;&#x6570;&#x636E;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//&#x66F4;&#x65B0;&#x6570;&#x636E;&#x72B6;&#x6001;</div><div class="line">//&#x5220;&#x9664;&#x7F13;&#x5B58;&#x72B6;&#x6001;&#xFF1A;</div><div class="line"></div><div class="line">Redis.delete(key, FORP.SPRING_CONTEXT.getBean(&quot;applicationPool&quot;, JedisPool.class));</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      redis存储值解决性能问题
    
    </summary>
    
      <category term="性能优化" scheme="https://muxiaobai.github.io/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
    
      <category term="redis" scheme="https://muxiaobai.github.io/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>2018年个人总结</title>
    <link href="https://muxiaobai.github.io/2019/01/15/2018%E5%B9%B4%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93/"/>
    <id>https://muxiaobai.github.io/2019/01/15/2018年个人总结/</id>
    <published>2019-01-15T04:19:28.000Z</published>
    <updated>2019-02-16T04:58:26.378Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x5DE5;&#x4F5C;&#xFF0C;&#x4E2A;&#x4EBA;&#x6280;&#x80FD;"><a href="#&#x5DE5;&#x4F5C;&#xFF0C;&#x4E2A;&#x4EBA;&#x6280;&#x80FD;" class="headerlink" title="&#x5DE5;&#x4F5C;&#xFF0C;&#x4E2A;&#x4EBA;&#x6280;&#x80FD;"></a>&#x5DE5;&#x4F5C;&#xFF0C;&#x4E2A;&#x4EBA;&#x6280;&#x80FD;</h2><h4 id="&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x65B0;&#x5DE5;&#x5177;"><a href="#&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x65B0;&#x5DE5;&#x5177;" class="headerlink" title="&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x65B0;&#x5DE5;&#x5177;"></a>&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x65B0;&#x5DE5;&#x5177;</h4><ul>
<li>&#x81EA;&#x5DF1;&#x524D;&#x671F;&#x5BF9;&#x4E00;&#x4E9B;node&#x7B49;&#x547D;&#x4EE4;&#x4E86;&#x89E3;&#x4E00;&#x4E9B;&#xFF0C;&#x73B0;&#x5728;&#x901A;&#x8FC7;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x66F4;&#x52A0;&#x719F;&#x6089;&#xFF0C;&#x50CF;node&#x3001; npm&#x3001;yarn&#x3001;vs code &#x7B49;&#x5DE5;&#x5177;&#x3002;&#x4F7F;&#x7528;electron&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5728;win&#x548C;mac&#x5E73;&#x53F0;&#x4E0A;&#x6253;&#x5305;&#x6210;&#x7A0B;&#x5E8F;&#x3002;</li>
<li>Hbuilder&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x6253;&#x5305;&#x6210;Android&#x548C;ios&#x4E0A;&#x7684;&#x5E94;&#x7528;&#x3002;</li>
<li>MongoDB redis&#x7B49;&#x57FA;&#x672C;&#x547D;&#x4EE4;&#xFF1B;&#x4E4B;&#x524D;&#x4E5F;&#x60F3;&#x7740;&#x770B;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x662F;&#x4E86;&#x89E3;&#x5230;&#x4E00;&#x70B9;&#x513F;&#x5185;&#x5BB9;&#xFF0C;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x628A;&#x63E1;&#xFF0C;&#x73B0;&#x5728;&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;&#x90FD;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x719F;&#x6089;&#x4E86;&#x3002;</li>
<li>&#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x57FA;&#x672C;&#x5B9E;&#x73B0;&#x811A;&#x672C;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x4FDD;&#x7559;&#x539F;&#x59CB;&#x5907;&#x4EFD;&#x5E94;&#x7528;&#xFF0C;&#x4E4B;&#x524D;&#x4E00;&#x76F4;&#x90FD;&#x5728;&#x5199;&#xFF0C;&#x540E;&#x6765;&#x56E0;&#x4E3A;window server&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x4E2D;&#x65AD;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x53C8;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#xFF0C;&#x80AF;&#x5B9A;&#x8981;&#x628A;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x77E5;&#x8BC6;&#x62FE;&#x8D77;&#x6765;&#xFF0C;&#x6DF1;&#x5165;&#x4E00;&#x4E0B;&#x4E86;&#x3002;</li>
<li>&#x6768;&#x767E;&#x7FF0;Coca&#x8BED;&#x6599;&#x5E93;&#x7F51;&#x7AD9;&#x4F7F;&#x7528;&#xFF0C;antconc&#x8BED;&#x6599;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;&#x5982;&#x679C;&#x5DE5;&#x4F5C;&#x4E0A;&#x4E5F;&#x51FA;&#x73B0;&#x8FD9;&#x79CD;&#x6CA1;&#x6709;&#x63A5;&#x89E6;&#x8FC7;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F; </li>
</ul>
<h4 id="&#x5982;&#x4F55;&#x63A5;&#x89E6;&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x5B66;&#x4E60;&#x65B0;&#x5DE5;&#x5177;"><a href="#&#x5982;&#x4F55;&#x63A5;&#x89E6;&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x5B66;&#x4E60;&#x65B0;&#x5DE5;&#x5177;" class="headerlink" title="&#x5982;&#x4F55;&#x63A5;&#x89E6;&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x5B66;&#x4E60;&#x65B0;&#x5DE5;&#x5177;"></a>&#x5982;&#x4F55;&#x63A5;&#x89E6;&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x5B66;&#x4E60;&#x65B0;&#x5DE5;&#x5177;</h4><p>&#x65B0;&#x4E8B;&#x7269;&#x3001;&#x65B0;&#x5DE5;&#x5177;&#x8FD9;&#x7C7B;&#x53EF;&#x4EE5;&#x7EDF;&#x79F0;&#x4E3A;&#x201C;&#x6211;&#x7684;&#x672A;&#x77E5;&#x4E16;&#x754C;&#x201D;&#x3001;&#x201C;&#x6211;&#x7684;&#x76F2;&#x533A;&#x201D;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E09;&#x7C7B;&#xFF0C;&#x4E00;&#x7C7B;&#x662F;&#x77E5;&#x9053;&#xFF0C;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528;&#x8FC7;&#xFF0C;&#x6CA1;&#x6709;&#x6DF1;&#x5165;&#x7814;&#x7A76;&#xFF0C;&#x53C2;&#x52A0;&#x4F7F;&#x7528;&#x82F1;&#x8BED;&#x8BED;&#x79CD;&#x8BA8;&#x8BBA;&#xFF1B;&#x7B2C;&#x4E8C;&#x7C7B;&#x662F;&#x542C;&#x8BF4;&#x8FC7;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x8FC7;&#xFF0C;&#x8FD9;&#x7C7B;&#x548C;&#x7B2C;&#x4E09;&#x7C7B;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF0C;&#x53C2;&#x52A0;&#x4F7F;&#x7528;&#xFF0C;&#x65E5;&#x8BED;&#x97E9;&#x8BED;&#x5FB7;&#x8BED;&#x7B49;&#x8BED;&#x79CD;&#x7814;&#x8BA8;&#xFF0C;&#x7B2C;&#x4E09;&#x7C7B;&#x662F;&#x542C;&#x90FD;&#x6CA1;&#x6709;&#x542C;&#x8BF4;&#x8FC7;&#xFF0C;&#x8FD9;&#x79CD;&#x662F;&#x6709;&#x5F88;&#x5927;&#x7684;&#x4E13;&#x4E1A;&#x6027;&#x58C1;&#x5792;&#xFF0C;&#x7C7B;&#x4F3C;&#x53BB;&#x53C2;&#x52A0;&#x4E00;&#x573A;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7684;&#x7814;&#x8BA8;&#xFF1B;</p>
<p>&#x660E;&#x786E;&#x4E00;&#x70B9;&#x7684;&#x662F;&#x9996;&#x5148;&#x8981;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x662F;&#x505A;&#x4EC0;&#x4E48;&#x7528;&#x7684;&#xFF1F;&#x51FA;&#x73B0;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x80AF;&#x5B9A;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x80CC;&#x666F;&#x7684;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x51FA;&#x73B0;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x539F;&#x56E0;&#xFF0C;&#x7136;&#x540E;&#x627E;&#x4E00;&#x4E0B;&#x6709;&#x6CA1;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7684;&#x7406;&#x5FF5;&#x6027;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x540C;&#x4E00;&#x7C7B;&#x5DE5;&#x5177;&#xFF0C;&#x662F;&#x89E3;&#x51B3;&#x540C;&#x4E00;&#x7C7B;&#x95EE;&#x9898;&#xFF0C;&#xFF0C;&#x80CC;&#x540E;&#x4F1A;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x539F;&#x7406;&#x6027;&#x7684;&#x4E1C;&#x897F;&#x5B58;&#x5728;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x4E1C;&#x897F;&#x628A;&#x63E1;&#x4F4F;&#x4E86;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x80FD;&#x628A;&#x63E1;&#x4E3B;&#x65E8;&#x3002;</p>
<p>&#x6700;&#x6B21;&#x4E00;&#x7EA7;&#x7684;&#x662F;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF1F;&#x4F46;&#x8FD9;&#x4E2A;&#x4E5F;&#x662F;&#x6700;&#x5B9E;&#x7528;&#x7684;&#x4E00;&#x70B9;&#x3002;&#x5177;&#x4F53;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x5728;&#x5177;&#x4F53;&#x7528;&#x7684;&#x65F6;&#x5019;&#x518D;&#x53BB;&#x7814;&#x7A76;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x8282;&#x7701;&#x65F6;&#x95F4;&#xFF1B;&#x4EBA;&#x7684;&#x7CBE;&#x529B;&#x662F;&#x6709;&#x9650;&#x7684;&#xFF0C;&#x4E4B;&#x524D;&#x4E00;&#x4F4D;&#x8001;&#x5E08;&#x548C;&#x6211;&#x8FD9;&#x4E48;&#x8BB2;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x8FD8;&#x603B;&#x89C9;&#x5F97;&#x65E0;&#x6240;&#x8C13;&#xFF0C;&#x6211;&#x7684;&#x7CBE;&#x529B;&#x65E0;&#x9650;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x770B;&#x6765;&#xFF0C;&#x8BE5;&#x542C;&#x7684;&#x8BDD;&#x8FD8;&#x662F;&#x8981;&#x542C;&#x4E00;&#x4E0B;&#x7684;&#xFF0C;&#x628A;&#x65F6;&#x95F4;&#x7528;&#x5728;&#x6700;&#x9700;&#x8981;&#x7814;&#x7A76;&#x7684;&#x5730;&#x65B9;&#x3002;</p>
<blockquote>
<p>&#x6700;&#x540E;&#x4E00;&#x6761;&#xFF0C;&#x7F51;&#x7EDC;&#x5982;&#x6B64;&#x53D1;&#x8FBE;&#xFF0C;&#x8C37;&#x6B4C;&#x767E;&#x5EA6;&#x4E3A;&#x4F55;&#x4E0D;&#x7528;&#xFF1F;&#x8001;&#x5E08;&#x5728;&#x4F60;&#x8EAB;&#x8FB9;&#xFF0C;&#x600E;&#x80FD;&#x4E0D;&#x597D;&#x597D;&#x5B66;&#x4E60;&#x3002;</p>
<p>&#x65B9;&#x6CD5;&#x8BBA;&#x6BD4;&#x65B9;&#x6CD5;&#x66F4;&#x91CD;&#x8981;&#x3002;</p>
</blockquote>
<h4 id="&#x8BA1;&#x5212;&#x6027;&#x3001;&#x628A;&#x63A7;&#x65B9;&#x9762;"><a href="#&#x8BA1;&#x5212;&#x6027;&#x3001;&#x628A;&#x63A7;&#x65B9;&#x9762;" class="headerlink" title="&#x8BA1;&#x5212;&#x6027;&#x3001;&#x628A;&#x63A7;&#x65B9;&#x9762;"></a>&#x8BA1;&#x5212;&#x6027;&#x3001;&#x628A;&#x63A7;&#x65B9;&#x9762;</h4><p>&#x5206;&#x4E24;&#x90E8;&#x5206;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x5BF9;&#x6574;&#x4F53;&#x7684;&#x9879;&#x76EE;&#x89C4;&#x5212;&#x6027;</p>
<p>&#x8BA1;&#x5212;&#x6027;&#x8BA4;&#x77E5;&#xFF0C;&#x6BD4;&#x4E4B;&#x524D;&#x6709;&#x5F88;&#x5927;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x6700;&#x5F00;&#x59CB;&#x5728;&#x5B66;&#x6821;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x867D;&#x7136;&#x4E5F;&#x662F;&#x5E26;&#x9879;&#x76EE;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x6574;&#x4F53;&#x89C4;&#x5212;&#xFF0C;&#x6574;&#x4F53;&#x5230;&#x4EC0;&#x4E48;&#x9636;&#x6BB5;&#xFF0C;&#x8981;&#x505A;&#x5230;&#x4EC0;&#x4E48;&#x4E8B;&#x60C5;&#xFF0C;&#x8981;&#x7ED9;&#x5BA2;&#x6237;&#x5C55;&#x793A;&#x4EC0;&#x4E48;&#x5185;&#x5BB9;&#xFF0C;&#x7F3A;&#x4E4F;&#x8BA4;&#x8BC6;&#xFF1B;&#x53EA;&#x662F;&#x4E00;&#x5473;&#x7684;&#x5F80;&#x524D;&#x505A;&#xFF0C;&#x6CA1;&#x6709;&#x7ED9;&#x5BA2;&#x6237;&#x4E00;&#x4E2A;&#x5B89;&#x5FC3;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#x505A;&#x4EC0;&#x4E48;&#x4E1C;&#x897F;&#x4E86;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x7ED9;&#x5BA2;&#x6237;&#x3002;&#x8FD9;&#x6837;&#x5BA2;&#x6237;&#x7684;&#x611F;&#x89C9;&#x5C31;&#x662F;&#x5F88;&#x968F;&#x610F;&#xFF0C;&#x770B;&#x5230;&#x4EC0;&#x4E48;&#x5C31;&#x505A;&#x4EC0;&#x4E48;&#x3002;</p>
<p>&#x4E8C;&#x662F;&#x5BF9;&#x4EFB;&#x52A1;&#x7684;&#x628A;&#x63A7;&#x65B9;&#x9762;</p>
<p>&#x80FD;&#x591F;&#x628A;&#x4EFB;&#x52A1;&#x8FDB;&#x884C;&#x5206;&#x89E3;&#xFF0C;&#x5206;&#x6A21;&#x5757;&#xFF0C;&#x6309;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x53EF;&#x4EE5;&#x5927;&#x81F4;&#x9884;&#x4F30;&#x4EFB;&#x52A1;&#x7684;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x9884;&#x8BA1;&#x7684;&#x4EBA;&#x5929;,&#x8FD9;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x63D0;&#x5347;&#x6700;&#x5927;&#x7684;&#x8F6F;&#x6280;&#x80FD;&#xFF0C;&#x4E0A;&#x4E00;&#x4EFD;&#x5DE5;&#x4F5C;&#x4E2D;&#xFF0C;&#x53EA;&#x662F;&#x5BF9;&#x81EA;&#x5DF1;&#x80FD;&#x529B;&#x7684;&#x9884;&#x4F30;&#xFF0C;&#x6162;&#x6162;&#x7684;&#x638C;&#x63E1;&#x4F4F;&#x65B9;&#x6CD5;&#xFF1B;&#x4EFB;&#x52A1;&#x590D;&#x6742;&#x6216;&#x8005;&#x7B80;&#x5355;&#xFF0C;&#x548C;&#x8D1F;&#x8D23;&#x4EBA;&#x8BF4;&#x6709;&#x591A;&#x5C11;&#x5185;&#x5BB9;&#xFF0C;&#x6162;&#x6162;&#x7684;&#x81EA;&#x5DF1;&#x5C31;&#x6709;&#x4E86;&#x4E00;&#x70B9;&#x611F;&#x89C9;&#xFF0C;&#x5728;&#x5BF9;&#x522B;&#x4EBA;&#x7684;&#x65F6;&#x95F4;&#x628A;&#x63A7;&#x65B9;&#x9762;&#x4E5F;&#x6709;&#x4E86;&#x63D0;&#x5347;&#xFF0C;&#x8FD9;&#x70B9;&#x8FD8;&#x8981;&#x901A;&#x8FC7;&#x770B;&#x522B;&#x4EBA;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x9010;&#x6E10;&#x5EFA;&#x7ACB;&#x8D77;&#x6765;&#x7684;&#x4F53;&#x7CFB;&#x3002;</p>
<h4 id="&#x5206;&#x6790;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x95EE;&#x9898;"><a href="#&#x5206;&#x6790;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x95EE;&#x9898;" class="headerlink" title="&#x5206;&#x6790;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x95EE;&#x9898;"></a>&#x5206;&#x6790;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x95EE;&#x9898;</h4><p>&#x4F8B;&#x5982;&#xFF1A;&#x2460;&#x6709;&#x4E00;&#x4E2A;&#x6811;&#x5F62;&#x67E5;&#x8BE2;&#x7684;oracle&#x8BED;&#x53E5;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x91CF;&#x5C11;&#x7684;&#x65F6;&#x5019;&#x5F88;&#x5FEB;&#x5C31;&#x53EF;&#x4EE5;&#x67E5;&#x51FA;&#x6765;&#x5217;&#x8868;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x5927;&#x4E4B;&#x540E;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x4E00;&#x6761;&#x6570;&#x636E;&#x90FD;&#x8981;&#x7EDF;&#x8BA1;&#x5176;&#x4ED6;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5217;&#x8868;&#x5C31;&#x8981;&#x52A0;&#x8F7D;&#x5F88;&#x4E45;&#xFF0C;&#x6700;&#x540E;&#x91C7;&#x7528;redis&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5B58;&#x50A8;&#x8FD9;&#x4E2A;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#x7684;&#x503C;&#x3002;</p>
<p>&#x5728;&#x5F71;&#x54CD;&#x8FD9;&#x4E2A;&#x8BA1;&#x7B97;&#x503C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x628A;redis&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6E05;&#x7A7A;&#xFF0C;&#x5728;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x628A;&#x8FD9;&#x4E2A;&#x503C;&#x586B;&#x5230;redis&#x4E2D;&#xFF0C;&#x4E0B;&#x6B21;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x503C;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5176;&#x4ED6;&#x7684;&#x6587;&#x7AE0;<a href="https://muxiaobai.github.io/2019/02/16/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8Bredis%E5%82%A8%E5%AD%98%E8%AE%A1%E7%AE%97%E5%80%BC/">&#x6027;&#x80FD;&#x4F18;&#x5316;&#x4E4B;redis&#x50A8;&#x5B58;&#x8BA1;&#x7B97;&#x503C;</a></p>
<p>&#x2461;&#x6709;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x540E;&#x53F0;&#x54CD;&#x5E94;&#x5F88;&#x5FEB;&#xFF0C;&#x5927;&#x6982;300ms&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x6570;&#x636E;&#x90FD;&#x5DF2;&#x7ECF;&#x5230;&#x524D;&#x53F0;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x524D;&#x53F0;&#x7684;&#x9875;&#x9762;&#x91CD;&#x65B0;layout&#xFF0C;&#x53C8;&#x91C7;&#x7528;&#x7684;&#x662F;easyui&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x901A;&#x8FC7;chrome&#x7684;Performance&#x6765;&#x8FDB;&#x884C;&#x79EF;&#x7D2F;&#x6E32;&#x67D3;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4F18;&#x5316;&#x524D;&#x53F0;&#x7684;&#x6E32;&#x67D3;&#x903B;&#x8F91;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x8981;&#x6C42;&#x3002;</p>
<blockquote>
<p>&#x8FD9;&#x4E2A;&#x5B9E;&#x9645;&#x4E0A;&#x4E5F;&#x662F;&#x56E0;&#x4E3A;&#x5E73;&#x65F6;&#x7ECF;&#x5E38;&#x770B;&#x4E00;&#x4E9B;&#x6587;&#x7AE0;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x6709;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x60F3;&#x6CD5;&#xFF0C;&#x7B97;&#x662F;&#x539A;&#x79EF;&#x8584;&#x53D1;&#x5427;&#xFF0C;&#x8FD8;&#x662F;&#x8981;&#x6CE8;&#x91CD;&#x79EF;&#x7D2F;&#xFF0C;&#x73B0;&#x5728;&#x5982;&#x679C;&#x5206;&#x6790;&#x5230;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x5440;&#x7B49;&#xFF0C;&#x5C31;&#x5148;&#x4ECE;&#x524D;&#x540E;&#x53F0;&#x7684;&#x4EA4;&#x4E92;&#x4F4D;&#x7F6E;&#x67E5;&#x8D77;&#xFF0C;&#x770B;&#x662F;&#x524D;&#x53F0;&#xFF0C;&#x8FD8;&#x662F;&#x540E;&#x53F0;&#x7684;&#x95EE;&#x9898;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x518D;&#x8FDB;&#x4E00;&#x6B65;&#x627E;&#x540E;&#x53F0;sql&#x8FD8;&#x662F;&#x5FAA;&#x73AF;&#xFF0C;&#x662F;&#x6570;&#x636E;&#x91CF;&#x5927;&#xFF0C;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;&#xFF0C;&#x7F51;&#x7EDC;&#x5F71;&#x54CD;&#xFF0C;&#x8FD8;&#x662F;&#x524D;&#x53F0;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;&#x6709;&#x95EE;&#x9898;&#x3002;</p>
</blockquote>
<p>&#x9047;&#x5230;&#x95EE;&#x9898;&#x5E94;&#x8BE5;&#x627E;&#x8C01;&#x6765;&#x89E3;&#x51B3;&#xFF0C;&#x534F;&#x8C03;&#xFF0C;&#x628A;&#x63E1;&#x51E0;&#x70B9;&#x5427;&#xFF0C;&#x81EA;&#x5DF1;&#x80FD;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8BF4;&#x51FA;&#x5927;&#x6982;&#x7684;&#x65F6;&#x95F4;&#x89E3;&#x51B3;&#xFF0C;&#x81EA;&#x5DF1;&#x89E3;&#x51B3;&#x4E0D;&#x4E86;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x627E;&#x76F8;&#x5173;&#x4EBA;&#x5458;&#x89E3;&#x51B3;&#xFF0C;&#x81EA;&#x5DF1;&#x4E0D;&#x77E5;&#x9053;&#x627E;&#x8C01;&#x6765;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5411;&#x9886;&#x5BFC;&#x53CD;&#x9988;&#xFF0C;&#x8FD9;&#x4E9B;&#x57FA;&#x672C;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x6709;&#x7684;&#x65F6;&#x5019;&#x8FD8;&#x771F;&#x7684;&#x662F;&#x6CA1;&#x5462;&#x4E48;&#x5BB9;&#x6613;&#x505A;&#x5230;&#xFF0C;&#x4E00;&#x822C;&#x603B;&#x662F;&#x60F3;&#x7740;&#x6211;&#x6765;&#x505A;&#x6211;&#x6765;&#x505A;&#xFF0C;&#x4F46;&#x662F;&#x5462;&#xFF0C;&#x4E00;&#x4E2A;&#x4EBA;&#x7684;&#x7CBE;&#x529B;&#x6709;&#x9650;&#xFF0C;&#x8BE5;&#x5206;&#x51FA;&#x53BB;&#x7684;&#x5C31;&#x8981;&#x5206;&#x51FA;&#x53BB;&#xFF0C;&#x6709;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x5C31;&#x4F1A;&#x60F3;&#x7740;&#x90FD;&#x7ECF;&#x8FC7;&#x81EA;&#x5DF1;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x77E5;&#x9053;&#xFF0C;&#x80FD;&#x628A;&#x63A7;&#xFF0C;&#x53EF;&#x662F;&#xFF0C;&#x8BE5;&#x653E;&#x677E;&#x7684;&#x8BE5;&#x6388;&#x6743;&#x7684;&#x5C31;&#x8981;&#x6388;&#x6743;&#x3002;</p>
<p>####</p>
<h2 id="&#x751F;&#x6D3B;"><a href="#&#x751F;&#x6D3B;" class="headerlink" title="&#x751F;&#x6D3B;"></a>&#x751F;&#x6D3B;</h2><h4 id="&#x8E0F;&#x8FC7;&#x7684;&#x5730;&#x65B9;"><a href="#&#x8E0F;&#x8FC7;&#x7684;&#x5730;&#x65B9;" class="headerlink" title="&#x8E0F;&#x8FC7;&#x7684;&#x5730;&#x65B9;"></a>&#x8E0F;&#x8FC7;&#x7684;&#x5730;&#x65B9;</h4><p>&#x8E0F;&#x8FC7;&#x7684;&#x57CE;&#x5E02;&#xFF1A;&#x5357;&#x9633;&#x3001;&#x67A3;&#x5E84;&#x3001;&#x897F;&#x5B89;&#x3001;&#x5B9D;&#x9E21;&#x592A;&#x767D;&#x3001;&#x6DF1;&#x5733;&#x3001;&#x9999;&#x6E2F;&#x3001;&#x5E7F;&#x897F;&#x6CB3;&#x6C60;-&#x67F3;&#x5DDE;&#x3001;&#x676D;&#x5DDE;</p>
<blockquote>
<p>&#x897F;&#x5B89;  &#x6B63;&#x5357;&#x6B63;&#x5317;&#x7684;&#x89C4;&#x77E9;&#xFF0C;&#x53E4;&#x4EE3;&#x7687;&#x5BAB;&#x5F0F;&#x7684;&#x534E;&#x4E3D;</p>
</blockquote>
<p>&#x5317;&#x65B9;&#x771F;&#x4E0D;&#x662F;&#x4EBA;&#x5446;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x590F;&#x5929;&#x70ED;&#x7684;&#x8981;&#x6B7B;&#xFF0C;&#x51AC;&#x5929;&#x96FE;&#x973E;&#x8BA9;&#x4EBA;&#x65E0;&#x6CD5;&#x547C;&#x5438;&#xFF0C;&#x8FD8;&#x662F;&#x5357;&#x65B9;&#x597D;&#xFF0C;&#x4E0D;&#x51B7;&#xFF0C;&#x7A7A;&#x6C14;&#x597D;&#xFF0C;&#x5C31;&#x662F;&#x79BB;&#x5BB6;&#x8FDC;&#x4E86;&#x70B9;&#x513F;&#xFF0C;&#x897F;&#x5B89;&#x7684;&#x590F;&#x5929;&#x9AD8;&#x8FBE;40&#x5EA6;&#xFF0C;&#x600E;&#x4E48;&#x73A9;&#xFF1F;&#x73A9;&#x4E0D;&#x4E86;&#x4E2B;&#x3002;&#x8FD8;&#x662F;&#x559C;&#x6B22;&#x8D70;&#x8DEF;&#x4E0A;&#x73ED;&#x3002;&#x4ECE;&#x7B2C;&#x4E00;&#x4EFD;&#x5DE5;&#x4F5C;&#xFF0C;&#x5230;&#x73B0;&#x5728;&#xFF0C;&#x4E0A;&#x4E0B;&#x73ED;&#x90FD;&#x662F;&#x4F4F;&#x5BBF;&#x548C;&#x516C;&#x53F8;&#x90FD;&#x662F;&#x76F8;&#x5DEE;&#x4E0D;&#x8FDC;&#x7684;&#xFF0C;&#x8D70;&#x8DEF;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x953B;&#x70BC;&#x4E00;&#x4E0B;&#x8EAB;&#x4F53;&#xFF0C;&#x68D2;&#x68D2;&#x54D2;&#xFF01;&#xFF01;&#xFF01;</p>
<blockquote>
<p>&#x5B9D;&#x9E21;&#x592A;&#x767D; &#x770B;&#x79E6;&#x5CAD;&#x4E91;&#x6D77;  &#x9AD8;&#x5C71;&#x4E91;&#x6D77;&#x4E4B;&#x4E0A;&#xFF0C;&#x795E;&#x4ED9;&#x5C45;&#x4F4F;&#x7684;&#x5730;&#x65B9;</p>
</blockquote>
<p>&#x5C71;&#x91CC;&#x9762;&#x51C9;&#x5FEB;&#xFF0C;&#x771F;&#x7684;&#x662F;&#x5F88;&#x51C9;&#x5FEB;&#xFF0C;&#x5728;&#x91CC;&#x9762;&#x770B;&#x7684;&#x6C34;&#x8FD8;&#x597D;&#x4E00;&#x70B9;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x4E00;&#x6761;&#x8DEF;&#x4E0A;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x7F3A;&#x53E3;&#xFF0C;&#x53EF;&#x80FD;&#x5C31;&#x662F;&#x5728;&#x8FD9;&#x91CC;&#x7A81;&#x51FA;&#x4E00;&#x4E0B;&#x79E6;&#x5CAD;&#x7684;&#x5A01;&#x4E25;&#xFF0C;&#x5929;&#x7136;&#x7684;&#x9732;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x5C0F;&#x53E3;&#x5B50;&#xFF0C;&#x8BA9;&#x4F60;&#x4EEC;&#x770B;&#x770B;&#xFF0C;&#x5728;&#x6211;&#x5927;&#x79E6;&#x5CAD;&#x9762;&#x524D;&#xFF0C;&#x4F60;&#x4EEC;&#x8FD9;&#x4E9B;&#x5C0F;&#x5982;&#x877C;&#x8681;&#x7684;&#x4EBA;&#x4EEC;&#xFF0C;&#x90FD;&#x7ED9;&#x6211;&#x81E3;&#x670D;&#x5427;&#x3002;&#x518D;&#x6765;&#x63D2;&#x64AD;&#x4E00;&#x6761;&#xFF0C;&#x4E91;&#x6D77;&#x53BB;&#x770B;&#x8FC7;&#x7684;&#x90FD;&#x8BF4;&#x597D;&#x3002;ps&#xFF1A;&#x5E76;&#x6CA1;&#x6709;&#x6536;&#x5E7F;&#x544A;&#x8D39;&#x3002;</p>
<blockquote>
<p>&#x9999;&#x6E2F; &#x53BB;&#x4F53;&#x9A8C;&#x4E00;&#x628A;&#xFF0C;&#x7EF4;&#x591A;&#x5229;&#x4E9A;&#x6E2F; &#x9AD8;&#x697C;&#xFF0C;&#x6D77;&#x6E2F;&#xFF0C;&#x6E38;&#x8F6E;&#xFF0C;&#x5E06;&#x8239;</p>
</blockquote>
<p>&#x767B;&#x4E0A;&#x6E38;&#x8F6E;&#xFF0C;&#x5439;&#x7740;&#x6D77;&#x98CE;&#xFF0C;&#x522B;&#x6709;&#x4E00;&#x756A;&#x6ECB;&#x5473;&#xFF0C;&#x60F3;&#x5230;&#x4E00;&#x53E5;&#x8BDD;&#xFF1A;&#x4F60;&#x4EE5;&#x4E3A;&#x6709;&#x94B1;&#x4EBA;&#x662F;&#x5E78;&#x798F;&#x7684;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x6709;&#x94B1;&#x4EBA;&#x7684;&#x5E78;&#x798F;&#x4F60;&#x60F3;&#x90FD;&#x60F3;&#x4E0D;&#x5230;&#x3002;&#x838E;&#x838E;&#x3001;&#x4E07;&#x5B81;&#x3001;&#x5C48;&#x81E3;&#x6C0F;&#x3001;&#x5353;&#x60A6;&#xFF0C;&#x904D;&#x5730;&#xFF0C;&#x4EBA;&#x6328;&#x4EBA;&#xFF0C;&#x4EBA;&#x6324;&#x4EBA;&#xFF0C;&#x62A4;&#x80A4;&#x54C1;&#xFF0C;&#x5316;&#x5986;&#x54C1;&#xFF0C;&#x5976;&#x7C89;&#xFF0C;&#x4FDD;&#x5065;&#x54C1;&#xFF08;&#x8D34;&#x818F;&#xFF09;&#xFF0C;&#x5F88;&#x5947;&#x602A;&#xFF0C;&#x5976;&#x7C89;&#x548C;&#x4FDD;&#x5065;&#x54C1;&#x4F1A;&#x5728;&#x8FD9;&#x91CC;&#x552E;&#x5356;?<br>&#x7535;&#x5F71;&#x91CC;&#x9762;&#x603B;&#x80FD;&#x770B;&#x5230;&#x6709;&#x4EBA;&#x62FF;&#x7684;&#x662F;&#x4E00;&#x5377;&#x94B1;&#xFF0C;&#x7528;&#x5377;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x8FD9;&#x6B21;&#x8FC7;&#x53BB;&#x6362;&#x6E2F;&#x5E01;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x771F;&#x7684;&#x662F;&#x8FD9;&#x6837;&#x5B50;&#x7684;&#xFF0C;&#x6211;&#x8DD1;&#x5230;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x5DF7;&#x9053;&#x91CC;&#x9762;&#xFF0C;&#x627E;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x6B63;&#x89C4;&#x7684;&#x67DC;&#x53F0;&#xFF0C;&#x5F53;&#x65F6;&#xFF0C;&#x65C1;&#x8FB9;&#x6709;&#x5F88;&#x591A;&#x90A3;&#x79CD;&#x201C;&#x4E00;&#x5377;&#x201D;&#x94B1;&#xFF0C;&#x5728;&#x9999;&#x6E2F;&#x8FD9;&#x79CD;&#x5730;&#x65B9;&#xFF0C;&#x6CA1;&#x6709;&#x6E2F;&#x5E01;&#x771F;&#x7684;&#x5F88;&#x9EBB;&#x70E6;&#xFF0C;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x8FD8;&#x662F;&#x53EA;&#x6536;&#x73B0;&#x91D1;&#xFF0C;1000&#x7684;&#x4E0D;&#x6536;&#x3002;&#x4E0D;&#x50CF;&#x5927;&#x9646;&#x5730;&#x533A;&#xFF0C;&#x54EA;&#x6015;&#x6CA1;&#x6709;&#x5E26;&#x73B0;&#x91D1;&#xFF0C;&#x5403;&#x7A7F;&#x73A9;&#xFF0C;&#x4E00;&#x5207;&#x90FD;&#x6B63;&#x5E38;&#x3002;<br>&#x60F3;&#x8C61;&#x4E2D;&#x7684;&#x7D2B;&#x91D1;&#x82B1;&#x5E7F;&#x573A;&#x5E94;&#x8BE5;&#x5F88;&#x9738;&#x6C14;&#x7684;&#xFF0C;&#x5230;&#x8DDF;&#x524D;&#x4E00;&#x770B;&#xFF0C;&#x54CE;&#x5440;&#xFF0C;&#x8FD8;&#x4E0D;&#x5982;&#x5927;&#x9646;&#x7684;&#x4E00;&#x4E2A;&#x5C0F;&#x5E7F;&#x573A;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD8;&#x662F;&#x62CD;&#x7167;&#x7559;&#x5FF5;&#x4E86;&#x4E00;&#x4E0B;&#x3002;&#x6BD5;&#x7ADF;&#x6765;&#x4E86;&#x4E00;&#x8D9F;&#xFF0C;&#x4E0D;&#x5BB9;&#x6613;&#x5462;&#x3002;</p>
<blockquote>
<p>&#x5E7F;&#x897F;&#x6CB3;&#x6C60; &#x770B;&#x5C71;&#x770B;&#x6C34; &#x5C71;&#x6C34;&#x4E00;&#x4F53;&#xFF0C;&#x539F;&#x59CB;&#x5C71;&#x5DDD;&#x6CB3;&#x6D41;</p>
</blockquote>
<p>&#x6296;&#x97F3;&#x5C0F;&#x89C6;&#x9891;&#xFF0C;&#x5C71;&#x9876;&#x4E0A;&#x8F6C;&#x5708;&#xFF0C;&#x8F6C;&#x5708;&#xFF0C;&#x6211;&#x771F;&#x7684;&#x662F;&#x53BB;&#x4E86;&#xFF0C;&#x867D;&#x7136;&#x662F;&#x5728;&#x4E0D;&#x77E5;&#x540D;&#x7684;&#x5C0F;&#x5C71;&#x9876;&#x4E0A;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E5F;&#x662F;&#x5C71;&#x4E2B;&#xFF0C;&#x611F;&#x89C9;&#x5F88;&#x8212;&#x670D;&#xFF0C;&#x548C;&#x79E6;&#x5CAD;&#x7684;&#x5C71;&#x6C34;&#xFF0C;&#x548C;&#x9999;&#x6E2F;&#x7684;&#x6D77;&#x98CE;&#x662F;&#x5B8C;&#x5168;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x611F;&#x89C9;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x5C71;&#x6C34;&#xFF0C;&#x662F;&#x5C0F;&#x666F;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6E29;&#x6587;&#x5C14;&#x96C5;&#x7684;&#x8212;&#x9002;&#x611F;&#xFF0C;&#x5750;&#x8239;&#x771F;&#x5750;&#x7684;&#x591F;&#x591F;&#x7684;&#x4E86;&#xFF0C;&#x4E0D;&#x8D35;&#xFF0C;&#x800C;&#x4E14;&#x5C06;&#x8FD1;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x56DE;&#x6765;&#x7684;&#x8DEF;&#x4E0A;&#xFF0C;&#x5750;&#x7684;&#x4EBA;&#x4EEC;&#x90FD;&#x662F;&#x51B7;&#x98D5;&#x98D5;&#x7684;&#xFF0C;&#x5218;&#x4E09;&#x59D0;&#x7684;&#x6545;&#x4E8B;&#xFF0C;&#x5728;&#x5E7F;&#x897F;&#x771F;&#x7684;&#x662F;&#x968F;&#x5904;&#x90FD;&#x662F;&#xFF0C;&#x8DEF;&#x6865;&#xFF0C;&#x5C71;&#x91CC;&#xFF0C;&#x574A;&#x95F4;&#xFF0C;&#x4E00;&#x4F1A;&#x513F;&#x8BF4;&#x662F;&#x6842;&#x6797;&#x9633;&#x6714;&#x7684;&#xFF0C;&#x4E00;&#x4F1A;&#x8BF4;&#x662F;&#x6CB3;&#x6C60;&#x5B9C;&#x5DDE;&#x3002;&#x672C;&#x6765;&#x5C31;&#x662F;&#x6E38;&#x5C71;&#x73A9;&#x6C34;&#xFF0C;&#x5386;&#x53F2;&#x95EE;&#x9898;&#x5C31;&#x4E0D;&#x518D;&#x8003;&#x7A76;&#x3002;&#x542C;&#x8BF4;&#x8FD9;&#x91CC;&#x7684;&#x4EBA;&#x4EEC;&#x8FD8;&#x5728;&#x5531;&#x5C71;&#x6B4C;&#xFF0C;&#x539F;&#x6765;&#x5C71;&#x95F4;&#x4EBA;&#x5BB6;&#xFF0C;&#x81EA;&#x6709;&#x5C71;&#x95F4;&#x7684;&#x4E00;&#x4E9B;&#x513F;&#x73A9;&#x6CD5;&#xFF0C;&#x4E2D;&#x539F;&#x4EBA;&#x6CA1;&#x6709;&#x89C1;&#x8FC7;&#x7684;&#xFF0C;&#x5C31;&#x89C9;&#x5F97;&#x795E;&#x5947;&#xFF0C;&#x5531;&#x7684;&#x90FD;&#x662F;&#x4EBA;&#x5BB6;&#x81EA;&#x5DF1;&#x7684;&#x8BED;&#x8A00;&#x548C;&#x8C03;&#x8C03;&#x3002;</p>
<blockquote>
<p>&#x67F3;&#x5DDE; &#x8FD1;&#x4EE3;&#x5DE5;&#x4E1A;  &#x4E00;&#x79CD;&#x539A;&#x91CD;&#xFF0C;&#x6709;&#x5DE5;&#x4E1A;&#x5E95;&#x8574;&#x7684;&#x57CE;&#x5E02;</p>
</blockquote>
<p>&#x87BA;&#x86F3;&#x7C89;&#x771F;&#x7684;&#x662F;&#x6709;&#x87BA;&#x86F3;&#x7684;&#xFF0C;&#x87BA;&#x86F3;&#x71AC;&#x5F97;&#x6C64;&#xFF0C;&#x52A0;&#x9178;&#x7B0B;&#xFF0C;&#x52A0;&#x8150;&#x7AF9;&#xFF0C;&#x52A0;&#x8C46;&#x6CE1;&#xFF08;&#x8C46;&#x8150;&#x6CE1;&#xFF09;&#xFF0C;&#x52A0;&#x5364;&#x6C34;&#x3002;</p>
<p>&#x67F3;&#x6C5F;&#x4ECE;&#x4E2D;&#x7A7F;&#x8FC7;&#xFF0C;&#x522B;&#x79F0;&#x201C;&#x58F6;&#x57CE;&#x201D;&#xFF0C;&#x67F3;&#x5DDE;&#x57CE;&#x6709;&#x5F88;&#x591A;&#x6865;&#xFF0C;&#x5F53;&#x65F6;&#x5DF2;&#x7ECF;&#x5EFA;&#x597D;&#x7684;&#x6709;21&#x5EA7;&#xFF0C;&#x8FD8;&#x6709;&#x5728;&#x89C4;&#x5212;&#x4E2D;&#x7684;&#xFF0C;&#x4E3A;&#x4E86;&#x4EA4;&#x901A;&#xFF0C;&#x6A2A;&#x7A7F;&#x67F3;&#x6C5F;&#x8FC7;&#x6765;&#xFF0C;&#x6865;&#x6881;&#x5DE5;&#x7A0B;&#x5E94;&#x8BE5;&#x662F;&#x5F88;&#x53D1;&#x8FBE;&#x7684;&#xFF1B;&#x67F3;&#x5DE5;&#xFF0C;&#x67F3;&#x94A2;&#xFF0C;&#x4E94;&#x83F1;&#xFF0C;&#x91CD;&#x5DE5;&#x4E1A;&#x57FA;&#x5730;&#xFF0C;&#x53CC;&#x9762;&#x9488;&#xFF0C;&#x91D1;&#x55D3;&#x5B50;&#x7B49;&#xFF0C;&#x67F3;&#x94A2;&#x96EA;&#x6761;&#xFF0C;&#x96EA;&#x7CD5;&#xFF0C;&#x662F;&#x4E00;&#x5EA7;&#x5C0F;&#x57CE;&#xFF0C;&#x548C;&#x60E0;&#x5DDE;&#xFF0C;&#x5F90;&#x5DDE;&#x5F88;&#x50CF;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x60E0;&#x5DDE;&#x90A3;&#x4E48;&#x6D6E;&#x8E81;&#xFF0C;&#x6CA1;&#x6709;&#x5F90;&#x5DDE;&#x90A3;&#x4E48;&#x5E84;&#x91CD;&#xFF0C;&#x4E2A;&#x4EBA;&#x611F;&#x89C9;&#x67F3;&#x5DDE;&#x5F88;&#x968F;&#x548C;&#xFF0C;&#x4F46;&#x4E5F;&#x5F88;&#x7A33;&#x3002;</p>
<blockquote>
<p>&#x676D;&#x5DDE; &#x897F;&#x6E56;&#x52A0;&#x73B0;&#x4EE3;&#x8BBE;&#x8BA1;&#x7684;&#x4E00;&#x79CD;&#x548C;&#x8C10;</p>
</blockquote>
<p>&#x542C;&#x8BF4;&#x662F;&#x6709;&#xFF1A;&#x897F;&#x6E56;&#x918B;&#x9C7C;&#xFF0C;&#x9F99;&#x4E95;&#x867E;&#x4EC1; &#x516B;&#x5B9D;&#x8C46;&#x8150;&#x7B49;&#x3002;&#x697C;&#x5916;&#x697C;&#x3002;&#x771F;&#x7684;&#x53EA;&#x662F;&#x542C;&#x8BF4;&#xFF0C;&#x53BB;&#x4E00;&#x5468;&#xFF0C;&#x76F4;&#x63A5;&#x5C31;&#x56DE;&#x6765;&#x4E86;&#xFF0C;&#x4EC0;&#x4E48;&#x90FD;&#x6CA1;&#x6709;&#x5E26;&#xFF0C;&#x9057;&#x61BE;&#xFF0C;&#x8FD8;&#x8BF4;&#x5E26;&#x4E00;&#x70B9;&#x8336;&#x53F6;&#x56DE;&#x6765;&#x5462;&#xFF0C;&#x897F;&#x6E56;&#xFF0C;&#x9F99;&#x4E95;&#x7EFF;&#x8336;&#xFF0C;&#x4E0D;&#x8FC7;&#x81EA;&#x5DF1;&#x51FA;&#x53BB;&#x8DD1;&#x4E00;&#x8D9F;&#xFF0C;&#x5C31;&#x5F88;&#x597D;&#x7684;&#x4E86;&#x3002;</p>
<blockquote>
<p>&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x8981;&#x770B;&#x5230;&#x5916;&#x90E8;&#x7684;&#xFF0C;&#x672A;&#x7ECF;&#x5386;&#x8FC7;&#x7684;&#xFF0C;&#x90FD;&#x662F;&#x5FC3;&#x60C5;&#x8212;&#x7545;&#x3002;</p>
</blockquote>
<h4 id="&#x516C;&#x5F00;&#x8BFE;"><a href="#&#x516C;&#x5F00;&#x8BFE;" class="headerlink" title="&#x516C;&#x5F00;&#x8BFE;"></a>&#x516C;&#x5F00;&#x8BFE;</h4><p>&#x524D;&#x6BB5;&#x65F6;&#x95F4;&#x4E00;&#x76F4;&#x5728;&#x770B;&#x5FC3;&#x7406;&#x5B66;&#x7684;&#x516C;&#x5F00;&#x8BFE;&#xFF0C;&#x8BF4;&#x5B9E;&#x8BDD;&#xFF0C;&#x6536;&#x83B7;&#x633A;&#x5927;&#x7684;&#xFF0C;&#x65E9;&#x5C31;&#x60F3;&#x770B;&#x4E00;&#x4E9B;&#x8FD9;&#x79CD;&#x793E;&#x4F1A;&#x5B66;&#x5FC3;&#x7406;&#x5B66;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;<code>&#x4E0B;&#x4E00;&#x5E74;&#x91CD;&#x70B9;&#x5185;&#x5BB9;</code>&#xFF0C;</p>
<h4 id="&#x7ECF;&#x5386;&#x8FC7;&#x7684;&#x4E8B;&#x60C5;"><a href="#&#x7ECF;&#x5386;&#x8FC7;&#x7684;&#x4E8B;&#x60C5;" class="headerlink" title="&#x7ECF;&#x5386;&#x8FC7;&#x7684;&#x4E8B;&#x60C5;"></a>&#x7ECF;&#x5386;&#x8FC7;&#x7684;&#x4E8B;&#x60C5;</h4><blockquote>
<p>&#x8F9E;&#x804C;&#x548C;&#x627E;&#x5DE5;&#x4F5C;&#x3001;&#x8981;&#x798F;&#x5229;</p>
</blockquote>
<p>&#x548C;&#x9886;&#x5BFC;&#x8BF4;&#x8F9E;&#x804C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x633A;&#x4F4F;&#xFF0C;&#x522B;&#x653E;&#x677E;&#xFF0C;&#x8BF4;&#x4E00;&#x4E2A;&#x6708;&#x624D;&#x80FD;&#x529E;&#x7406;&#xFF0C;&#x54B1;&#x5C31;&#x8981;&#x8981;&#x4E00;&#x5468;&#x5C31;&#x80FD;&#x51FA;&#x7ED3;&#x679C;&#x3002;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x53E3;&#x5934;&#x4E0A;&#x8BF4;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x662F;&#x8981;&#x804C;&#x4EBA;&#x5458;&#xFF0C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x79CD;&#x6D41;&#x7A0B;&#x5F88;&#x5FEB;&#x5C31;&#x80FD;&#x7ED3;&#x675F;&#x7684;&#xFF0C;&#x4E00;&#x4E2A;&#x6708;&#xFF0C;&#x5F85;&#x5728;&#x90A3;&#x91CC;&#x8FD8;&#x4E0D;&#x8981;&#x75AF;&#x4E86;&#xFF0C;&#x4F55;&#x5FC5;&#x5728;&#x90A3;&#x91CC;&#x788D;&#x773C;&#x3002;&#x627E;&#x5DE5;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BE5;&#x95EE;&#x6E05;&#x695A;&#x7684;&#x5C31;&#x8981;&#x95EE;&#x6E05;&#x695A;&#xFF0C;&#x8BE5;&#x6709;&#x7684;&#x5229;&#x76CA;&#x798F;&#x5229;&#xFF0C;&#x8BE5;&#x8981;&#x5C31;&#x8981;&#x3002;&#x6709;&#x4E9B;&#x8BDD;&#x9002;&#x5408;&#x8BF4;&#x6E05;&#x695A;&#xFF0C;&#x5C31;&#x522B;&#x542B;&#x7CCA;&#x3002;</p>
<blockquote>
<p>&#x5B66;&#x4F1A;&#x62D2;&#x7EDD;</p>
</blockquote>
<p>&#x4E0A;&#x7EA7;&#xFF0C;&#x4E0A;&#x6B21;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#xFF0C;&#x6211;&#x660E;&#x786E;&#x7684;&#x548C;&#x4E0A;&#x7EA7;&#x8BF4;&#x8FC7;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x8FD9;&#x8FB9;&#x63D0;&#x4F9B;&#x5E2E;&#x52A9;&#xFF0C;&#x53EF;&#x662F;&#x5440;&#xFF0C;&#x4ED6;&#x8BF4;&#x4E0D;&#x7528;&#x6211;&#x4EEC;&#x8FD9;&#x8FB9;&#xFF0C;&#x4E0D;&#x7528;&#xFF0C;&#x7ED3;&#x679C;&#xFF0C;&#x4E24;&#x5929;&#x4E4B;&#x540E;&#xFF0C;&#x679C;&#x7136;&#x8FD8;&#x662F;&#x51FA;&#x73B0;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x53C8;&#x6253;&#x7535;&#x8BDD;&#x8BA9;&#x6211;&#x7ED9;&#x4ED6;&#x89E3;&#x51B3;&#xFF0C;&#x6211;&#x5C31;&#x8BF4;&#x73B0;&#x5728;&#x6CA1;&#x6709;&#x65F6;&#x95F4;&#xFF0C;&#x8981;&#x5230;&#x665A;&#x4E0A;&#x624D;&#x884C;&#x3002;&#x60F3;&#x5176;&#x4ED6;&#x529E;&#x6CD5;&#xFF0C;&#x6211;&#x4F30;&#x8BA1;&#xFF0C;&#x8FD8;&#x662F;&#x4F1A;&#x627E;&#x6211;&#x6765;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</p>
<p>&#x8BE5;&#x8DD1;&#x7684;&#x5751;&#x5C31;&#x8981;&#x8DD1;&#xFF0C;&#x4E0A;&#x4E00;&#x4EFB;&#x6280;&#x672F;&#x8D70;&#x4E86;&#xFF0C;&#x773C;&#x770B;&#x5F53;&#x4E0B;&#x6CA1;&#x6709;&#x4EBA;&#x63A5;&#x624B;&#xFF0C;&#x70EB;&#x624B;&#x7684;&#x5C71;&#x828B;&#xFF0C;&#x8BA9;&#x6211;&#x63A5;&#xFF0C;&#x90FD;&#x4E0D;&#x662F;&#x50BB;&#x74DC;&#x3002;&#x6211;&#x8FD8;&#x662F;&#x9009;&#x62E9;&#x51FA;&#x53BB;&#x5F85;&#x5728;&#x9879;&#x76EE;&#x4E0A;&#xFF0C;&#x80FD;&#x8DDF;&#x7740;&#x5B9E;&#x529B;&#x5F3A;&#x7684;&#x4EBA;&#x518D;&#x5B66;&#x4E60;&#xFF0C;&#x4F55;&#x4E50;&#x800C;&#x4E0D;&#x4E3A;&#x5462;&#xFF1F;&#x8682;&#x8681;&#x91D1;&#x670D;&#xFF0C;&#x552F;&#x4E00;&#x5BF9;&#x4E0D;&#x4F4F;&#x7684;&#x5C31;&#x662F;&#x5979;&#xFF0C;&#x521A;&#x56DE;&#x53BB;&#xFF0C;&#x5C31;&#x53C8;&#x8DD1;&#x4E86;&#x3002;</p>
<p>&#x4EB2;&#x53CB;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4EB2;&#x5C5E;&#x957F;&#x8F88;&#x95EE;&#x6211;&#x6709;&#x6CA1;&#x6709;&#x94B1;&#xFF1F;&#x771F;&#x7684;&#x662F;&#x5F88;&#x65E0;&#x8BED;&#xFF0C;&#x679C;&#x65AD;&#x62D2;&#x7EDD;&#x3002;&#x5F53;&#x65F6;&#x6211;&#x5C31;&#x4E0D;&#x62B1;&#x6709;&#x7ED9;&#x4ED6;&#x7684;&#x53EF;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4E5F;&#x77E5;&#x9053;&#x8FD9;&#x79CD;&#x4EBA;&#xFF0C;&#x4F46;&#x50CF;&#x540C;&#x5B66;&#xFF0C;&#x8FD9;&#x6B21;&#x95EE;&#x6211;&#x501F;&#x94B1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x76F4;&#x63A5;&#x95EE;&#x4ED6;&#x8981;&#x591A;&#x5C11;&#xFF0C;&#x6709;&#x4EC0;&#x4E48;&#x4E8B;&#x60C5;&#x8981;&#x5E2E;&#x5FD9;&#x7684;&#xFF0C;&#x6709;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4EB2;&#x621A;&#x8FD9;&#x79CD;&#x5173;&#x7CFB;&#x66F4;&#x4E0D;&#x80FD;&#x63BA;&#x548C;&#x5229;&#x76CA;&#xFF0C;&#x9EBB;&#x70E6;&#xFF0C;&#x8BF4;&#x4E0D;&#x6E05;&#xFF0C;&#x9053;&#x4E0D;&#x660E;&#xFF0C;&#x53CD;&#x800C;&#x60F9;&#x5F97;&#x90FD;&#x4E0D;&#x8212;&#x670D;&#x3002;</p>
<blockquote>
<p>&#x5B66;&#x4F1A;&#x8868;&#x8FBE;&#x81EA;&#x5DF1;&#x7684;&#x771F;&#x5B9E;&#x611F;&#x53D7;</p>
</blockquote>
<p>&#x6CA1;&#x6709;&#x8868;&#x8FBE;&#x597D;&#xFF0C;&#x76F4;&#x8A00;&#x5FEB;&#x8BED;&#xFF0C;&#x6709;&#x8BDD;&#x76F4;&#x8BF4;&#xFF0C;&#x5DE5;&#x4F5C;&#x4E0A;&#x5728;&#x5BF9;&#x5F85;&#x4E0A;&#x53F8;&#xFF0C;&#x5DE5;&#x8D44;&#x7B49;&#xFF0C;&#x7B80;&#x5355;&#x4E00;&#x70B9;&#x513F;&#xFF0C;&#x76F4;&#x63A5;&#x4E00;&#x70B9;&#x513F;&#xFF0C;&#x7701;&#x7684;&#x628A;&#x81EA;&#x5DF1;&#x641E;&#x7684;&#x5F88;&#x7D2F;&#xFF0C;&#x8FD8;&#x8FC7;&#x5F97;&#x4E0D;&#x8212;&#x670D;&#x3002;&#x6709;&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x5C31;&#x76F4;&#x63A5;&#x95EE;&#xFF0C;</p>
<blockquote>
<p>&#x5B66;&#x4F1A;&#x63A7;&#x5236;&#x81EA;&#x5DF1;&#x7684;&#x771F;&#x5B9E;&#x611F;&#x53D7;</p>
</blockquote>
<p>&#x4ECE;&#x5FC3;&#x7406;&#x5B66;&#x5B66;&#x5230;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x5728;&#x751F;&#x6D3B;&#x4E2D;&#x7ECF;&#x5386;&#x8FC7;&#x7684;&#x3002;</p>
<ul>
<li>1.&#x907F;&#x514D;&#x8868;&#x8FBE;&#x51FA;&#x4E8B;&#x540E;&#x8BF8;&#x845B;&#x4EAE;&#x7684;&#x4E00;&#x79CD;&#x6001;&#x5EA6;&#x3002;</li>
<li>2.&#x60F3;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5236;&#x9020;&#x9EBB;&#x70E6;&#x3002;</li>
<li>3.&#x6709;&#x65F6;&#x5019;&#x592A;&#x76F4;&#x767D;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;&#x56E2;&#x961F;&#x56E2;&#x7ED3;&#x3002;</li>
</ul>
<h2 id="&#x8BA1;&#x5212;"><a href="#&#x8BA1;&#x5212;" class="headerlink" title="&#x8BA1;&#x5212;"></a>&#x8BA1;&#x5212;</h2><h4 id="2018&#x5E74;&#x8BA1;&#x5212;&#x5B8C;&#x6210;&#x60C5;&#x51B5;"><a href="#2018&#x5E74;&#x8BA1;&#x5212;&#x5B8C;&#x6210;&#x60C5;&#x51B5;" class="headerlink" title="2018&#x5E74;&#x8BA1;&#x5212;&#x5B8C;&#x6210;&#x60C5;&#x51B5;"></a>2018&#x5E74;&#x8BA1;&#x5212;&#x5B8C;&#x6210;&#x60C5;&#x51B5;</h4><ul>
<li>&#x4EBA;&#x4E0D;&#x8981;&#x8138;&#xFF0C;&#x4E66;&#x4E0D;&#x80FD;&#x4E22;&#xFF0C;&#x4E00;&#x4E2A;&#x6708;&#x4E00;&#x672C;&#x4E66;&#x3002;&#x8981;&#x6709;&#x8BB0;&#x5F55;</li>
<li>&#x753B;&#x4E00;&#x753B;&#x81EA;&#x5DF1;&#x77E5;&#x8BC6;&#x4F53;&#x7CFB;&#xFF0C;&#x601D;&#x7EF4;&#x5BFC;&#x56FE;&#xFF08;&#x5305;&#x62EC;&#x4F46;&#x4E0D;&#x9650;&#x4E8E;JAVA&#x3001;JS&#x3001;CSS&#x3001;browser&#x3001;network&#x3001;&#xFF09;</li>
<li>hello world &#x5927;&#x6570;&#x636E; sparker&#x7B49; demo</li>
<li>kaggle&#x7B49;&#x8BFE;&#x7A0B;&#x719F;&#x6089;&#xFF0C;&#x5B8C;&#x6210;5&#x6B21;&#x5929;&#x6C60;&#x6BD4;&#x8D5B;</li>
</ul>
<p>&#x5B8C;&#x6210;&#x5EA6;20%</p>
<p>&#x6CA1;&#x6709;&#x9A71;&#x52A8;&#x6027;&#xFF0C;&#x81EA;&#x9A71;&#x529B;&#x5DEE;&#xFF1B;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x53EA;&#x5B66;&#x4E86;&#x70B9;&#x513F;&#x76AE;&#x6BDB;&#xFF0C;kaggle&#x5B8C;&#x6210;2&#x4E2A;&#xFF0C;&#x719F;&#x6089;&#x5927;&#x81F4;&#x7684;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#xFF0C;&#x65E0;&#x6CD5;&#x5546;&#x7528;&#x3002;&#x540E;&#x534A;&#x5E74;&#x90FD;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x64CD;&#x4F5C;&#x3002;&#x53CD;&#x5012;&#x662F;MongoDB&#x3001;redis&#x7B49;&#x5DE5;&#x5177;&#x5F00;&#x59CB;&#x7528;&#x8D77;&#x6765;&#xFF1B;&#x8FD0;&#x7EF4;&#x65B9;&#x9762;&#x7684;&#x77E5;&#x8BC6;&#x638C;&#x63E1;&#x4E0D;&#x5C11;&#xFF0C;&#x628A;&#x4E4B;&#x524D;&#x7B80;&#x5355;&#x7684;&#x811A;&#x672C;&#x91CD;&#x65B0;&#x638C;&#x63E1;&#x5E76;&#x5E94;&#x7528;&#x4E86;&#x3002;</p>
<h4 id="2019&#x5E74;&#x8BA1;&#x5212;"><a href="#2019&#x5E74;&#x8BA1;&#x5212;" class="headerlink" title="2019&#x5E74;&#x8BA1;&#x5212;"></a>2019&#x5E74;&#x8BA1;&#x5212;</h4><ul>
<li>&#x542C;&#x8BB2;&#x5EA7;&#xFF0C;&#x53C2;&#x52A0;&#x6280;&#x672F;&#xFF0C;&#x6587;&#x5316;&#xFF0C;&#x793E;&#x4F1A;&#x8BBA;&#x575B;&#x7B49;&#xFF0C;&#x6269;&#x5C55;&#x77E5;&#x8BC6;&#x5E7F;&#x5EA6;&#x3002;</li>
<li>&#x5FC3;&#x7406;&#x5B66;&#x77E5;&#x8BC6;&#xFF0C;&#x53D7;&#x76CA;&#x532A;&#x6D45;&#xFF0C;&#x9700;&#x8981;&#x7EE7;&#x7EED;&#x5B66;&#x4E60;&#x3002;</li>
<li>&#x7814;&#x7A76;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x3001;&#x90E8;&#x7F72;&#x7B49;&#x95EE;&#x9898;&#xFF0C;&#x5206;&#x6790;&#x51FA;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x5957;&#x914D;&#x7F6E;&#x3002;</li>
<li></li>
</ul>
<p>2019.01.15 &#x6155;&#x5C0F;&#x767D; &#x4E8E;&#x6D59;&#x6C5F;&#x676D;&#x5DDE;</p>
]]></content>
    
    <summary type="html">
    
      2018年已经过去，总结一下。
    
    </summary>
    
      <category term="总结" scheme="https://muxiaobai.github.io/categories/%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="2018" scheme="https://muxiaobai.github.io/tags/2018/"/>
    
  </entry>
  
  <entry>
    <title>mongodb常用命令</title>
    <link href="https://muxiaobai.github.io/2019/01/11/mongodb%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>https://muxiaobai.github.io/2019/01/11/mongodb常用命令/</id>
    <published>2019-01-11T03:07:27.000Z</published>
    <updated>2019-04-19T06:30:46.294Z</updated>
    
    <content type="html"><![CDATA[<p>&#x5E38;&#x7528;&#x7684;mongo&#x8BED;&#x53E5;&#xFF0C;&#x6C47;&#x603B;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E4B;&#x540E;&#x67E5;&#x9605;&#x3002;<br><a id="more"></a></p>
<h2 id="&#x5168;&#x5C40;&#x3001;&#x6570;&#x636E;&#x5E93;&#x7EA7;&#x522B;"><a href="#&#x5168;&#x5C40;&#x3001;&#x6570;&#x636E;&#x5E93;&#x7EA7;&#x522B;" class="headerlink" title="&#x5168;&#x5C40;&#x3001;&#x6570;&#x636E;&#x5E93;&#x7EA7;&#x522B;"></a>&#x5168;&#x5C40;&#x3001;&#x6570;&#x636E;&#x5E93;&#x7EA7;&#x522B;</h2><p>&#x9ED8;&#x8BA4;&#x6839;&#x76EE;&#x5F55;&#xFF1A;/db/mongodb-3.4.7/</p>
<h3 id="&#x5BFC;&#x5165;&#x5BFC;&#x51FA;"><a href="#&#x5BFC;&#x5165;&#x5BFC;&#x51FA;" class="headerlink" title="&#x5BFC;&#x5165;&#x5BFC;&#x51FA;"></a>&#x5BFC;&#x5165;&#x5BFC;&#x51FA;</h3><p>&#x2013;&#x5BFC;&#x5165;<br>/db/mongodb-3.4.7/bin/mongorestore &#x2013;host=127.0.0.1 -u test_user -p test_pwd &#x2013;port 27017 &#x2013;db jy_db /db/mongo_bak/test_db</p>
<p>&#x2013;&#x5F3A;&#x5236;&#x5220;&#x9664;<br>&#x2013;drop&#xFF1A;&#x5148;&#x5220;&#x9664;&#x6240;&#x6709;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x6062;&#x590D;.<br>/db/mongodb-3.4.7/bin/mongorestore &#x2013;host=127.0.0.1 -u test_user -p test_pwd &#x2013;port 27017 &#x2013;db test_db &#x2013;drop /db/mongo_bak/test_db</p>
<p>&#x2013;&#x5BFC;&#x51FA;<br>/db/mongodb-3.4.7/bin/mongodump &#x2013;host 127.0.0.1 &#x2013;port 9430 -d test_db -u test_user -p 123456 -o /db/mongo_bak/test_db</p>
<p>/db/mongodb-3.4.7/bin/mongodump &#x2013;host 127.0.0.1 &#x2013;port 9430 -d test_db  -o /db/mongo_bak/test_db</p>
<p>&#x2013;&#x6253;&#x5305;<br>tar -czvf  /db/mongo_bak/jy_db20181207.tar.gz /db/mongo_bak/test_db</p>
<p>&#x2013;&#x5BFC;&#x5165;<br>/db/mongodb-3.4.7/bin/mongodump &#x2013;host 127.0.0.1 &#x2013;port 9430 -d test_db -u test_use -p test_pwd -o /db/mongo_bak/</p>
<h3 id="&#x542F;&#x52A8;-&#x767B;&#x5F55;&#xFF0C;&#x521B;&#x5EFA;&#x7528;&#x6237;"><a href="#&#x542F;&#x52A8;-&#x767B;&#x5F55;&#xFF0C;&#x521B;&#x5EFA;&#x7528;&#x6237;" class="headerlink" title="&#x542F;&#x52A8; &#x767B;&#x5F55;&#xFF0C;&#x521B;&#x5EFA;&#x7528;&#x6237;"></a>&#x542F;&#x52A8; &#x767B;&#x5F55;&#xFF0C;&#x521B;&#x5EFA;&#x7528;&#x6237;</h3><p>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br><code>vi /db/mongodb-3.4.7/mongodb.conf</code><br>&#x5E38;&#x7528;&#x914D;&#x7F6E;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#x540E;&#x53F0;&#x542F;&#x52A8;</div><div class="line">`/db/mongodb-3.4.7/bin/mongod -f /db/mongodb-3.4.7/mongodb.conf `</div><div class="line">&#x767B;&#x5F55;&#xFF1A;</div><div class="line">`/db/mongodb-3.4.7/bin/mongo  --host 127.0.0.1 --port 9430 -u root -p FpTH2a`</div><div class="line"></div><div class="line">show dbs;//&#x5C55;&#x793A;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;</div><div class="line"></div><div class="line">use test_db;//&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;.&#x5207;&#x6362;&#x5230;&#x672C;&#x6570;&#x636E;&#x5E93;</div><div class="line"></div><div class="line">/db/mongodb-3.4.7/bin/mongod -f /db/mongodb-3.4.7/mongodb.conf  --shutdown</div><div class="line"></div><div class="line">db.createUser({user:&apos;name&apos;,pwd:&apos;123456&apos;,roles: [{ role:&quot;readWrite&quot;,db:&quot;name&quot;}]});</div><div class="line"></div><div class="line">db.getCollection(&apos;system.users&apos;).find({})</div><div class="line"></div><div class="line">db.getCollection(&apos;system.users&apos;).remove({user:&quot;name&quot;});</div></pre></td></tr></table></figure>
<p>&#x67E5;&#x8BE2;&#x7528;&#x6237;&#xFF1A;</p>
<h3 id="&#x6570;&#x636E;&#x5E93;"><a href="#&#x6570;&#x636E;&#x5E93;" class="headerlink" title="&#x6570;&#x636E;&#x5E93;"></a>&#x6570;&#x636E;&#x5E93;</h3><p>use test_db;//</p>
<p>db.repairDatabase();//&#x91CA;&#x653E;&#x7A7A;&#x95F4;</p>
<p>db.runCommand({&#x201C;distinct&#x201D;:&#x201D;fs.files&#x201D;, &#x201C;key&#x201D;:&#x201D;metadata.type&#x201D;});//&#x6240;&#x6709;&#x7684;&#x96C6;&#x5408;</p>
<h2 id="&#x96C6;&#x5408;&#x7EA7;&#x522B;-collection"><a href="#&#x96C6;&#x5408;&#x7EA7;&#x522B;-collection" class="headerlink" title="&#x96C6;&#x5408;&#x7EA7;&#x522B; collection"></a>&#x96C6;&#x5408;&#x7EA7;&#x522B; collection</h2><ul>
<li>&#x6240;&#x6709;  show collections;</li>
<li>&#x521B;&#x5EFA;  db.createCollection(&#x201C;test&#x201D;);</li>
<li>&#x6DFB;&#x52A0;  db.getCollection(&#x201C;test&#x201D;).insert({&#x201C;name&#x201D;:&#x201D;test&#x201D;});</li>
<li>&#x6E05;&#x7A7A;  db.getCollection(&#x201C;test&#x201D;).remove({});</li>
<li>&#x5220;&#x9664;  db.getCollection(&#x201C;test&#x201D;).drop();</li>
<li>&#x67E5;&#x8BE2;  db.getCollection(&#x201C;test&#x201D;).find({&#x201C;name&#x201D;:&#x201D;test&#x201D;});</li>
</ul>
]]></content>
    
    <summary type="html">
    
      mongo 的常用数据库命令总结
    
    </summary>
    
      <category term="数据库" scheme="https://muxiaobai.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="mongo" scheme="https://muxiaobai.github.io/tags/mongo/"/>
    
      <category term="常用命令" scheme="https://muxiaobai.github.io/tags/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>mongodb主从架构设计</title>
    <link href="https://muxiaobai.github.io/2019/01/11/mongodb%E4%B8%BB%E4%BB%8E%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    <id>https://muxiaobai.github.io/2019/01/11/mongodb主从架构设计/</id>
    <published>2019-01-11T02:49:11.000Z</published>
    <updated>2019-01-22T08:09:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x57FA;&#x672C;&#x7684;MongoDB&#x4E3B;&#x4ECE;&#x642D;&#x5EFA;&#x8BED;&#x53E5;&#xFF0C;&#x6C47;&#x603B;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E4B;&#x540E;&#x67E5;&#x9605;&#x3002;<br><a id="more"></a></p>
<p>&#x5E26;&#x53C2;&#x6570;&#x542F;&#x52A8;MongoDB&#xFF1A;<code>./mongod -f mongo-master.conf</code></p>
<p>&#x57FA;&#x672C;&#x5355;&#x673A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"># mongo.conf</div><div class="line"></div><div class="line"># fork and run in background</div><div class="line">fork=true</div><div class="line"></div><div class="line"># &#x7AEF;&#x53E3;</div><div class="line">port=9430</div><div class="line"></div><div class="line"># &#x8BA4;&#x8BC1;&#x6A21;&#x5F0F;</div><div class="line">auth=true</div><div class="line"></div><div class="line"># what storage engine to use - defaults to wiredTiger if no data files present directory for datafiles - defaults to /data/db</div><div class="line">storageEngine=wiredTiger</div><div class="line"></div><div class="line"># maximum amount of memory to allocate for cache; defaults to 1/2 of physical RAM</div><div class="line">wiredTigerCacheSizeGB=1</div><div class="line"></div><div class="line"># &#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x4F4D;&#x7F6E;</div><div class="line">dbpath=/db/mongodb-3.4.7/data/db</div><div class="line"></div><div class="line"># where to log</div><div class="line">logpath=/db/logs/mongodb.log</div><div class="line"></div><div class="line">#&#x4EE5;&#x8FFD;&#x52A0;&#x65B9;&#x5F0F;&#x5199;&#x5165;&#x65E5;&#x5FD7;</div><div class="line">logappend=true</div><div class="line"></div><div class="line"># each database will be stored in a separate directory</div><div class="line">directoryperdb=true</div><div class="line"></div><div class="line"># use a smaller default file size</div><div class="line">smallfiles=true</div><div class="line"></div><div class="line"># enable http interface&#xFF0C; port=28017</div><div class="line">httpinterface=false</div><div class="line"></div><div class="line"># turn on simple rest api &#x5F00;&#x542F;rest api</div><div class="line">rest=false</div><div class="line"></div><div class="line"># comma separated list of ip addresses to  listen on - all local ips by default</div><div class="line"># bind_ip=192.168.1.120,192.168.1.123</div></pre></td></tr></table></figure>
<p>&#x7B80;&#x5355;&#x7684;&#x4E3B;&#x4ECE;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<p>master.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"># &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;</div><div class="line">dbpath=/db/mongo/master/data</div><div class="line"># &#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#x53CA;&#x5176;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x540D;</div><div class="line">logpath=/db/mongo/master/logs/mongo.log</div><div class="line"># &#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x53F7;&#xFF08;&#x9ED8;&#x8BA4;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x662F; 27017&#xFF09;</div><div class="line">master=true</div><div class="line">#slave=true</div><div class="line"># &#x8BBE;&#x7F6E;&#x4E3A;&#x4EE5;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#xFF0C;&#x5373;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;</div><div class="line">fork=true</div><div class="line">#&#x76D1;&#x542C;&#x7F51;&#x5361;</div><div class="line">bind_ip= 0.0.0.0</div><div class="line">#&#x670D;&#x52A1;&#x7AEF;&#x53E3;</div><div class="line">port=27019</div><div class="line">oplogSize=2048</div><div class="line">#source=127.0.0.1:27018</div><div class="line">#autoresync=true</div></pre></td></tr></table></figure></p>
<p>slave.conf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"># &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;</div><div class="line">dbpath=/db/mongo/slave/data</div><div class="line"># &#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#x53CA;&#x5176;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x540D;</div><div class="line">logpath=/db/mongo/slave/logs/mongo.log</div><div class="line"># &#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x53F7;&#xFF08;&#x9ED8;&#x8BA4;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x662F; 27017&#xFF09;</div><div class="line">#master=true</div><div class="line">slave=true</div><div class="line"># &#x8BBE;&#x7F6E;&#x4E3A;&#x4EE5;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#xFF0C;&#x5373;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;</div><div class="line">fork=true</div><div class="line">#&#x76D1;&#x542C;&#x7F51;&#x5361;</div><div class="line">bind_ip= 0.0.0.0</div><div class="line">#&#x670D;&#x52A1;&#x7AEF;&#x53E3;</div><div class="line">port=27019</div><div class="line">oplogSize=2048</div><div class="line">source=127.0.0.1:27018</div><div class="line">autoresync=true</div></pre></td></tr></table></figure>
<p>&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x53C2;&#x6570;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">--quiet # &#x5B89;&#x9759;&#x8F93;&#x51FA;</div><div class="line">--port arg  # &#x6307;&#x5B9A;&#x670D;&#x52A1;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;27017</div><div class="line">--bind_ip arg   # &#x7ED1;&#x5B9A;&#x670D;&#x52A1;IP&#xFF0C;&#x82E5;&#x7ED1;&#x5B9A;127.0.0.1&#xFF0C;&#x5219;&#x53EA;&#x80FD;&#x672C;&#x673A;&#x8BBF;&#x95EE;&#xFF0C;&#x4E0D;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x672C;&#x5730;&#x6240;&#x6709;IP</div><div class="line">--logpath arg   # &#x6307;&#x5B9A;MongoDB&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x6CE8;&#x610F;&#x662F;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x4E0D;&#x662F;&#x76EE;&#x5F55;</div><div class="line">--logappend # &#x4F7F;&#x7528;&#x8FFD;&#x52A0;&#x7684;&#x65B9;&#x5F0F;&#x5199;&#x65E5;&#x5FD7;</div><div class="line">--pidfilepath arg   # PID File &#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#xFF0C;&#x5219;&#x6CA1;&#x6709;PID&#x6587;&#x4EF6;</div><div class="line">--keyFile arg   # &#x96C6;&#x7FA4;&#x7684;&#x79C1;&#x94A5;&#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#xFF0C;&#x53EA;&#x5BF9;&#x4E8E;Replica Set &#x67B6;&#x6784;&#x6709;&#x6548;</div><div class="line">--unixSocketPrefix arg  # UNIX&#x57DF;&#x5957;&#x63A5;&#x5B57;&#x66FF;&#x4EE3;&#x76EE;&#x5F55;,(&#x9ED8;&#x8BA4;&#x4E3A; /tmp)</div><div class="line">--fork  # &#x4EE5;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;MongoDB&#xFF0C;&#x521B;&#x5EFA;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x7A0B;</div><div class="line">--auth  # &#x542F;&#x7528;&#x9A8C;&#x8BC1;</div><div class="line">--cpu   # &#x5B9A;&#x671F;&#x663E;&#x793A;CPU&#x7684;CPU&#x5229;&#x7528;&#x7387;&#x548C;iowait</div><div class="line">--dbpath arg    # &#x6307;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x8DEF;&#x5F84;</div><div class="line">--diaglog arg   # diaglog&#x9009;&#x9879; 0=off 1=W 2=R 3=both 7=W+some reads</div><div class="line">--directoryperdb    # &#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5C06;&#x88AB;&#x4FDD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x76EE;&#x5F55;</div><div class="line">--journal   # &#x542F;&#x7528;&#x65E5;&#x5FD7;&#x9009;&#x9879;&#xFF0C;MongoDB&#x7684;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x5C06;&#x4F1A;&#x5199;&#x5165;&#x5230;journal&#x6587;&#x4EF6;&#x5939;&#x7684;&#x6587;&#x4EF6;&#x91CC;</div><div class="line">--journalOptions arg    # &#x542F;&#x7528;&#x65E5;&#x5FD7;&#x8BCA;&#x65AD;&#x9009;&#x9879;</div><div class="line">--ipv6  # &#x542F;&#x7528;IPv6&#x9009;&#x9879;</div><div class="line">--jsonp # &#x5141;&#x8BB8;JSONP&#x5F62;&#x5F0F;&#x901A;&#x8FC7;HTTP&#x8BBF;&#x95EE;&#xFF08;&#x6709;&#x5B89;&#x5168;&#x5F71;&#x54CD;&#xFF09;</div><div class="line">--maxConns arg  # &#x6700;&#x5927;&#x540C;&#x65F6;&#x8FDE;&#x63A5;&#x6570; &#x9ED8;&#x8BA4;2000</div><div class="line">--noauth    # &#x4E0D;&#x542F;&#x7528;&#x9A8C;&#x8BC1;</div><div class="line">--nohttpinterface   # &#x5173;&#x95ED;http&#x63A5;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x5173;&#x95ED;27018&#x7AEF;&#x53E3;&#x8BBF;&#x95EE;</div><div class="line">--noprealloc    # &#x7981;&#x7528;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x9884;&#x5206;&#x914D;(&#x5F80;&#x5F80;&#x5F71;&#x54CD;&#x6027;&#x80FD;)</div><div class="line">--noscripting   # &#x7981;&#x7528;&#x811A;&#x672C;&#x5F15;&#x64CE;</div><div class="line">--notablescan   # &#x4E0D;&#x5141;&#x8BB8;&#x8868;&#x626B;&#x63CF;</div><div class="line">--nounixsocket  # &#x7981;&#x7528;Unix&#x5957;&#x63A5;&#x5B57;&#x76D1;&#x542C;</div><div class="line">--nssize arg (=16)  # &#x8BBE;&#x7F6E;&#x4FE1;&#x6570;&#x636E;&#x5E93;.ns&#x6587;&#x4EF6;&#x5927;&#x5C0F;(MB)</div><div class="line">--objcheck  # &#x5728;&#x6536;&#x5230;&#x5BA2;&#x6237;&#x6570;&#x636E;,&#x68C0;&#x67E5;&#x7684;&#x6709;&#x6548;&#x6027;&#xFF0C;</div><div class="line">--profile arg   # &#x6863;&#x6848;&#x53C2;&#x6570; 0=off 1=slow, 2=all</div><div class="line">--quota # &#x9650;&#x5236;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x6570;&#xFF0C;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x4E3A;8</div><div class="line">--quotaFiles arg    # number of files allower per db, requires --quota</div><div class="line">--rest  # &#x5F00;&#x542F;&#x7B80;&#x5355;&#x7684;rest API</div><div class="line">--repair    # &#x4FEE;&#x590D;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;run repair on all dbs</div><div class="line">--repairpath arg    # &#x4FEE;&#x590D;&#x5E93;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;,&#x9ED8;&#x8BA4;&#x4E3A;&#x76EE;&#x5F55;&#x540D;&#x79F0;dbpath</div><div class="line">--slowms arg (=100) # value of slow for profile and console log</div><div class="line">--smallfiles    # &#x4F7F;&#x7528;&#x8F83;&#x5C0F;&#x7684;&#x9ED8;&#x8BA4;&#x6587;&#x4EF6;</div><div class="line">--syncdelay arg (=60)   # &#x6570;&#x636E;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x7684;&#x65F6;&#x95F4;&#x79D2;&#x6570;(0=never,&#x4E0D;&#x63A8;&#x8350;)</div><div class="line">--sysinfo   # &#x6253;&#x5370;&#x4E00;&#x4E9B;&#x8BCA;&#x65AD;&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;</div><div class="line">--upgrade   # &#x5982;&#x679C;&#x9700;&#x8981;&#x5347;&#x7EA7;&#x6570;&#x636E;&#x5E93;</div><div class="line"> * Replicaton &#x53C2;&#x6570;</div><div class="line"> </div><div class="line">--------------------------------------------------------------------------------</div><div class="line"> </div><div class="line"> </div><div class="line">--fastsync  # &#x4ECE;&#x4E00;&#x4E2A;dbpath&#x91CC;&#x542F;&#x7528;&#x4ECE;&#x5E93;&#x590D;&#x5236;&#x670D;&#x52A1;&#xFF0C;&#x8BE5;dbpath&#x7684;&#x6570;&#x636E;&#x5E93;&#x662F;&#x4E3B;&#x5E93;&#x7684;&#x5FEB;&#x7167;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x5FEB;&#x901F;&#x542F;&#x7528;&#x540C;&#x6B65;</div><div class="line">--autoresync    # &#x5982;&#x679C;&#x4ECE;&#x5E93;&#x4E0E;&#x4E3B;&#x5E93;&#x540C;&#x6B65;&#x6570;&#x636E;&#x5DEE;&#x5F97;&#x591A;&#xFF0C;&#x81EA;&#x52A8;&#x91CD;&#x65B0;&#x540C;&#x6B65;;&#x5F53;&#x53D1;&#x73B0;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x65F6;&#xFF0C;&#x5F00;&#x59CB;&#x4ECE;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x8BF7;&#x6C42;&#x540C;&#x6B65;&#x6570;&#x636E;</div><div class="line">--oplogSize arg # &#x4E3B;&#x8282;&#x70B9;&#x7684;oplog&#x65E5;&#x5FD7;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;M&#xFF0C;&#x5EFA;&#x8BAE;&#x8BBE;&#x5927;&#x70B9;(&#x66F4;&#x6539;oplog&#x5927;&#x5C0F;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x505C;&#x4E3B;&#x5E93;&#xFF0C;&#x5220;&#x9664;local.*&#xFF0C;&#x7136;&#x540E;&#x52A0;--oplogSize=* &#x91CD;&#x65B0;&#x542F;&#x52A8;&#x5373;&#x53EF;,*&#x4EE3;&#x8868;&#x5927;&#x5C0F;)</div><div class="line"> * &#x4E3B;/&#x4ECE;&#x53C2;&#x6570;</div><div class="line"> </div><div class="line">--------------------------------------------------------------------------------</div><div class="line"> </div><div class="line"> </div><div class="line">--master    # &#x4E3B;&#x5E93;&#x6A21;&#x5F0F;</div><div class="line">--slave # &#x4ECE;&#x5E93;&#x6A21;&#x5F0F;</div><div class="line">--source arg    # &#x4ECE;&#x5E93; &#x7AEF;&#x53E3;&#x53F7;</div><div class="line">--only arg  # &#x6307;&#x5B9A;&#x5355;&#x4E00;&#x7684;&#x6570;&#x636E;&#x5E93;&#x590D;&#x5236;</div><div class="line">--slavedelay arg    # &#x8BBE;&#x7F6E;&#x4ECE;&#x5E93;&#x540C;&#x6B65;&#x4E3B;&#x5E93;&#x7684;&#x5EF6;&#x8FDF;&#x65F6;&#x95F4;</div><div class="line"> * Replica set(&#x526F;&#x672C;&#x96C6;)&#x9009;&#x9879;&#xFF1A;</div><div class="line"> </div><div class="line">--------------------------------------------------------------------------------</div><div class="line"> </div><div class="line"> </div><div class="line">--replSet arg   # &#x8BBE;&#x7F6E;&#x526F;&#x672C;&#x96C6;&#x540D;&#x79F0;</div><div class="line"> * Sharding(&#x5206;&#x7247;)&#x9009;&#x9879;</div><div class="line"> </div><div class="line">--------------------------------------------------------------------------------</div><div class="line"></div><div class="line">--configsvr # &#x58F0;&#x660E;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x7684;config&#x670D;&#x52A1;,&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;27019&#xFF0C;&#x9ED8;&#x8BA4;&#x76EE;&#x5F55;/data/configdb</div><div class="line">--shardsvr  # &#x58F0;&#x660E;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x7684;&#x5206;&#x7247;,&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;27018</div><div class="line">--noMoveParanoia    # &#x5173;&#x95ED;&#x504F;&#x6267;&#x4E3A;moveChunk&#x6570;&#x636E;&#x4FDD;&#x5B58;</div></pre></td></tr></table></figure></p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://www.cnblogs.com/amoyzhu/p/7943018.html" target="_blank" rel="external">mongo&#x4E3B;&#x4ECE;&#x914D;&#x7F6E;</a></p>
<h3 id="&#x4E3B;&#x673A;&#x4E2D;&#x5B58;&#x50A8;"><a href="#&#x4E3B;&#x673A;&#x4E2D;&#x5B58;&#x50A8;" class="headerlink" title="&#x4E3B;&#x673A;&#x4E2D;&#x5B58;&#x50A8;"></a>&#x4E3B;&#x673A;&#x4E2D;&#x5B58;&#x50A8;</h3><p>db.createCollection(&#x201C;test&#x201D;);<br>db.getCollection(&#x2018;test&#x2019;). insert({&#x201C;name&#x201D;:&#x201D;master&#x201D;})</p>
<h3 id="&#x9A8C;&#x8BC1;-&#x5728;slave&#x4E2D;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x6B64;&#x6570;&#x636E;"><a href="#&#x9A8C;&#x8BC1;-&#x5728;slave&#x4E2D;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x6B64;&#x6570;&#x636E;" class="headerlink" title="&#x9A8C;&#x8BC1; &#x5728;slave&#x4E2D;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x6B64;&#x6570;&#x636E;"></a>&#x9A8C;&#x8BC1; &#x5728;slave&#x4E2D;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x6B64;&#x6570;&#x636E;</h3><p>./mongo host:port/db -u user -p pwd</p>
<p>#mongo 127.0.0.1:9430/admin -u root -p FpTH2a<br>db.getCollection(&#x2018;test&#x2019;).find({});<br>&#x9ED8;&#x8BA4;&#x7684;SECONDARY&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x8BFB;&#x5199;&#x7684;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x89E3;&#x51B3;<br>rs.slaveOk();</p>
<p>&#x52A0;Auth=true&#x7684;&#x9A8C;&#x8BC1;</p>
<h3 id="&#x7591;&#x95EE;&#xFF1A;&#x5982;&#x679C;&#x4E3B;&#x673A;&#x5B95;&#x673A;&#x4E4B;&#x540E;&#xFF0C;&#x5907;&#x673A;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F;&#x670D;&#x52A1;&#x7684;&#x53EF;&#x7528;&#x6027;&#x600E;&#x4E48;&#x4FDD;&#x8BC1;&#xFF1F;"><a href="#&#x7591;&#x95EE;&#xFF1A;&#x5982;&#x679C;&#x4E3B;&#x673A;&#x5B95;&#x673A;&#x4E4B;&#x540E;&#xFF0C;&#x5907;&#x673A;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F;&#x670D;&#x52A1;&#x7684;&#x53EF;&#x7528;&#x6027;&#x600E;&#x4E48;&#x4FDD;&#x8BC1;&#xFF1F;" class="headerlink" title="&#x7591;&#x95EE;&#xFF1A;&#x5982;&#x679C;&#x4E3B;&#x673A;&#x5B95;&#x673A;&#x4E4B;&#x540E;&#xFF0C;&#x5907;&#x673A;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F;&#x670D;&#x52A1;&#x7684;&#x53EF;&#x7528;&#x6027;&#x600E;&#x4E48;&#x4FDD;&#x8BC1;&#xFF1F;"></a>&#x7591;&#x95EE;&#xFF1A;&#x5982;&#x679C;&#x4E3B;&#x673A;&#x5B95;&#x673A;&#x4E4B;&#x540E;&#xFF0C;&#x5907;&#x673A;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F;&#x670D;&#x52A1;&#x7684;&#x53EF;&#x7528;&#x6027;&#x600E;&#x4E48;&#x4FDD;&#x8BC1;&#xFF1F;</h3><p>&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><a href="https://blog.csdn.net/weixin_41988331/article/details/83116873" target="_blank" rel="external">mongodb &#x4E3B;&#x4ECE; &#x90E8;&#x7F72; &#x5207;&#x6362;</a></li>
<li><a href="https://blog.csdn.net/lelemom/article/details/82704980" target="_blank" rel="external">mongodb&#x4E3B;&#x4ECE;&#x914D;&#x7F6E;&#x53CA;&#x5907;&#x4EFD;</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      设计mongo的主从架构
    
    </summary>
    
      <category term="数据库" scheme="https://muxiaobai.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="mongo" scheme="https://muxiaobai.github.io/tags/mongo/"/>
    
      <category term="设计" scheme="https://muxiaobai.github.io/tags/%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>前言技术之OCR识别</title>
    <link href="https://muxiaobai.github.io/2018/12/21/%E5%89%8D%E8%A8%80%E6%8A%80%E6%9C%AF%E4%B9%8BOCR%E8%AF%86%E5%88%AB/"/>
    <id>https://muxiaobai.github.io/2018/12/21/前言技术之OCR识别/</id>
    <published>2018-12-21T09:10:12.000Z</published>
    <updated>2018-12-24T02:07:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>OCR&#x6280;&#x672F;&#x662F;&#x5149;&#x5B66;&#x5B57;&#x7B26;&#x8BC6;&#x522B;&#x7684;&#x7F29;&#x5199;(Optical Character Recognition)&#xFF0C;&#x662F;&#x901A;&#x8FC7;&#x626B;&#x63CF;&#x7B49;&#x5149;&#x5B66;&#x8F93;&#x5165;&#x65B9;&#x5F0F;&#x5C06;&#x5404;&#x79CD;&#x7968;&#x636E;&#x3001;&#x62A5;&#x520A;&#x3001;&#x4E66;&#x7C4D;&#x3001;&#x6587;&#x7A3F;&#x53CA;&#x5176;&#x5B83;&#x5370;&#x5237;&#x54C1;&#x7684;&#x6587;&#x5B57;&#x8F6C;&#x5316;&#x4E3A;&#x56FE;&#x50CF;&#x4FE1;&#x606F;&#xFF0C;&#x518D;&#x5229;&#x7528;&#x6587;&#x5B57;&#x8BC6;&#x522B;&#x6280;&#x672F;&#x5C06;&#x56FE;&#x50CF;&#x4FE1;&#x606F;&#x8F6C;&#x5316;&#x4E3A;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x8F93;&#x5165;&#x6280;&#x672F;&#x3002;</p>
<p>&#x4E3B;&#x8981;&#x662F;&#x4E24;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x5148;&#x83B7;&#x53D6;&#x8F93;&#x5165;&#x6E90;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#x626B;&#x63CF;&#x4EEA;&#x3001;&#x76F8;&#x673A;&#x7B49;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x8BC6;&#x522B;&#xFF0C;&#x76EE;&#x524D;&#x6D41;&#x884C;&#x7684;&#x8BC6;&#x522B;&#x6280;&#x672F;&#x4E3B;&#x8981;&#x662F;RNN&#x5FAA;&#x73AF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x3001;LSTM&#x7B49;&#xFF0C;&#x4F20;&#x7EDF;&#x7684;OCR<br><a id="more"></a><br>tesseract-ocr &#x8BC6;&#x522B;&#xFF0C;&#x5F53;&#x524D;&#x4F7F;&#x7528;&#x7248;&#x672C;4.0&#xFF0C;&#x4E0B;&#x8F7D;&#x7684;&#x65F6;&#x5019;,&#x76F4;&#x63A5;&#x5728;github&#x4E2D;&#x7684;wiki&#x5373;&#x53EF;&#x3002;</p>
<p>win</p>
<p>&#x73AF;&#x5883;&#x53D8;&#x91CF;</p>
<p>&#x589E;&#x52A0;&#x4E00;&#x4E2A;PATH&#x53D8;&#x91CF;&#x540D;&#xFF0C;&#x53D8;&#x91CF;&#x503C;&#x8FD8;&#x662F;&#x6211;&#x7684;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;C:\Program Files (x86)\Tesseract-OCR;</p>
<p>&#x589E;&#x52A0;&#x4E00;&#x4E2A;TESSDATA_PREFIX&#x53D8;&#x91CF;&#x540D;&#xFF0C;&#x53D8;&#x91CF;&#x503C;&#x8FD8;&#x662F;&#x6211;&#x7684;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;C:\Program Files (x86)\Tesseract-OCR\tessdata;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tesseract -v</div><div class="line"></div><div class="line">tesseract test.png output_1 &#x2013;l eng</div></pre></td></tr></table></figure>
<p><a href="https://github.com/tesseract-ocr/tesseract/wiki" target="_blank" rel="external">wiki</a><br><a href="https://www.cnblogs.com/jianqingwang/p/6978724.html" target="_blank" rel="external">&#x5B89;&#x88C5;</a><br><a href="https://www.cnblogs.com/cnlian/p/5765871.html" target="_blank" rel="external">&#x4F7F;&#x7528;</a></p>
]]></content>
    
    <summary type="html">
    
      OCR,文字识别技术
    
    </summary>
    
      <category term="OCR" scheme="https://muxiaobai.github.io/categories/OCR/"/>
    
    
      <category term="前沿技术" scheme="https://muxiaobai.github.io/tags/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>深入理解JVM之远程监控</title>
    <link href="https://muxiaobai.github.io/2018/11/22/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM%E4%B9%8B%E8%BF%9C%E7%A8%8B%E7%9B%91%E6%8E%A7/"/>
    <id>https://muxiaobai.github.io/2018/11/22/深入理解JVM之远程监控/</id>
    <published>2018-11-22T07:21:35.000Z</published>
    <updated>2019-01-02T03:12:43.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8FDC;&#x7A0B;&#x76D1;&#x63A7;jconsole&#x548C;jvisualvm<br><a id="more"></a></p>
<p>&#x4FEE;&#x6539;&#x670D;&#x52A1;&#x5668;tomcat&#x7684;bin/catalina.bat&#x6587;&#x4EF6;,</p>
<p>&#x65B0;&#x5EFA;setenv.sh,&#x7ED9;&#x6743;&#x9650;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">JAVA_OPTS=&quot;$JAVA_OPTS -Djava.rmi.server.hostname=192.168.202.121 -Dcom.sun.management.jmxremote&quot;</div><div class="line">JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.port=12345&quot;</div><div class="line">JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.authenticate=true&quot;</div><div class="line">JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.ssl=false&quot;</div><div class="line">JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.pwd.file=$JAVA_HOME/jre/lib/management/jmxremote.password&quot;</div></pre></td></tr></table></figure>
<p>&#x914D;&#x7F6E;&#x6743;&#x9650;&#x6587;&#x4EF6;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">[root@localhost bin]# cd $JAVA_HOME/jre/lib/management</div><div class="line"></div><div class="line">[root@localhost management]# cp jmxremote.password.template jmxremote.password</div><div class="line"></div><div class="line">[root@localhost management]# vi jmxremote.password</div><div class="line"></div><div class="line">monitorRole QED</div><div class="line">controlRole chenqimiao</div><div class="line"></div><div class="line">[root@localhost management]# chmod 600 jmxremote.password jmxremote.access</div></pre></td></tr></table></figure>
<p>linux:  netstat -ano | grep 12345<br>win :   netstat -ano | findstr 12345</p>
<p>&#x4FEE;&#x6539;jvisualvm&#x5DE5;&#x5177;&#x65E0;&#x6CD5;&#x4E0B;&#x8F7D;&#x63D2;&#x4EF6;&#x95EE;&#x9898;&#x3002;<br>&#x4FEE;&#x6539;&#x63D2;&#x4EF6;&gt;&gt;&gt;&#x8BBE;&#x7F6E;&#x4E2D;&#x7684;&#x5730;&#x5740;<br>&#x5728;<a href="https://visualvm.github.io/pluginscenters.html" target="_blank" rel="external">visual VM &#x7F51;&#x5740;&#x67E5;&#x8BE2;</a></p>
<ul>
<li><a href="https://www.cnblogs.com/think-in-java/p/6138439.html" target="_blank" rel="external">JConsole&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;</a></li>
<li><a href="https://blog.csdn.net/yunzhu666/article/details/8662045" target="_blank" rel="external">&#x76D1;&#x63A7;JVM&#x5E26;main&#x65B9;&#x6CD5;</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      JVM配置远程监控,配置
    
    </summary>
    
      <category term="java" scheme="https://muxiaobai.github.io/categories/java/"/>
    
    
      <category term="tomcat" scheme="https://muxiaobai.github.io/tags/tomcat/"/>
    
      <category term="jvm" scheme="https://muxiaobai.github.io/tags/jvm/"/>
    
  </entry>
  
  <entry>
    <title>数据库监控-Druid监控配置</title>
    <link href="https://muxiaobai.github.io/2018/11/22/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%91%E6%8E%A7-Druid%E7%9B%91%E6%8E%A7%E9%85%8D%E7%BD%AE/"/>
    <id>https://muxiaobai.github.io/2018/11/22/数据库监控-Druid监控配置/</id>
    <published>2018-11-22T02:22:41.000Z</published>
    <updated>2019-01-11T02:51:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>Druid&#x8FDE;&#x63A5;&#x6C60;&#x76D1;&#x63A7;&#x95EE;&#x9898;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#xFF0C;&#x914D;&#x7F6E;&#xFF0C;&#x8BB0;&#x5F55;&#x6162;SQL&#x7B49;&#x3002;<br><a id="more"></a></p>
<p><a href="https://github.com/alibaba/druid" target="_blank" rel="external">Github repo</a><br><a href="https://github.com/alibaba/druid/wiki/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" target="_blank" rel="external">Github Druid Wiki</a></p>
<h2 id="&#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x9875;&#x9762;"><a href="#&#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x9875;&#x9762;" class="headerlink" title="&#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x9875;&#x9762;"></a>&#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x9875;&#x9762;</h2><h2 id="WEB&#x5E94;&#x7528;-URI&#x76D1;&#x63A7;-Spring&#x76D1;&#x63A7;"><a href="#WEB&#x5E94;&#x7528;-URI&#x76D1;&#x63A7;-Spring&#x76D1;&#x63A7;" class="headerlink" title="WEB&#x5E94;&#x7528; URI&#x76D1;&#x63A7; Spring&#x76D1;&#x63A7;"></a>WEB&#x5E94;&#x7528; URI&#x76D1;&#x63A7; Spring&#x76D1;&#x63A7;</h2><p>web.xml,&#x653E;&#x5728;&#x524D;&#x9762;&#x7684;&#xFF0C;URI&#x76D1;&#x63A7;filter&#xFF0C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"> &lt;!-- druid&#x76D1;&#x63A7; http://host:port/druid/sql.html --&gt;</div><div class="line">&lt;filter&gt;</div><div class="line">		&lt;filter-name&gt;DruidWebStatFilter&lt;/filter-name&gt;</div><div class="line">		&lt;filter-class&gt;com.alibaba.druid.support.http.WebStatFilter&lt;/filter-class&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;!-- &#x7ECF;&#x5E38;&#x9700;&#x8981;&#x6392;&#x9664;&#x4E00;&#x4E9B;&#x4E0D;&#x5FC5;&#x8981;&#x7684;url&#xFF0C;&#x6BD4;&#x5982;.js,/jslib/&#x7B49;&#x7B49;&#x3002;&#x914D;&#x7F6E;&#x5728;init-param&#x4E2D; --&gt;</div><div class="line">			&lt;param-name&gt;exclusions&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;!-- &#x7F3A;&#x7701;sessionStatMaxCount&#x662F;1000&#x4E2A;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x6309;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x914D;&#x7F6E; --&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;sessionStatMaxCount&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;1000&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;!-- druid 0.2.7&#x7248;&#x672C;&#x5F00;&#x59CB;&#x652F;&#x6301;profile&#xFF0C;&#x914D;&#x7F6E;profileEnable&#x80FD;&#x591F;&#x76D1;&#x63A7;&#x5355;&#x4E2A;url&#x8C03;&#x7528;&#x7684;sql&#x5217;&#x8868; --&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;profileEnable&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;true&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">	  		&lt;param-name&gt;principalCookieName&lt;/param-name&gt;</div><div class="line">  			&lt;param-value&gt;userName&lt;/param-value&gt;</div><div class="line">  		&lt;/init-param&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;principalSessionName&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;session_user&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;!-- &#x4F60;&#x53EF;&#x4EE5;&#x5173;&#x95ED;session&#x7EDF;&#x8BA1;&#x529F;&#x80FD; </div><div class="line">		&lt;init-param&gt; </div><div class="line">			&lt;param-name&gt;sessionStatEnable&lt;/param-name&gt; </div><div class="line">			&lt;param-value&gt;true&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt; --&gt;</div><div class="line">	&lt;/filter&gt;</div><div class="line">	&lt;filter-mapping&gt;</div><div class="line">  		&lt;filter-name&gt;DruidWebStatFilter&lt;/filter-name&gt;</div><div class="line">  		&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</div><div class="line">  	&lt;/filter-mapping&gt; </div><div class="line">  	</div><div class="line">	&lt;servlet&gt;</div><div class="line">		&lt;servlet-name&gt;DruidStatView&lt;/servlet-name&gt;</div><div class="line">		&lt;servlet-class&gt;com.alibaba.druid.support.http.StatViewServlet&lt;/servlet-class&gt;</div><div class="line">		&lt;!-- </div><div class="line">			deny&#x4F18;&#x5148;&#x4E8E;allow&#xFF0C;&#x5982;&#x679C;&#x5728;deny&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x5C31;&#x7B97;&#x5728;allow&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x4E5F;&#x4F1A;&#x88AB;&#x62D2;&#x7EDD;&#x3002;</div><div class="line">			&#x5982;&#x679C;allow&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x6216;&#x8005;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x8BBF;&#x95EE;</div><div class="line">		 --&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;allow&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;10.38.94.201,127.0.0.1&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">&lt;!-- 		&lt;init-param&gt; --&gt;</div><div class="line">&lt;!-- 			&lt;param-name&gt;deny&lt;/param-name&gt; --&gt;</div><div class="line">&lt;!-- 			&lt;param-value&gt;10.38.94.201&lt;/param-value&gt; --&gt;</div><div class="line">&lt;!-- 		&lt;/init-param&gt; --&gt;</div><div class="line">		&lt;!-- &#x5728;StatViewSerlvet&#x8F93;&#x51FA;&#x7684;html&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x662F;Reset All&#xFF0C;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x6240;&#x6709;&#x8BA1;&#x6570;&#x5668;&#x6E05;&#x96F6;&#xFF0C;&#x91CD;&#x65B0;&#x8BA1;&#x6570; --&gt;</div><div class="line">	   &lt;span style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&lt;init-param&gt;</div><div class="line">	        &lt;span style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&lt;param-name&gt;resetEnable&lt;/param-name&gt;</div><div class="line">	        &lt;span style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&lt;param-value&gt;false&lt;/param-value&gt;</div><div class="line">	    &lt;span style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&lt;/init-param&gt;</div><div class="line">	    &lt;span style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&lt;!--  &#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801; --&gt;</div><div class="line">	    &lt;span style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;loginUsername&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;druid&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;loginPassword&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;druid&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">	&lt;/servlet&gt;</div><div class="line">	&lt;servlet-mapping&gt;</div><div class="line">		&lt;servlet-name&gt;DruidStatView&lt;/servlet-name&gt;</div><div class="line">		&lt;url-pattern&gt;/druid/*&lt;/url-pattern&gt;</div><div class="line">	&lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure>
<p>spring.xml &#x76D1;&#x63A7;Spring</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;!-- spring &#x76D1;&#x63A7; --&gt;</div><div class="line">   &lt;bean id=&quot;druid-stat-interceptor&quot;</div><div class="line">         class=&quot;com.alibaba.druid.support.spring.stat.DruidStatInterceptor&quot;&gt;</div><div class="line">   &lt;/bean&gt;</div><div class="line"></div><div class="line">   &lt;bean id=&quot;druid-stat-pointcut&quot; class=&quot;org.springframework.aop.support.JdkRegexpMethodPointcut&quot;</div><div class="line">         scope=&quot;prototype&quot;&gt;</div><div class="line">       &lt;property name=&quot;patterns&quot;&gt;</div><div class="line">           &lt;list&gt;</div><div class="line">               &lt;value&gt;cn.forp.*.service.*.*(..)&lt;/value&gt;</div><div class="line">               &lt;value&gt;cn.forp.*.controller.*.*(..)&lt;/value&gt;</div><div class="line">           &lt;/list&gt;</div><div class="line">       &lt;/property&gt;</div><div class="line">   &lt;/bean&gt;</div><div class="line"></div><div class="line">   &lt;aop:config&gt;</div><div class="line">       &lt;aop:advisor advice-ref=&quot;druid-stat-interceptor&quot; pointcut-ref=&quot;druid-stat-pointcut&quot;/&gt;</div><div class="line">   &lt;/aop:config&gt;</div></pre></td></tr></table></figure>
<h2 id="&#x6162;SQL&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;"><a href="#&#x6162;SQL&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;" class="headerlink" title="&#x6162;SQL&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;"></a>&#x6162;SQL&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;</h2><p>spring.xml&#x7684; dataSource bean</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt; </div><div class="line"></div><div class="line">	&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@host:port/orcl&quot;/&gt;</div><div class="line">	&lt;property name=&quot;username&quot; value=&quot;&quot;/&gt;</div><div class="line">	&lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;</div><div class="line"></div><div class="line">	&lt;property name=&quot;validationQuery&quot; value=&quot;select &apos;x&apos; from dual&quot;/&gt;</div><div class="line"></div><div class="line">	&lt;!-- &#x914D;&#x7F6E;&#x521D;&#x59CB;&#x5316;&#x5927;&#x5C0F;&#x3001;&#x6700;&#x5C0F;&#x3001;&#x6700;&#x5927; --&gt;</div><div class="line">	&lt;property name=&quot;initialSize&quot; value=&quot;2&quot;/&gt;</div><div class="line">	&lt;property name=&quot;minIdle&quot; value=&quot;1&quot;/&gt; </div><div class="line">	&lt;property name=&quot;maxActive&quot; value=&quot;5&quot;/&gt;</div><div class="line">	&lt;!-- &#x914D;&#x7F6E;&#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x7B49;&#x5F85;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2; --&gt;</div><div class="line">	&lt;property name=&quot;maxWait&quot; value=&quot;60000&quot;/&gt;</div><div class="line">	&lt;!-- &#x914D;&#x7F6E;&#x95F4;&#x9694;&#x591A;&#x4E45;&#x624D;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x68C0;&#x6D4B;&#xFF0C;&#x68C0;&#x6D4B;&#x9700;&#x8981;&#x5173;&#x95ED;&#x7684;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2; --&gt;</div><div class="line">	&lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot;/&gt;</div><div class="line">	&lt;!-- &#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x5728;&#x6C60;&#x4E2D;&#x6700;&#x5C0F;&#x751F;&#x5B58;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2; --&gt;</div><div class="line">	&lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;300000&quot;/&gt;</div><div class="line">	&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot;/&gt;</div><div class="line">	&lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot;/&gt;</div><div class="line">	&lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot;/&gt;</div><div class="line">	&lt;!-- &#x6253;&#x5F00;PSCache&#xFF0C;&#x5E76;&#x4E14;&#x6307;&#x5B9A;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x4E0A;PSCache&#x7684;&#x5927;&#x5C0F; --&gt;</div><div class="line">	&lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot;/&gt;</div><div class="line">	&lt;property name=&quot;maxPoolPreparedStatementPerConnectionSize&quot; value=&quot;20&quot;/&gt;</div><div class="line">	&lt;!-- &#x542F;&#x7528;&#x62E6;&#x622A;&#x7684;filters&#xFF1A;sql&#x6CE8;&#x5165;&#xFF0C;&#x76D1;&#x63A7;&#x7EDF;&#x8BA1; --&gt;</div><div class="line">		&lt;property name=&quot;filters&quot; value=&quot;wall,stat&quot;/&gt;</div><div class="line"></div><div class="line">	&lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot; /&gt; &lt;!-- &#x6253;&#x5F00;removeAbandoned&#x529F;&#x80FD; --&gt;</div><div class="line">  	&lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;1800&quot; /&gt; &lt;!-- 1800&#x79D2;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;30&#x5206;&#x949F; --&gt;</div><div class="line"> 		&lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot; /&gt; &lt;!-- &#x5173;&#x95ED;abanded&#x8FDE;&#x63A5;&#x65F6;&#x8F93;&#x51FA;&#x9519;&#x8BEF;&#x65E5;&#x5FD7; --&gt;</div><div class="line"></div><div class="line">	&lt;property name=&quot;proxyFilters&quot;&gt;</div><div class="line">           &lt;list&gt;</div><div class="line">               &lt;ref bean=&quot;stat-filter&quot;/&gt;</div><div class="line">               &lt;ref bean=&quot;log-filter&quot;/&gt;</div><div class="line">           &lt;/list&gt;</div><div class="line">       &lt;/property&gt;</div><div class="line">&lt;/bean&gt;</div><div class="line">    &lt;!-- &#x6162;SQL&#x8BB0;&#x5F55; --&gt;</div><div class="line">   &lt;bean id=&quot;stat-filter&quot; class=&quot;com.alibaba.druid.filter.stat.StatFilter&quot;&gt;</div><div class="line">       &lt;!-- &#x6162;sql&#x65F6;&#x95F4;&#x8BBE;&#x7F6E;,&#x5373;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x5927;&#x4E8E;200&#x6BEB;&#x79D2;&#x7684;&#x90FD;&#x662F;&#x6162;sql --&gt;</div><div class="line">       &lt;property name=&quot;slowSqlMillis&quot; value=&quot;200&quot;/&gt;</div><div class="line">       &lt;property name=&quot;logSlowSql&quot; value=&quot;true&quot;/&gt;</div><div class="line">   &lt;/bean&gt;</div><div class="line"></div><div class="line">   &lt;bean id=&quot;log-filter&quot; class=&quot;com.alibaba.druid.filter.logging.Log4jFilter&quot;&gt;</div><div class="line">       &lt;property name=&quot;dataSourceLogEnabled&quot; value=&quot;true&quot; /&gt;</div><div class="line">       &lt;property name=&quot;statementExecutableSqlLogEnable&quot; value=&quot;true&quot; /&gt;</div><div class="line">   &lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>log4j.properties</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"># ROOT Logger</div><div class="line">log4j.rootLogger = INFO, console, druid</div><div class="line"></div><div class="line"># log4j.category.org.springframework = DEBUG</div><div class="line">log4j.category.cn.forp = DEBUG</div><div class="line"></div><div class="line"># Console</div><div class="line">log4j.appender.console = org.apache.log4j.ConsoleAppender</div><div class="line">log4j.appender.console.layout = org.apache.log4j.PatternLayout</div><div class="line">log4j.appender.console.layout.ConversionPattern = [%d{yyyy-MM-dd HH:mm:ss}] %5p %c{1} %m%n</div><div class="line"></div><div class="line"># File</div><div class="line">log4j.appender.file = org.apache.log4j.DailyRollingFileAppender</div><div class="line">log4j.appender.file.file = ${catalina.home}/logs/forp-pitaya.log</div><div class="line">log4j.appender.file.DatePattern = &apos;.&apos;yyyy-MM-dd</div><div class="line">log4j.appender.file.layout = org.apache.log4j.PatternLayout</div><div class="line">log4j.appender.file.layout.conversionPattern = [%d{yyyy-MM-dd HH:mm:ss}] %5p %c{1} %m%n</div><div class="line">log4j.appender.file.append =false</div><div class="line"></div><div class="line"># Druid</div><div class="line">log4j.logger.druid.sql=WARN,druid</div><div class="line">log4j.logger.druid.sql.DataSource=WARN,druid</div><div class="line">log4j.logger.druid.sql.Connection=WARN,druid</div><div class="line">log4j.logger.druid.sql.Statement=WARN,druid</div><div class="line"></div><div class="line">log4j.appender.druid=org.apache.log4j.DailyRollingFileAppender</div><div class="line">log4j.appender.druid.layout=org.apache.log4j.PatternLayout</div><div class="line">log4j.appender.druid.layout.ConversionPattern= [%d{yyyy-MM-dd HH\:mm\:ss}] %c{1} - %m%n</div><div class="line">log4j.appender.druid.datePattern=&apos;.&apos;yyyy-MM-dd</div><div class="line">log4j.appender.druid.Threshold = WARN</div><div class="line">log4j.appender.druid.append=true</div><div class="line">log4j.appender.druid.File=${catalina.home}/logs/druid-slow-sql.log</div></pre></td></tr></table></figure>
<p>&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><a href="https://my.oschina.net/wangmengjun/blog/788386" target="_blank" rel="external">&#x4F7F;&#x7528;Druid&#x76D1;&#x63A7;SQL&#x6267;&#x884C;&#x72B6;&#x6001;</a></li>
<li><a href="https://blog.csdn.net/haiyang4988/article/details/73740700" target="_blank" rel="external">druid&#x76D1;&#x63A7;&#x53CA;&#x6162;sql&#x8BB0;&#x5F55;</a></li>
<li><a href="https://blog.csdn.net/binglovezi/article/details/50610269#" target="_blank" rel="external">Druid Monitor&#x76D1;&#x63A7;JavaSE&#x548C;JavaWeb</a></li>
<li><a href="https://github.com/alibaba/druid/blob/master/src/main/scripts/druidStat.sh" target="_blank" rel="external">JavaSE &#x76D1;&#x63A7;</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      监控Druid连接池运行情况，配合其他的Web URL Spring 等监控
    
    </summary>
    
      <category term="SQL" scheme="https://muxiaobai.github.io/categories/SQL/"/>
    
      <category term="系统监控优化" scheme="https://muxiaobai.github.io/categories/SQL/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7%E4%BC%98%E5%8C%96/"/>
    
      <category term="数据库" scheme="https://muxiaobai.github.io/categories/SQL/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7%E4%BC%98%E5%8C%96/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="连接池" scheme="https://muxiaobai.github.io/tags/%E8%BF%9E%E6%8E%A5%E6%B1%A0/"/>
    
  </entry>
  
  <entry>
    <title>应用部署之nginx参数配置</title>
    <link href="https://muxiaobai.github.io/2018/11/15/%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2%E4%B9%8Bnginx%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE/"/>
    <id>https://muxiaobai.github.io/2018/11/15/应用部署之nginx参数配置/</id>
    <published>2018-11-15T03:45:12.000Z</published>
    <updated>2018-11-23T03:43:18.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x5E94;&#x7528;"><a href="#&#x5E94;&#x7528;" class="headerlink" title="&#x5E94;&#x7528;"></a>&#x5E94;&#x7528;</h2><p>&#x53C2;&#x8003;<a href="https://github.com/muxiaobai/CourseExercises/blob/master/shell/linux/nginx.conf" target="_blank" rel="external">nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></p>
<h3 id="&#x5E94;&#x7528;&#x8BF7;&#x6C42;&#x6570;&#x914D;&#x7F6E;"><a href="#&#x5E94;&#x7528;&#x8BF7;&#x6C42;&#x6570;&#x914D;&#x7F6E;" class="headerlink" title="&#x5E94;&#x7528;&#x8BF7;&#x6C42;&#x6570;&#x914D;&#x7F6E;"></a>&#x5E94;&#x7528;&#x8BF7;&#x6C42;&#x6570;&#x914D;&#x7F6E;</h3><h3 id="&#x65E5;&#x5FD7;"><a href="#&#x65E5;&#x5FD7;" class="headerlink" title="&#x65E5;&#x5FD7;"></a>&#x65E5;&#x5FD7;</h3><h4 id="&#x65E5;&#x5FD7;&#x53C2;&#x6570;"><a href="#&#x65E5;&#x5FD7;&#x53C2;&#x6570;" class="headerlink" title="&#x65E5;&#x5FD7;&#x53C2;&#x6570;"></a>&#x65E5;&#x5FD7;&#x53C2;&#x6570;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">$args                    #&#x8BF7;&#x6C42;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x503C;</div><div class="line">$query_string            #&#x540C; $args</div><div class="line">$arg_NAME                #GET&#x8BF7;&#x6C42;&#x4E2D;NAME&#x7684;&#x503C;</div><div class="line">$is_args                 #&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x4E2D;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x503C;&#x4E3A;&quot;?&quot;&#xFF0C;&#x5426;&#x5219;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;</div><div class="line">$uri                     #&#x8BF7;&#x6C42;&#x4E2D;&#x7684;&#x5F53;&#x524D;URI(&#x4E0D;&#x5E26;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#xFF0C;&#x53C2;&#x6570;&#x4F4D;&#x4E8E;$args)&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x540C;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x4F20;&#x9012;&#x7684;$request_uri&#x7684;&#x503C;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5185;&#x90E8;&#x91CD;&#x5B9A;&#x5411;&#xFF0C;&#x6216;&#x8005;&#x4F7F;&#x7528;index&#x6307;&#x4EE4;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;$uri&#x4E0D;&#x5305;&#x542B;&#x4E3B;&#x673A;&#x540D;&#xFF0C;&#x5982;&quot;/foo/bar.html&quot;&#x3002;</div><div class="line">$document_uri            #&#x540C; $uri</div><div class="line">$document_root           #&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x6863;&#x6839;&#x76EE;&#x5F55;&#x6216;&#x522B;&#x540D;</div><div class="line">$host                    #&#x4F18;&#x5148;&#x7EA7;&#xFF1A;HTTP&#x8BF7;&#x6C42;&#x884C;&#x7684;&#x4E3B;&#x673A;&#x540D;&gt;&quot;HOST&quot;&#x8BF7;&#x6C42;&#x5934;&#x5B57;&#x6BB5;&gt;&#x7B26;&#x5408;&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#x5668;&#x540D;.&#x8BF7;&#x6C42;&#x4E2D;&#x7684;&#x4E3B;&#x673A;&#x5934;&#x5B57;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x4E2D;&#x7684;&#x4E3B;&#x673A;&#x5934;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x5219;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#x5668;&#x540D;&#x79F0;</div><div class="line">$hostname                #&#x4E3B;&#x673A;&#x540D;</div><div class="line">$https                   #&#x5982;&#x679C;&#x5F00;&#x542F;&#x4E86;SSL&#x5B89;&#x5168;&#x6A21;&#x5F0F;&#xFF0C;&#x503C;&#x4E3A;&quot;on&quot;&#xFF0C;&#x5426;&#x5219;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;</div><div class="line">$binary_remote_addr      #&#x5BA2;&#x6237;&#x7AEF;&#x5730;&#x5740;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x5F62;&#x5F0F;&#xFF0C;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x4E3A;4&#x4E2A;&#x5B57;&#x8282;</div><div class="line">$body_bytes_sent         #&#x4F20;&#x8F93;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF0C;&#x54CD;&#x5E94;&#x5934;&#x4E0D;&#x8BA1;&#x7B97;&#x5728;&#x5185;&#xFF1B;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x548C;Apache&#x7684;mod_log_config&#x6A21;&#x5757;&#x4E2D;&#x7684;&quot;%B&quot;&#x53C2;&#x6570;&#x4FDD;&#x6301;&#x517C;&#x5BB9;</div><div class="line">$bytes_sent              #&#x4F20;&#x8F93;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5B57;&#x8282;&#x6570;</div><div class="line">$connection              #TCP&#x8FDE;&#x63A5;&#x7684;&#x5E8F;&#x5217;&#x53F7;</div><div class="line">$connection_requests     #TCP&#x8FDE;&#x63A5;&#x5F53;&#x524D;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#x91CF;</div><div class="line">$content_length          #&quot;Content-Length&quot; &#x8BF7;&#x6C42;&#x5934;&#x5B57;&#x6BB5;</div><div class="line">$content_type            #&quot;Content-Type&quot; &#x8BF7;&#x6C42;&#x5934;&#x5B57;&#x6BB5;</div><div class="line">$cookie_name             #cookie&#x540D;&#x79F0;</div><div class="line">$limit_rate              #&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x7684;&#x901F;&#x5EA6;&#x9650;&#x5236;</div><div class="line">$msec                    #&#x5F53;&#x524D;&#x7684;Unix&#x65F6;&#x95F4;&#x6233;</div><div class="line">$nginx_version           #nginx&#x7248;&#x672C;</div><div class="line">$pid                     #&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x7684;PID</div><div class="line">$pipe                    #&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x6765;&#x81EA;&#x7BA1;&#x9053;&#x901A;&#x4FE1;&#xFF0C;&#x503C;&#x4E3A;&quot;p&quot;&#xFF0C;&#x5426;&#x5219;&#x4E3A;&quot;.&quot;</div><div class="line">$proxy_protocol_addr     #&#x83B7;&#x53D6;&#x4EE3;&#x7406;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;&#x8BE5;&#x503C;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;</div><div class="line">$realpath_root           #&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x6863;&#x6839;&#x76EE;&#x5F55;&#x6216;&#x522B;&#x540D;&#x7684;&#x771F;&#x5B9E;&#x8DEF;&#x5F84;&#xFF0C;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x7B26;&#x53F7;&#x8FDE;&#x63A5;&#x8F6C;&#x6362;&#x4E3A;&#x771F;&#x5B9E;&#x8DEF;&#x5F84;</div><div class="line">$remote_addr             #&#x5BA2;&#x6237;&#x7AEF;&#x5730;&#x5740;</div><div class="line">$remote_port             #&#x5BA2;&#x6237;&#x7AEF;&#x7AEF;&#x53E3;</div><div class="line">$remote_user             #&#x7528;&#x4E8E;HTTP&#x57FA;&#x7840;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x7684;&#x7528;&#x6237;&#x540D;</div><div class="line">$request                 #&#x4EE3;&#x8868;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x5730;&#x5740;</div><div class="line">$request_body            #&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#xFF1A;&#x6B64;&#x53D8;&#x91CF;&#x53EF;&#x5728;location&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5C06;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x901A;&#x8FC7;proxy_pass&#xFF0C;fastcgi_pass&#xFF0C;uwsgi_pass&#x548C;scgi_pass&#x4F20;&#x9012;&#x7ED9;&#x4E0B;&#x4E00;&#x7EA7;&#x7684;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;</div><div class="line">$request_body_file       #&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x4FDD;&#x5B58;&#x5728;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x6587;&#x4EF6;&#x5904;&#x7406;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x6B64;&#x6587;&#x4EF6;&#x9700;&#x5220;&#x9664;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x4E4B;&#x4E00;&#x5F00;&#x542F;&#x6B64;&#x529F;&#x80FD;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;client_body_in_file_only&#x3002;&#x5982;&#x679C;&#x5C06;&#x6B21;&#x6587;&#x4EF6;&#x4F20; &#x9012;&#x7ED9;&#x540E;&#x7AEF;&#x7684;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9700;&#x8981;&#x7981;&#x7528;request body&#xFF0C;&#x5373;&#x8BBE;&#x7F6E;proxy_pass_request_body off&#xFF0C;fastcgi_pass_request_body off&#xFF0C;uwsgi_pass_request_body off&#xFF0C;or scgi_pass_request_body off</div><div class="line">$request_completion      #&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#xFF0C;&#x503C;&#x4E3A;&quot;OK&quot;&#xFF0C;&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x672A;&#x5B8C;&#x6210;&#x6216;&#x8005;&#x8BF7;&#x6C42;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#x8BF7;&#x6C42;&#x7684;&#x6700;&#x540E;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5219;&#x4E3A;&#x7A7A;</div><div class="line">$request_filename        #&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x7531;root&#x6216;alias&#x6307;&#x4EE4;&#x4E0E;URI&#x8BF7;&#x6C42;&#x751F;&#x6210;</div><div class="line">$request_length          #&#x8BF7;&#x6C42;&#x7684;&#x957F;&#x5EA6; (&#x5305;&#x62EC;&#x8BF7;&#x6C42;&#x7684;&#x5730;&#x5740;&#xFF0C;http&#x8BF7;&#x6C42;&#x5934;&#x548C;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;)</div><div class="line">$request_method          #HTTP&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x5E38;&#x4E3A;&quot;GET&quot;&#x6216;&quot;POST&quot;</div><div class="line">$request_time            #&#x5904;&#x7406;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x95F4;,&#x5355;&#x4F4D;&#x4E3A;&#x79D2;&#xFF0C;&#x7CBE;&#x5EA6;&#x6BEB;&#x79D2;&#xFF1B; &#x4ECE;&#x8BFB;&#x5165;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x5F00;&#x59CB;&#xFF0C;&#x76F4;&#x5230;&#x628A;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x53D1;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x540E;&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x4E3A;&#x6B62;&#x3002;</div><div class="line">$request_uri             #&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7B49;&#x4E8E;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x7684;&#x539F;&#x59CB;URI&#xFF0C;&#x5B83;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;$uri&#x66F4;&#x6539;&#x6216;&#x91CD;&#x5199;URI&#xFF0C;&#x4E0D;&#x5305;&#x542B;&#x4E3B;&#x673A;&#x540D;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&quot;/cnphp/test.php?arg=freemouse&quot;</div><div class="line">$scheme                  #&#x8BF7;&#x6C42;&#x4F7F;&#x7528;&#x7684;Web&#x534F;&#x8BAE;&#xFF0C;&quot;http&quot; &#x6216; &quot;https&quot;</div><div class="line">$server_addr             #&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5730;&#x5740;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8BBF;&#x95EE;linux&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#xFF0C;&#x5E94;&#x5C06;ip&#x5730;&#x5740;&#x63D0;&#x524D;&#x8BBE;&#x7F6E;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;</div><div class="line">$server_name             #&#x670D;&#x52A1;&#x5668;&#x540D;</div><div class="line">$server_port             #&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53E3;</div><div class="line">$server_protocol         #&#x670D;&#x52A1;&#x5668;&#x7684;HTTP&#x7248;&#x672C;&#xFF0C;&#x901A;&#x5E38;&#x4E3A; &quot;HTTP/1.0&quot; &#x6216; &quot;HTTP/1.1&quot;</div><div class="line">$status                  #HTTP&#x54CD;&#x5E94;&#x4EE3;&#x7801;</div><div class="line">$time_iso8601            #&#x670D;&#x52A1;&#x5668;&#x65F6;&#x95F4;&#x7684;ISO 8610&#x683C;&#x5F0F;</div><div class="line">$time_local              #&#x670D;&#x52A1;&#x5668;&#x65F6;&#x95F4;&#xFF08;LOG Format &#x683C;&#x5F0F;&#xFF09;</div><div class="line">$cookie_NAME             #&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;Header&#x5934;&#x4E2D;&#x7684;cookie&#x53D8;&#x91CF;&#xFF0C;&#x524D;&#x7F00;&quot;$cookie_&quot;&#x52A0;&#x4E0A;cookie&#x540D;&#x79F0;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x5373;&#x4E3A;cookie&#x540D;&#x79F0;&#x7684;&#x503C;</div><div class="line">$http_NAME               #&#x5339;&#x914D;&#x4EFB;&#x610F;&#x8BF7;&#x6C42;&#x5934;&#x5B57;&#x6BB5;&#xFF1B;&#x53D8;&#x91CF;&#x540D;&#x4E2D;&#x7684;&#x540E;&#x534A;&#x90E8;&#x5206;NAME&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x6210;&#x4EFB;&#x610F;&#x8BF7;&#x6C42;&#x5934;&#x5B57;&#x6BB5;&#xFF0C;&#x5982;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x9700;&#x8981;&#x83B7;&#x53D6;http&#x8BF7;&#x6C42;&#x5934;&#xFF1A;&quot;Accept-Language&quot;&#xFF0C;$http_accept_language&#x5373;&#x53EF;</div><div class="line">$http_cookie</div><div class="line">$http_host               #&#x8BF7;&#x6C42;&#x5730;&#x5740;&#xFF0C;&#x5373;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x4F60;&#x8F93;&#x5165;&#x7684;&#x5730;&#x5740;&#xFF08;IP&#x6216;&#x57DF;&#x540D;&#xFF09;</div><div class="line">$http_referer            #url&#x8DF3;&#x8F6C;&#x6765;&#x6E90;,&#x7528;&#x6765;&#x8BB0;&#x5F55;&#x4ECE;&#x90A3;&#x4E2A;&#x9875;&#x9762;&#x94FE;&#x63A5;&#x8BBF;&#x95EE;&#x8FC7;&#x6765;&#x7684;</div><div class="line">$http_user_agent         #&#x7528;&#x6237;&#x7EC8;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#x7B49;&#x4FE1;&#x606F;</div><div class="line">$http_x_forwarded_for    </div><div class="line">$proxy_add_x_forwarded_for;#&#x6765;&#x81EA;http&#x8BF7;&#x6C42;&#x7684;&#xFF1A;x-forword-for&#x5B57;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&quot;X-Forwarded-For&quot; &#x8BF7;&#x6C42;&#x5934;&#xFF0C;&#x5219;$proxy_add_x_forwarded_for&#x7B49;&#x4E8E;$remote_addr&#x3002;x-forwarded-for&#x4E0D;&#x5149;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x8BBE;&#x7F6E;&#x503C;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4EFB;&#x610F;&#x683C;&#x5F0F;&#x503C;&#x3002;</div><div class="line">$sent_http_NAME          #&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4EFB;&#x610F;http&#x54CD;&#x5E94;&#x5934;&#x5B57;&#x6BB5;&#xFF1B;&#x53D8;&#x91CF;&#x540D;&#x4E2D;&#x7684;&#x540E;&#x534A;&#x90E8;&#x5206;NAME&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x6210;&#x4EFB;&#x610F;&#x54CD;&#x5E94;&#x5934;&#x5B57;&#x6BB5;&#xFF0C;&#x5982;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x5934;Content-length&#xFF0C;$sent_http_content_length&#x5373;&#x53EF;</div><div class="line">$sent_http_cache_control</div><div class="line">$sent_http_connection</div><div class="line">$sent_http_content_type</div><div class="line">$sent_http_keep_alive</div><div class="line">$sent_http_last_modified</div><div class="line">$sent_http_location</div><div class="line">$sent_http_transfer_encoding</div></pre></td></tr></table></figure>
<h4 id="&#x65E5;&#x5FD7;&#x914D;&#x7F6E;"><a href="#&#x65E5;&#x5FD7;&#x914D;&#x7F6E;" class="headerlink" title="&#x65E5;&#x5FD7;&#x914D;&#x7F6E;"></a>&#x65E5;&#x5FD7;&#x914D;&#x7F6E;</h4><p>error_log</p>
<p>access_log </p>
<p>log_format access &#x2018;$remote_addr - $remote_user [$time_local] &#x201C;$request&#x201D; $status $body_bytes_sent $request_body &#x201C;$http_referer&#x201D; &#x201C;$http_user_agent&#x201D; $http_x_forwarded_for&#x2019;;</p>
<h4 id="&#x65E5;&#x5FD7;&#x5206;&#x6790;"><a href="#&#x65E5;&#x5FD7;&#x5206;&#x6790;" class="headerlink" title="&#x65E5;&#x5FD7;&#x5206;&#x6790;"></a>&#x65E5;&#x5FD7;&#x5206;&#x6790;</h4><p>1&#xFF09;&#x603B;&#x8BF7;&#x6C42;&#x6570;</p>
<p>wc -l  access.log |awk &#x2018;{print $1}&#x2019;</p>
<p>2&#xFF09;&#x72EC;&#x7ACB;IP&#x6570;</p>
<p>awk &#x2018;{print $1}&#x2019; access.log|sort |uniq |wc -l</p>
<p>3&#xFF09;&#x6BCF;&#x79D2;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x6570; TOP5</p>
<p>awk &#x2018;{print $6}&#x2019; access.log|sort|uniq -c|sort -rn|head -5</p>
<p>4&#xFF09;&#x8BBF;&#x95EE;&#x6700;&#x9891;&#x7E41;IP Top5</p>
<p>awk &#x2018;{print $1}&#x2019; access.log|sort |uniq -c |sort -nr |head -5</p>
<p>5&#xFF09;&#x8BBF;&#x95EE;&#x6700;&#x9891;&#x7E41;&#x7684;URL TOP5</p>
<p>awk &#x2018;{print $7}&#x2019; access.log|sort |uniq -c |sort -nr |head -5</p>
<p>6)&#x54CD;&#x5E94;&#x5927;&#x4E8E;5&#x79D2;&#x7684;URL TOP5</p>
<p>awk &#x2018;{if ($7 &gt; 5){print $6}}&#x2019; access.log|sort|uniq -c|sort -rn |head -5</p>
<p>7)HTTP&#x72B6;&#x6001;&#x7801;(&#x975E;200)&#x7EDF;&#x8BA1; Top5</p>
<p>awk &#x2018;{if ($11 != 200){print $11}}&#x2019; access.log|sort|uniq -c|sort -rn|head -5</p>
<p>8)&#x5206;&#x6790;&#x8BF7;&#x6C42;&#x6570;&#x5927;&#x4E8E;50000&#x7684;&#x6E90;IP</p>
<p>cat access.log|awk &#x2018;{print $NF}&#x2019;|sort |uniq -c |sort -nr|awk &#x2018;{if ($1 &gt;50000){print $2}}&#x2019;</p>
<h4 id="&#x65E5;&#x5FD7;&#x5206;&#x6790;2"><a href="#&#x65E5;&#x5FD7;&#x5206;&#x6790;2" class="headerlink" title="&#x65E5;&#x5FD7;&#x5206;&#x6790;2"></a>&#x65E5;&#x5FD7;&#x5206;&#x6790;2</h4><p>IP&#x76F8;&#x5173;&#x7EDF;&#x8BA1;<br>&#x7EDF;&#x8BA1;IP&#x8BBF;&#x95EE;&#x91CF;&#xFF08;&#x72EC;&#x7ACB;ip&#x8BBF;&#x95EE;&#x6570;&#x91CF;&#xFF09;</p>
<p>awk &#x2018;{print $1}&#x2019; access.log | sort -n | uniq | wc -l</p>
<p>&#x67E5;&#x770B;&#x67D0;&#x4E00;&#x65F6;&#x95F4;&#x6BB5;&#x7684;IP&#x8BBF;&#x95EE;&#x91CF;(4-5&#x70B9;)</p>
<p>grep &#x201C;07/Apr/2017:0[4-5]&#x201D; access.log | awk &#x2018;{print $1}&#x2019; | sort | uniq -c| sort -nr | wc -l  </p>
<p>&#x67E5;&#x770B;&#x8BBF;&#x95EE;&#x6700;&#x9891;&#x7E41;&#x7684;&#x524D;100&#x4E2A;IP</p>
<p>awk &#x2018;{print $1}&#x2019; access.log | sort -n |uniq -c | sort -rn | head -n 100</p>
<p>&#x67E5;&#x770B;&#x8BBF;&#x95EE;100&#x6B21;&#x4EE5;&#x4E0A;&#x7684;IP</p>
<p>awk &#x2018;{print $1}&#x2019; access.log | sort -n |uniq -c |awk &#x2018;{if($1 &gt;100) print $0}&#x2019;|sort -rn</p>
<p>&#x67E5;&#x8BE2;&#x67D0;&#x4E2A;IP&#x7684;&#x8BE6;&#x7EC6;&#x8BBF;&#x95EE;&#x60C5;&#x51B5;,&#x6309;&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x6392;&#x5E8F;</p>
<p>grep &#x2018;127.0.01&#x2019; access.log |awk &#x2018;{print $7}&#x2019;|sort |uniq -c |sort -rn |head -n 100</p>
<p>&#x9875;&#x9762;&#x8BBF;&#x95EE;&#x7EDF;&#x8BA1;</p>
<p>&#x67E5;&#x770B;&#x8BBF;&#x95EE;&#x6700;&#x9891;&#x7684;&#x9875;&#x9762;(TOP100)</p>
<p>awk &#x2018;{print $7}&#x2019; access.log | sort |uniq -c | sort -rn | head -n 100</p>
<p>&#x67E5;&#x770B;&#x8BBF;&#x95EE;&#x6700;&#x9891;&#x7684;&#x9875;&#x9762;([&#x6392;&#x9664;php&#x9875;&#x9762;&#x3011;(TOP100)</p>
<p>grep -v &#x201C;.php&#x201D;  access.log | awk &#x2018;{print $7}&#x2019; | sort |uniq -c | sort -rn | head -n 100 </p>
<p>&#x67E5;&#x770B;&#x9875;&#x9762;&#x8BBF;&#x95EE;&#x6B21;&#x6570;&#x8D85;&#x8FC7;100&#x6B21;&#x7684;&#x9875;&#x9762;</p>
<p>cat access.log | cut -d &#x2018; &#x2018; -f 7 | sort |uniq -c | awk &#x2018;{if ($1 &gt; 100) print $0}&#x2019; | less</p>
<p>&#x67E5;&#x770B;&#x6700;&#x8FD1;1000&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x8BBF;&#x95EE;&#x91CF;&#x6700;&#x9AD8;&#x7684;&#x9875;&#x9762;</p>
<p>tail -1000 access.log |awk &#x2018;{print $7}&#x2019;|sort|uniq -c|sort -nr|less</p>
<p>&#x6BCF;&#x79D2;&#x8BF7;&#x6C42;&#x91CF;&#x7EDF;&#x8BA1;</p>
<p>&#x7EDF;&#x8BA1;&#x6BCF;&#x79D2;&#x7684;&#x8BF7;&#x6C42;&#x6570;,top100&#x7684;&#x65F6;&#x95F4;&#x70B9;(&#x7CBE;&#x786E;&#x5230;&#x79D2;)</p>
<p>awk &#x2018;{print $4}&#x2019; access.log |cut -c 14-21|sort|uniq -c|sort -nr|head -n 100</p>
<p>&#x6BCF;&#x5206;&#x949F;&#x8BF7;&#x6C42;&#x91CF;&#x7EDF;&#x8BA1;</p>
<p>&#x7EDF;&#x8BA1;&#x6BCF;&#x5206;&#x949F;&#x7684;&#x8BF7;&#x6C42;&#x6570;,top100&#x7684;&#x65F6;&#x95F4;&#x70B9;(&#x7CBE;&#x786E;&#x5230;&#x5206;&#x949F;)</p>
<p>awk &#x2018;{print $4}&#x2019; access.log |cut -c 14-18|sort|uniq -c|sort -nr|head -n 100</p>
<p>&#x6BCF;&#x5C0F;&#x65F6;&#x8BF7;&#x6C42;&#x91CF;&#x7EDF;&#x8BA1;</p>
<p>&#x7EDF;&#x8BA1;&#x6BCF;&#x5C0F;&#x65F6;&#x7684;&#x8BF7;&#x6C42;&#x6570;,top100&#x7684;&#x65F6;&#x95F4;&#x70B9;(&#x7CBE;&#x786E;&#x5230;&#x5C0F;&#x65F6;)</p>
<p>awk &#x2018;{print $4}&#x2019; access.log |cut -c 14-15|sort|uniq -c|sort -nr|head -n 100</p>
<p>&#x6027;&#x80FD;&#x5206;&#x6790;</p>
<p>&#x5728;nginx log&#x4E2D;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x52A0;&#x5165;$request_time</p>
<p>&#x5217;&#x51FA;&#x4F20;&#x8F93;&#x65F6;&#x95F4;&#x8D85;&#x8FC7; 3 &#x79D2;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x663E;&#x793A;&#x524D;20&#x6761;</p>
<p>cat access.log|awk &#x2018;($NF &gt; 3){print $7}&#x2019;|sort -n|uniq -c|sort -nr|head -20</p>
<p>&#x5217;&#x51FA;php&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x65F6;&#x95F4;&#x8D85;&#x8FC7;3&#x79D2;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x5176;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x663E;&#x793A;&#x524D;100&#x6761;</p>
<p>cat access.log|awk &#x2018;($NF &gt; 1 &amp;&amp;  $7~/.php/){print $7}&#x2019;|sort -n|uniq -c|sort -nr|head -100</p>
<p>&#x8718;&#x86DB;&#x6293;&#x53D6;&#x7EDF;&#x8BA1;</p>
<p>&#x7EDF;&#x8BA1;&#x8718;&#x86DB;&#x6293;&#x53D6;&#x6B21;&#x6570;</p>
<p>grep &#x2018;Baiduspider&#x2019; access.log |wc -l<br>&#x7EDF;&#x8BA1;&#x8718;&#x86DB;&#x6293;&#x53D6;404&#x7684;&#x6B21;&#x6570;</p>
<p>grep &#x2018;Baiduspider&#x2019; access.log |grep &#x2018;404&#x2019; | wc -l</p>
<p>TCP&#x8FDE;&#x63A5;&#x7EDF;&#x8BA1;</p>
<p>&#x67E5;&#x770B;&#x5F53;&#x524D;TCP&#x8FDE;&#x63A5;&#x6570;</p>
<p>netstat -tan | grep &#x201C;ESTABLISHED&#x201D; | grep &#x201C;:80&#x201D; | wc -l</p>
<p>&#x7528;tcpdump&#x55C5;&#x63A2;80&#x7AEF;&#x53E3;&#x7684;&#x8BBF;&#x95EE;&#x770B;&#x770B;&#x8C01;&#x6700;&#x9AD8;</p>
<p>tcpdump -i eth0 -tnn dst port 80 -c 1000 | awk -F&#x201D;.&#x201D; &#x2018;{print $1&#x201D;.&#x201D;$2&#x201D;.&#x201D;$3&#x201D;.&#x201D;$4}&#x2019; | sort | uniq -c | sort -nr</p>
<p><a href="https://www.cnblogs.com/gouge/p/7089939.html" target="_blank" rel="external">nginx &#x5E38;&#x7528;&#x547D;&#x4EE4;</a></p>
]]></content>
    
    <summary type="html">
    
      nginx参数调优问题
    
    </summary>
    
      <category term="deploy" scheme="https://muxiaobai.github.io/categories/deploy/"/>
    
    
      <category term="nginx" scheme="https://muxiaobai.github.io/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>数据库操作-plsql操作</title>
    <link href="https://muxiaobai.github.io/2018/11/07/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-plsql%E6%93%8D%E4%BD%9C/"/>
    <id>https://muxiaobai.github.io/2018/11/07/数据库操作-plsql操作/</id>
    <published>2018-11-07T05:58:38.000Z</published>
    <updated>2019-01-11T02:52:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>PLSQL&#x7684;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#xFF0C;<br><a id="more"></a></p>
<h4 id="&#x5FEB;&#x6377;&#x952E;"><a href="#&#x5FEB;&#x6377;&#x952E;" class="headerlink" title="&#x5FEB;&#x6377;&#x952E;"></a>&#x5FEB;&#x6377;&#x952E;</h4><p>&#x5728;Tools-&gt;Perferences-&gt;Editor&#x4E2D;Autoreplaces&#x9009;&#x62E9;&#x914D;&#x7F6E;&#x7684;shortcuts&#x6587;&#x4EF6;</p>
<p>C:\ProgramTool\PLSQL Developer\short.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sf = select * from </div><div class="line">w = where </div><div class="line">sf = select t.*, t.rowid from  </div><div class="line">sc = select count(1) from </div><div class="line">df = delete from</div></pre></td></tr></table></figure>
<h4 id="Session&#x67E5;&#x770B;"><a href="#Session&#x67E5;&#x770B;" class="headerlink" title="Session&#x67E5;&#x770B;"></a>Session&#x67E5;&#x770B;</h4><p>plsql &#x5DE5;&#x5177;   Tools &#x2014;&#x2013;&gt;Sessions&#x2014;&#x2014;&#x2014;&gt; &#x67E5;&#x770B;</p>
<h4 id="&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;"><a href="#&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;" class="headerlink" title="&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;"></a>&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;</h4><p>plsql Tools &#x2014;&#x2014;-&gt;Compare User Objects &#x9009;&#x62E9;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5E93;</p>
<h4 id="&#x5BFC;&#x5165;csv&#x6570;&#x636E;"><a href="#&#x5BFC;&#x5165;csv&#x6570;&#x636E;" class="headerlink" title="&#x5BFC;&#x5165;csv&#x6570;&#x636E;"></a>&#x5BFC;&#x5165;csv&#x6570;&#x636E;</h4><p>&#x9700;&#x8981;&#x5C06;csv&#x53E6;&#x5B58;&#x4E3A;csv</p>
<p>plsql Tools &#x2014;&#x2014;-&gt;Text Importer&#x2014;-&gt;Open data file  &#x2014;&gt;Data to Oracle &#x9009;&#x62E9;Owener Table</p>
<h4 id="&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;&#x591A;&#x4E2A;&#x8D26;&#x53F7;&#xFF0C;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x7B49;"><a href="#&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;&#x591A;&#x4E2A;&#x8D26;&#x53F7;&#xFF0C;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x7B49;" class="headerlink" title="&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;&#x591A;&#x4E2A;&#x8D26;&#x53F7;&#xFF0C;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x7B49;"></a>&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;&#x591A;&#x4E2A;&#x8D26;&#x53F7;&#xFF0C;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x7B49;</h4><p>Tools-&gt;Preferences</p>
<p>tools -&gt; Preferences -&gt; User Interface - Options<br>&#x52FE;&#x9009; Autosave username, &#xFF0C;&#x4FDD;&#x5B58;&#x5373;&#x53EF;</p>
<p>tools -&gt; Preferences -&gt; Oracle -&gt; logon History</p>
<p>Definition-&gt;Store history,Store with password</p>
<p>-&gt;fixed user<br>&#x6309;&#x683C;&#x5F0F;&#xFF1A;user/password@&#x6570;&#x636E;&#x5E93; &#x6DFB;&#x52A0;&#x4E00;&#x4E2A;fixed user&#x4FDD;&#x5B58;&#x5373;&#x53EF;<br>zzz/sdsdfs@192.168.1.12:1555/orcl</p>
<p><a href="https://www.cnblogs.com/Chary/p/No00008F.html" target="_blank" rel="external">&#x53C2;&#x8003;</a></p>
]]></content>
    
    <summary type="html">
    
      plsql的一些操作
    
    </summary>
    
      <category term="SQL" scheme="https://muxiaobai.github.io/categories/SQL/"/>
    
      <category term="数据库" scheme="https://muxiaobai.github.io/categories/SQL/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="常用代码" scheme="https://muxiaobai.github.io/tags/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>javascript-常用代码</title>
    <link href="https://muxiaobai.github.io/2018/10/09/javascript-%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/"/>
    <id>https://muxiaobai.github.io/2018/10/09/javascript-常用代码/</id>
    <published>2018-10-09T06:31:08.000Z</published>
    <updated>2019-03-05T08:19:10.695Z</updated>
    
    <content type="html"><![CDATA[<h4 id="select-option&#x9009;&#x62E9;"><a href="#select-option&#x9009;&#x62E9;" class="headerlink" title="select option&#x9009;&#x62E9;"></a>select option&#x9009;&#x62E9;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var options=$(&quot;#select option:selected&quot;); //&#x83B7;&#x53D6;&#x9009;&#x4E2D;&#x7684;&#x9879;</div><div class="line">alert(options.val()); //&#x62FF;&#x5230;&#x9009;&#x4E2D;&#x9879;&#x7684;&#x503C;</div><div class="line">alert(options.text()); //&#x62FF;&#x5230;&#x9009;&#x4E2D;&#x9879;&#x7684;&#x6587;&#x672C;</div><div class="line">alert(options.attr(&apos;url&apos;)); //&#x62FF;&#x5230;&#x9009;&#x4E2D;&#x9879;&#x7684;url&#x503C;</div></pre></td></tr></table></figure>
<h4 id="Ajax-&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x8D85;&#x65F6;"><a href="#Ajax-&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x8D85;&#x65F6;" class="headerlink" title="Ajax,&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x8D85;&#x65F6;"></a>Ajax,&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x8D85;&#x65F6;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">var ajaxTimeoutTest = $.ajax({</div><div class="line">&#x3000;&#x3000;url:&apos;&apos;,  //&#x8BF7;&#x6C42;&#x7684;URL</div><div class="line">&#x3000;&#x3000;timeout : 1000, //&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x8BBE;&#x7F6E;&#xFF0C;&#x5355;&#x4F4D;&#x6BEB;&#x79D2;</div><div class="line">&#x3000;&#x3000;type : &apos;get&apos;,  //&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF0C;get&#x6216;post</div><div class="line">&#x3000;&#x3000;data :{},  //&#x8BF7;&#x6C42;&#x6240;&#x4F20;&#x53C2;&#x6570;&#xFF0C;json&#x683C;&#x5F0F;</div><div class="line">&#x3000;&#x3000;dataType:&apos;json&apos;,//&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;</div><div class="line">&#x3000;&#x3000;success:function(data){ //&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;</div><div class="line">&#x3000;&#x3000;&#x3000;&#x3000;alert(&quot;&#x6210;&#x529F;&quot;);</div><div class="line">&#x3000;&#x3000;},</div><div class="line">&#x3000;&#x3000;complete : function(XMLHttpRequest,status){ //&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x540E;&#x6700;&#x7EC8;&#x6267;&#x884C;&#x53C2;&#x6570;</div><div class="line">&#x3000;&#x3000;&#x3000;&#x3000;if(status==&apos;timeout&apos;){//&#x8D85;&#x65F6;,status&#x8FD8;&#x6709;success,error&#x7B49;&#x503C;&#x7684;&#x60C5;&#x51B5;</div><div class="line"> &#x3000;&#x3000;&#x3000;&#x3000;&#x3000; ajaxTimeoutTest.abort();</div><div class="line">&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;  alert(&quot;&#x8D85;&#x65F6;&quot;);</div><div class="line">&#x3000;&#x3000;&#x3000;&#x3000;}</div><div class="line">&#x3000;&#x3000;}</div><div class="line">});</div><div class="line"></div><div class="line">function request(url, data, success_callback,error_callback) {</div><div class="line">    console.log(&quot;url:&quot;+url);</div><div class="line"></div><div class="line">var xhr = $.ajax({</div><div class="line">        //&#x63D0;&#x4EA4;&#x6570;&#x636E;&#x7684;&#x7C7B;&#x578B; POST GET</div><div class="line">        type: &quot;POST&quot;,</div><div class="line">        //&#x63D0;&#x4EA4;&#x7684;&#x7F51;&#x5740;</div><div class="line">        url: url,</div><div class="line">        //&#x63D0;&#x4EA4;&#x7684;&#x6570;&#x636E;</div><div class="line">        data: data,</div><div class="line">        //&#x8BBE;&#x7F6E;&#x4E3A;&#x540C;&#x6B65;</div><div class="line">        async:false,</div><div class="line">        // &#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;20s</div><div class="line">        timeout:20000,</div><div class="line">        //&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;</div><div class="line">        datatype: &quot;json&quot;, //&quot;xml&quot;, &quot;html&quot;, &quot;script&quot;, &quot;json&quot;, &quot;jsonp&quot;, &quot;text&quot;.</div><div class="line">        xhrFields: {</div><div class="line">            withCredentials: true</div><div class="line">        },</div><div class="line">        crossDomain: true,</div><div class="line">        //&#x5728;&#x8BF7;&#x6C42;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;</div><div class="line">        beforeSend: function () {</div><div class="line"> </div><div class="line">        },</div><div class="line">        //&#x8C03;&#x7528;&#x6267;&#x884C;&#x540E;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;</div><div class="line">        complete: function (XMLHttpRequest, textStatus) {</div><div class="line">            if(textStatus == &apos;timeout&apos;){//&#x8D85;&#x65F6;,status&#x8FD8;&#x6709;success,error&#x7B49;&#x503C;&#x7684;&#x60C5;&#x51B5;</div><div class="line">                if (error_callback != null &amp;&amp; error_callback != &quot;&quot;) {            </div><div class="line">                    error_callback();</div><div class="line">                };</div><div class="line">            }</div><div class="line">        },</div><div class="line">        //&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x4E4B;&#x540E;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;             </div><div class="line">        success: function (response) {</div><div class="line">            handleResponse(response, success_callback,error_callback);</div><div class="line">        },</div><div class="line">      </div><div class="line">        //&#x8C03;&#x7528;&#x51FA;&#x9519;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;</div><div class="line">        error: function () {</div><div class="line">            //&#x8BF7;&#x6C42;&#x51FA;&#x9519;&#x5904;&#x7406;</div><div class="line">            console.log(&quot;error&quot;);</div><div class="line">        }</div><div class="line">    });</div><div class="line">}</div></pre></td></tr></table></figure>
<h4 id="&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x53BB;&#x91CD;"><a href="#&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x53BB;&#x91CD;" class="headerlink" title="&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x53BB;&#x91CD;"></a>&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x53BB;&#x91CD;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">var arr=[{id:1,name:&quot;z&quot;},{id:2,name:&quot;g&quot;},{id:1,name:&quot;z&quot;];</div><div class="line">arr = unique(arr,&quot;id&quot;);</div><div class="line">console.log(arr);</div><div class="line"></div><div class="line">function arrayUnique2(arr, name) {</div><div class="line">		  var hash = {};</div><div class="line">		  return arr.reduce(function (item, next) {</div><div class="line">		    hash[next[name]] ? &apos;&apos; : hash[next[name]] = true &amp;&amp; item.push(next);</div><div class="line">		    return item;</div><div class="line">		  }, []);</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line">reduce&#x51FD;&#x6570;</div></pre></td></tr></table></figure>
<h4 id="&#x6570;&#x7EC4;&#x53BB;&#x91CD;"><a href="#&#x6570;&#x7EC4;&#x53BB;&#x91CD;" class="headerlink" title="&#x6570;&#x7EC4;&#x53BB;&#x91CD;"></a>&#x6570;&#x7EC4;&#x53BB;&#x91CD;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//&#x6570;&#x7EC4;&#x53BB;&#x91CD;</div><div class="line">function uniqueList(array){</div><div class="line">    var r = [];</div><div class="line">    for(var i = 0, l = array.length; i &lt; l; i++) {</div><div class="line">        for(var j = i + 1; j &lt; l; j++)</div><div class="line">            if (JSON.stringify(array[i]) == JSON.stringify(array[j])) j = ++i;</div><div class="line">        r.push(array[i]);</div><div class="line">    }</div><div class="line">    return r;</div><div class="line">}</div></pre></td></tr></table></figure>
<h4 id="&#x6570;&#x7EC4;delete-&#x4E4B;&#x540E;length&#x65E0;&#x6548;"><a href="#&#x6570;&#x7EC4;delete-&#x4E4B;&#x540E;length&#x65E0;&#x6548;" class="headerlink" title="&#x6570;&#x7EC4;delete &#x4E4B;&#x540E;length&#x65E0;&#x6548;"></a>&#x6570;&#x7EC4;delete &#x4E4B;&#x540E;length&#x65E0;&#x6548;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//&#x5220;&#x9664;&#x7684;&#x6570;&#x7EC4;obj, &#x5220;&#x9664;&#x7B2C;i&#x4E2A;&#x6570;&#x636E;</div><div class="line">//delete obj[i];</div><div class="line">function changeLength(obj,i){</div><div class="line">	return  obj.slice(0,i).concat(obj.slice(i+1,obj.length));</div><div class="line">}</div></pre></td></tr></table></figure>
<h4 id="&#x6DF1;&#x62F7;&#x8D1D;"><a href="#&#x6DF1;&#x62F7;&#x8D1D;" class="headerlink" title="&#x6DF1;&#x62F7;&#x8D1D;"></a>&#x6DF1;&#x62F7;&#x8D1D;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#x666E;&#x901A;&#x6570;&#x7EC4;&#x76F4;&#x63A5;&#x4F7F;&#x7528;[].concat(_test)</div><div class="line">&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#xFF1A;[].concat(JSON.parse(JSON.stringify(_test)))</div></pre></td></tr></table></figure>
<h4 id="&#x66FF;&#x4EE3;eval&#x65B9;&#x6848;"><a href="#&#x66FF;&#x4EE3;eval&#x65B9;&#x6848;" class="headerlink" title="&#x66FF;&#x4EE3;eval&#x65B9;&#x6848;"></a>&#x66FF;&#x4EE3;eval&#x65B9;&#x6848;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function  evil(fn)</div><div class="line">{</div><div class="line">    var Fn = Function;</div><div class="line">    return new Fn(&apos;return &apos; + fn)(); </div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line">evil(&quot;function(){console.log(1111);console.log(this)}()&quot;)</div></pre></td></tr></table></figure>
<h4 id="&#x83B7;&#x53D6;&#x5730;&#x5740;&#x4E2D;&#x7684;&#x53C2;&#x6570;"><a href="#&#x83B7;&#x53D6;&#x5730;&#x5740;&#x4E2D;&#x7684;&#x53C2;&#x6570;" class="headerlink" title="&#x83B7;&#x53D6;&#x5730;&#x5740;&#x4E2D;&#x7684;&#x53C2;&#x6570;"></a>&#x83B7;&#x53D6;&#x5730;&#x5740;&#x4E2D;&#x7684;&#x53C2;&#x6570;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">//&#x6B63;&#x5219;</div><div class="line">function getUrlParam(name) {</div><div class="line"> 	var reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;); //&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x542B;&#x6709;&#x76EE;&#x6807;&#x53C2;&#x6570;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x8C61;</div><div class="line">    var r = window.location.search.substr(1).match(reg);  //&#x5339;&#x914D;&#x76EE;&#x6807;&#x53C2;&#x6570;</div><div class="line">    if (r != null) return unescape(r[2]); return null; //&#x8FD4;&#x56DE;&#x53C2;&#x6570;&#x503C;</div><div class="line">     }</div><div class="line"></div><div class="line">//&#x7B2C;&#x4E8C;&#x79CD;&#xFF0C;&#x5FAA;&#x73AF;</div><div class="line">function getQueryVariable(variable)</div><div class="line">{</div><div class="line">    var query = window.location.search.substring(1);</div><div class="line">    var vars = query.split(&quot;&amp;&quot;);</div><div class="line">    for (var i=0;i&lt;vars.length;i++) {</div><div class="line">        var pair = vars[i].split(&quot;=&quot;);</div><div class="line">        if(pair[0] == variable){return pair[1];}</div><div class="line">    }</div><div class="line">    return(false);</div><div class="line">}</div></pre></td></tr></table></figure>
<h4 id="&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;"><a href="#&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;" class="headerlink" title="&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;"></a>&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;</h4><p>let encodedData = window.btoa(&#x201C;Hello, world&#x201D;); // &#x7F16;&#x7801;<br>let decodedData = window.atob(encodedData); // &#x89E3;&#x7801;</p>
<p>params.passwd = btoa($(&#x2018;input[name=&#x201D;passwd&#x201D;]&#x2019;).val(), true);</p>
<p>org.apache.commons;</p>
<p>new String(Base64.decodeBase64(form.get(&#x201C;passwd&#x201D;))));</p>
<p>&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;&#x8D26;&#x53F7;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	$(function() {</div><div class="line">		$(&quot;#btn&quot;).click(function() {</div><div class="line">			var username = encode64($(&quot;#username&quot;).val());  //&#x5BF9;&#x6570;&#x636E;&#x52A0;&#x5BC6;</div><div class="line">			var password = encode64($(&quot;#password&quot;).val());</div><div class="line">			$(&quot;#username&quot;).val(username);</div><div class="line">			$(&quot;#password&quot;).val(password);</div><div class="line">			document.fm.submit();  //fm&#x4E3A;form&#x8868;&#x5355;name</div><div class="line">		})</div><div class="line">	})</div><div class="line">	</div><div class="line">	// base64&#x52A0;&#x5BC6;&#x5F00;&#x59CB;</div><div class="line">	var keyStr = &quot;ABCDEFGHIJKLMNOP&quot; + &quot;QRSTUVWXYZabcdef&quot; + &quot;ghijklmnopqrstuv&quot;</div><div class="line">			+ &quot;wxyz0123456789+/&quot; + &quot;=&quot;;</div><div class="line">	</div><div class="line">	function encode64(input) {</div><div class="line"> </div><div class="line">		var output = &quot;&quot;;</div><div class="line">		var chr1, chr2, chr3 = &quot;&quot;;</div><div class="line">		var enc1, enc2, enc3, enc4 = &quot;&quot;;</div><div class="line">		var i = 0;</div><div class="line">		do {</div><div class="line">			chr1 = input.charCodeAt(i++);</div><div class="line">			chr2 = input.charCodeAt(i++);</div><div class="line">			chr3 = input.charCodeAt(i++);</div><div class="line">			enc1 = chr1 &gt;&gt; 2;</div><div class="line">			enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);</div><div class="line">			enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);</div><div class="line">			enc4 = chr3 &amp; 63;</div><div class="line">			if (isNaN(chr2)) {</div><div class="line">				enc3 = enc4 = 64;</div><div class="line">			} else if (isNaN(chr3)) {</div><div class="line">				enc4 = 64;</div><div class="line">			}</div><div class="line">			output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2)</div><div class="line">					+ keyStr.charAt(enc3) + keyStr.charAt(enc4);</div><div class="line">			chr1 = chr2 = chr3 = &quot;&quot;;</div><div class="line">			enc1 = enc2 = enc3 = enc4 = &quot;&quot;;</div><div class="line">		} while (i &lt; input.length);</div><div class="line"> </div><div class="line">		return output;</div><div class="line">	}</div><div class="line">	// base64&#x52A0;&#x5BC6;&#x7ED3;&#x675F;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">private static char[] base64EncodeChars = new char[] { &apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;D&apos;,</div><div class="line">		&apos;E&apos;, &apos;F&apos;, &apos;G&apos;, &apos;H&apos;, &apos;I&apos;, &apos;J&apos;, &apos;K&apos;, &apos;L&apos;, &apos;M&apos;, &apos;N&apos;, &apos;O&apos;, &apos;P&apos;, &apos;Q&apos;,</div><div class="line">		&apos;R&apos;, &apos;S&apos;, &apos;T&apos;, &apos;U&apos;, &apos;V&apos;, &apos;W&apos;, &apos;X&apos;, &apos;Y&apos;, &apos;Z&apos;, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;,</div><div class="line">		&apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;h&apos;, &apos;i&apos;, &apos;j&apos;, &apos;k&apos;, &apos;l&apos;, &apos;m&apos;, &apos;n&apos;, &apos;o&apos;, &apos;p&apos;, &apos;q&apos;,</div><div class="line">		&apos;r&apos;, &apos;s&apos;, &apos;t&apos;, &apos;u&apos;, &apos;v&apos;, &apos;w&apos;, &apos;x&apos;, &apos;y&apos;, &apos;z&apos;, &apos;0&apos;, &apos;1&apos;, &apos;2&apos;, &apos;3&apos;,</div><div class="line">		&apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, &apos;+&apos;, &apos;/&apos;, };</div><div class="line"> </div><div class="line">private static byte[] base64DecodeChars = new byte[] { -1, -1, -1, -1, -1,</div><div class="line">		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,</div><div class="line">		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,</div><div class="line">		-1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59,</div><div class="line">		60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9,</div><div class="line">		10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1,</div><div class="line">		-1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37,</div><div class="line">		38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1,</div><div class="line">		-1, -1 };</div><div class="line"> </div><div class="line">/**</div><div class="line"> * &#x89E3;&#x5BC6;</div><div class="line"> * @param str</div><div class="line"> * @return</div><div class="line"> */</div><div class="line">public static byte[] decode(String str) {</div><div class="line">	byte[] data = str.getBytes();</div><div class="line">	int len = data.length;</div><div class="line">	ByteArrayOutputStream buf = new ByteArrayOutputStream(len);</div><div class="line">	int i = 0;</div><div class="line">	int b1, b2, b3, b4;</div><div class="line"> </div><div class="line">	while (i &lt; len) {</div><div class="line">		do {</div><div class="line">			b1 = base64DecodeChars[data[i++]];</div><div class="line">		} while (i &lt; len &amp;&amp; b1 == -1);</div><div class="line">		if (b1 == -1) {</div><div class="line">			break;</div><div class="line">		}</div><div class="line"> </div><div class="line">		do {</div><div class="line">			b2 = base64DecodeChars[data[i++]];</div><div class="line">		} while (i &lt; len &amp;&amp; b2 == -1);</div><div class="line">		if (b2 == -1) {</div><div class="line">			break;</div><div class="line">		}</div><div class="line">		buf.write((int) ((b1 &lt;&lt; 2) | ((b2 &amp; 0x30) &gt;&gt;&gt; 4)));</div><div class="line"> </div><div class="line">		do {</div><div class="line">			b3 = data[i++];</div><div class="line">			if (b3 == 61) {</div><div class="line">				return buf.toByteArray();</div><div class="line">			}</div><div class="line">			b3 = base64DecodeChars[b3];</div><div class="line">		} while (i &lt; len &amp;&amp; b3 == -1);</div><div class="line">		if (b3 == -1) {</div><div class="line">			break;</div><div class="line">		}</div><div class="line">		buf.write((int) (((b2 &amp; 0x0f) &lt;&lt; 4) | ((b3 &amp; 0x3c) &gt;&gt;&gt; 2)));</div><div class="line"> </div><div class="line">		do {</div><div class="line">			b4 = data[i++];</div><div class="line">			if (b4 == 61) {</div><div class="line">				return buf.toByteArray();</div><div class="line">			}</div><div class="line">			b4 = base64DecodeChars[b4];</div><div class="line">		} while (i &lt; len &amp;&amp; b4 == -1);</div><div class="line">		if (b4 == -1) {</div><div class="line">			break;</div><div class="line">		}</div><div class="line">		buf.write((int) (((b3 &amp; 0x03) &lt;&lt; 6) | b4));</div><div class="line">	}</div><div class="line">	return buf.toByteArray();</div><div class="line">}</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      前端主要是JS的用法，获取参数，去重，
    
    </summary>
    
      <category term="javascript" scheme="https://muxiaobai.github.io/categories/javascript/"/>
    
    
      <category term="前端" scheme="https://muxiaobai.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>java 常用代码</title>
    <link href="https://muxiaobai.github.io/2018/09/20/java-%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/"/>
    <id>https://muxiaobai.github.io/2018/09/20/java-常用代码/</id>
    <published>2018-09-20T03:24:23.000Z</published>
    <updated>2019-04-08T01:25:40.332Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a href="#&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h2><h4 id="configuration2&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a href="#configuration2&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="configuration2&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>configuration2&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">import org.apache.commons.configuration2.Configuration;</div><div class="line">import org.apache.commons.configuration2.FileBasedConfiguration;</div><div class="line">import org.apache.commons.configuration2.PropertiesConfiguration;</div><div class="line">import org.apache.commons.configuration2.builder.ReloadingFileBasedConfigurationBuilder;</div><div class="line">import org.apache.commons.configuration2.builder.fluent.Parameters;</div><div class="line">import org.apache.commons.configuration2.ex.ConfigurationException;</div><div class="line"></div><div class="line">public static String getInclude() throws ConfigurationException {</div><div class="line">	ReloadingFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; </div><div class="line">	    include = new ReloadingFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class)</div><div class="line">		.configure(new Parameters().properties().setEncoding(&quot;utf-8&quot;).setFileName(&quot;include.properties&quot;));</div><div class="line">	Configuration config = (Configuration)include.getConfiguration();</div><div class="line">	String source = config.getString(&quot;ips&quot;);</div><div class="line">	return source;</div><div class="line">}</div></pre></td></tr></table></figure>
<h4 id="static&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a href="#static&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="static&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>static&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">    public static Properties properties=new Properties();</div><div class="line">    public static String DEFAULT_FILENAME=&quot;default.properties&quot;;</div><div class="line">    &#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</div><div class="line">static {</div><div class="line">    // 1. load library defaults</div><div class="line">    InputStream in = demo.class.getResourceAsStream(DEFAULT_FILENAME);//&#x7C7B;&#x540D;.class</div><div class="line"></div><div class="line">    if (in == null) {</div><div class="line">        throw new RuntimeException(DEFAULT_FILENAME + &quot; not found&quot;);</div><div class="line">    } else {</div><div class="line">    if (!(in instanceof BufferedInputStream))</div><div class="line">        in = new BufferedInputStream(in);</div><div class="line">        try {</div><div class="line">        properties.load(in);</div><div class="line">        in.close();</div><div class="line">        } catch (Exception e) {</div><div class="line">        throw new RuntimeException(&quot;Error while processing &quot;</div><div class="line">        + DEFAULT_FILENAME, e);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line">    /**</div><div class="line">    * &#x83B7;&#x53D6;prop&#x503C;</div><div class="line">    * @param key &#x8F93;&#x5165;&#x7684;&#x53C2;&#x6570;</div><div class="line">    * @return &#x8FD4;&#x56DE;value</div><div class="line">    */</div><div class="line">    public static String getProperty(final String key) {</div><div class="line">    return properties.getProperty(key);</div><div class="line">    }</div></pre></td></tr></table></figure>
<h2 id="MD5&#x52A0;&#x5BC6;"><a href="#MD5&#x52A0;&#x5BC6;" class="headerlink" title="MD5&#x52A0;&#x5BC6;"></a>MD5&#x52A0;&#x5BC6;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">import org.apache.commons.codec.digest.DigestUtils;</div><div class="line">public static String getUserToken(String account) {</div><div class="line">    String md5 = &quot;&quot;;</div><div class="line">	md5 = DigestUtils.md5Hex(account+&quot;0.0.0.0&quot;+new Date());</div><div class="line">	System.out.println(md5);</div><div class="line">	return md5;</div><div class="line">}</div></pre></td></tr></table></figure>
<h2 id="&#x83B7;&#x53D6;request&#x6240;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x548C;Enumeration&#x5FAA;&#x73AF;"><a href="#&#x83B7;&#x53D6;request&#x6240;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x548C;Enumeration&#x5FAA;&#x73AF;" class="headerlink" title="&#x83B7;&#x53D6;request&#x6240;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x548C;Enumeration&#x5FAA;&#x73AF;"></a>&#x83B7;&#x53D6;request&#x6240;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x548C;Enumeration&#x5FAA;&#x73AF;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">public Map&lt;String, String&gt; getReqParams(HttpServletRequest request){</div><div class="line">	Enumeration&lt;String&gt;  params = 	request.getParameterNames();</div><div class="line">  	Map&lt;String, String&gt; reqparams = new HashMap&lt;String, String&gt;();</div><div class="line">  	while(params.hasMoreElements()){</div><div class="line">            String value = (String)params.nextElement();//&#x8C03;&#x7528;nextElement&#x65B9;&#x6CD5;&#x83B7;&#x5F97;&#x5143;&#x7D20;</div><div class="line">            reqparams.put(value, request.getParameter(value));</div><div class="line">    }</div><div class="line">  	return reqparams;</div><div class="line">}</div><div class="line"></div><div class="line">/*</div><div class="line">*</div><div class="line">*&#x901A;&#x8FC7;request&#x83B7;&#x53D6;&#x53C2;&#x6570;</div><div class="line">*/</div><div class="line">public StringBuffer getParams(HttpServletRequest request){</div><div class="line">       Enumeration paramMap= request.getParameterNames();</div><div class="line">       StringBuffer sb = new StringBuffer();</div><div class="line">       while(paramMap.hasMoreElements()){</div><div class="line">           String key = (String) paramMap.nextElement();</div><div class="line">           sb.append(key).append(&quot;=&quot;).append(request.getParameter(key).toString()).append(&quot;&amp;&quot;);</div><div class="line">       }</div><div class="line">       return sb;</div><div class="line">   }</div></pre></td></tr></table></figure>
<h4 id="get-&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5E76;&#x4E0B;&#x8F7D;&#xFF0C;&#x53D8;&#x4E3A;byte-&#xFF0C;out&#x8F93;&#x51FA;"><a href="#get-&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5E76;&#x4E0B;&#x8F7D;&#xFF0C;&#x53D8;&#x4E3A;byte-&#xFF0C;out&#x8F93;&#x51FA;" class="headerlink" title="get &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5E76;&#x4E0B;&#x8F7D;&#xFF0C;&#x53D8;&#x4E3A;byte[]&#xFF0C;out&#x8F93;&#x51FA;"></a>get &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5E76;&#x4E0B;&#x8F7D;&#xFF0C;&#x53D8;&#x4E3A;byte[]&#xFF0C;out&#x8F93;&#x51FA;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">public static InputStream getInputStreamByUrl(String strUrl){</div><div class="line">      HttpURLConnection conn = null;</div><div class="line">      try {</div><div class="line">          URL url = new URL(strUrl);</div><div class="line">          conn = (HttpURLConnection)url.openConnection();</div><div class="line">          conn.setRequestMethod(&quot;GET&quot;);</div><div class="line">          conn.setConnectTimeout(20 * 1000);</div><div class="line">          final ByteArrayOutputStream output = new ByteArrayOutputStream();</div><div class="line">          IOUtils.copy(conn.getInputStream(),output);</div><div class="line">          return  new ByteArrayInputStream(output.toByteArray());</div><div class="line">      } catch (Exception e) {</div><div class="line">          try{</div><div class="line">              if (conn != null) {</div><div class="line">                  conn.disconnect();</div><div class="line">              }</div><div class="line">          }catch (Exception e1){</div><div class="line">          }</div><div class="line">      }</div><div class="line">      return null;</div><div class="line">  }</div><div class="line">  public  byte[] readBytes(InputStream in) throws IOException {  </div><div class="line">      BufferedInputStream bufin = new BufferedInputStream(in);  </div><div class="line">      int buffSize = 1024;  </div><div class="line">      ByteArrayOutputStream out = new ByteArrayOutputStream(buffSize);  </div><div class="line"></div><div class="line">      // System.out.println(&quot;Available bytes:&quot; + in.available());  </div><div class="line"></div><div class="line">      byte[] temp = new byte[buffSize];  </div><div class="line">      int size = 0;  </div><div class="line">      while ((size = bufin.read(temp)) != -1) {  </div><div class="line">          out.write(temp, 0, size);  </div><div class="line">      }  </div><div class="line">      bufin.close();  </div><div class="line">      in.close();  </div><div class="line">      byte[] content = out.toByteArray();  </div><div class="line">      out.close();  </div><div class="line">      return content;  </div><div class="line">  }</div></pre></td></tr></table></figure>
<p>&#x7136;&#x540E;&#x8F93;&#x51FA;&#x5230;&#x9875;&#x9762;,commons-io-2.6.jar</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">import org.apache.commons.io.IOUtils;</div><div class="line"></div><div class="line">	response.setCharacterEncoding(&quot;UTF-8&quot;);</div><div class="line">	response.setContentType(&quot;application/octet-stream&quot;);</div><div class="line">	response.setHeader(&quot;charset&quot;, &quot;utf-8&quot;);</div><div class="line">	</div><div class="line">	Tools tools = new Tools();</div><div class="line">	StringBuffer sb  = tools.getParams(request);</div><div class="line">	String fileId = request.getParameter(&quot;fileId&quot;);</div><div class="line">	String fileName = request.getParameter(&quot;fileName&quot;);</div><div class="line">	String url = &quot;&quot;;</div><div class="line">	</div><div class="line">	fileName = new String(URLDecoder.decode(fileName, &quot;UTF-8&quot;).getBytes(&quot;UTF-8&quot;), &quot;ISO8859-1&quot;);</div><div class="line">	response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\&quot;&quot; + fileName + &quot;\&quot;;filename*=UTF-8&apos;&apos;&quot; + fileName);</div><div class="line"></div><div class="line">	InputStream inp = tools.getInputStreamByUrl(url);</div><div class="line">	byte[] bytes = tools.readBytes(inp);</div><div class="line">	IOUtils.write(bytes, response.getOutputStream());</div><div class="line">	response.flushBuffer();</div><div class="line">	out.clear();</div><div class="line">	out = pageContext.pushBody();</div></pre></td></tr></table></figure>
<h4 id="&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x3002;&#x4E71;&#x7801;&#x7B49;&#x5904;&#x7406;"><a href="#&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x3002;&#x4E71;&#x7801;&#x7B49;&#x5904;&#x7406;" class="headerlink" title="&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x3002;&#x4E71;&#x7801;&#x7B49;&#x5904;&#x7406;"></a>&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x3002;&#x4E71;&#x7801;&#x7B49;&#x5904;&#x7406;</h4><p>commons-io-2.6.jar<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">import org.apache.commons.io.IOUtils;</div><div class="line"></div><div class="line">      //&#x4FEE;&#x590D;IE&#x4E0B;&#x8F7D; &#x6587;&#x4EF6;&#x540D;&#x4E71;&#x7801;</div><div class="line">    String userAgent = req.getHeader(&quot;user-agent&quot;).toLowerCase();  </div><div class="line">      if (userAgent.contains(&quot;msie&quot;) || userAgent.contains(&quot;like gecko&quot;) ) {  </div><div class="line">        // win10 ie edge &#x6D4F;&#x89C8;&#x5668; &#x548C;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7684;ie  </div><div class="line">        excelName = URLEncoder.encode(excelName, &quot;UTF-8&quot;);  </div><div class="line">    } else {  </div><div class="line">        // fe  </div><div class="line">      excelName = new String(excelName.getBytes(&quot;UTF-8&quot;), &quot;iso-8859-1&quot;);  </div><div class="line">    }</div><div class="line">      </div><div class="line">    rsp.setContentType(&quot;Application/Octet-Stream&quot;);</div><div class="line">    PopSalaryService service = FORP.SPRING_CONTEXT.getBean(PopSalaryService.class);</div><div class="line">    String filename = req.getServletContext().getRealPath(&quot;/disk-file/excel-template/pre-modeltemplate.xls&quot;);</div><div class="line">    byte[] data = service.getFileByteArray(filename);</div><div class="line">    rsp.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\&quot;&quot; + excelName + &quot;\&quot;&quot;);</div><div class="line">    IOUtils.write(data, rsp.getOutputStream());</div><div class="line">	return null;</div></pre></td></tr></table></figure></p>
<h4 id="&#x5B58;&#x6570;&#x636E;&#x5E93;&#x4E71;&#x7801;&#x53D8;&#x6210;&#x95EE;&#x53F7;-&#x5168;&#x89D2;&#x95EE;&#x9898;"><a href="#&#x5B58;&#x6570;&#x636E;&#x5E93;&#x4E71;&#x7801;&#x53D8;&#x6210;&#x95EE;&#x53F7;-&#x5168;&#x89D2;&#x95EE;&#x9898;" class="headerlink" title="&#x5B58;&#x6570;&#x636E;&#x5E93;&#x4E71;&#x7801;&#x53D8;&#x6210;&#x95EE;&#x53F7;,&#x5168;&#x89D2;&#x95EE;&#x9898;"></a>&#x5B58;&#x6570;&#x636E;&#x5E93;&#x4E71;&#x7801;&#x53D8;&#x6210;&#x95EE;&#x53F7;,&#x5168;&#x89D2;&#x95EE;&#x9898;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">byte[] space = new byte[]{(byte) 0xc2,(byte) 0xa0};</div><div class="line">   String UTFSpace =new String( space,&quot;UTF-8&quot; );</div><div class="line">   String  result=attachment.getOriginalFilename().replaceAll(UTFSpace, &quot; &quot;);</div></pre></td></tr></table></figure>
<h4 id="Map&#x5FAA;&#x73AF;-&#x83B7;&#x53D6;request&#x53C2;&#x6570;"><a href="#Map&#x5FAA;&#x73AF;-&#x83B7;&#x53D6;request&#x53C2;&#x6570;" class="headerlink" title="Map&#x5FAA;&#x73AF;,&#x83B7;&#x53D6;request&#x53C2;&#x6570;"></a>Map&#x5FAA;&#x73AF;,&#x83B7;&#x53D6;request&#x53C2;&#x6570;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">  HashMap&lt;String, Object&gt; map = (HashMap&lt;String, Object&gt;)obj;</div><div class="line">Iterator&lt;String&gt; keys = map.keySet().iterator();</div><div class="line">while(keys.hasNext()){</div><div class="line">	String k = keys.next();</div><div class="line">	if(k.equals(key))</div><div class="line">	{</div><div class="line">		return map.get(k);</div><div class="line">	}</div><div class="line">}</div></pre></td></tr></table></figure>
<h4 id="24&#x4F4D;&#x7F16;&#x7801;"><a href="#24&#x4F4D;&#x7F16;&#x7801;" class="headerlink" title="24&#x4F4D;&#x7F16;&#x7801;"></a>24&#x4F4D;&#x7F16;&#x7801;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">  * 24&#x4F4D;&#x7F16;&#x7801;&#xFF1A; 17&#x65E5;&#x671F;+6&#x968F;&#x673A;&#x6570;+&quot;N&quot;</div><div class="line">  * @return</div><div class="line">  */</div><div class="line">	public static String getModelCode() {</div><div class="line">		String ret = DateFormatUtils.format(new Date(), &quot;yyyyMMddHHmmssSSS&quot;)+(int)((Math.random()*9+1)*100000)+&quot;N&quot;;</div><div class="line">		return ret;</div><div class="line">	}</div></pre></td></tr></table></figure>
<h4 id="&#x751F;&#x6210;&#x5BC6;&#x7801;&#x5E76;&#x9A8C;&#x8BC1;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x6B63;&#x5219;&#xFF0C;"><a href="#&#x751F;&#x6210;&#x5BC6;&#x7801;&#x5E76;&#x9A8C;&#x8BC1;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x6B63;&#x5219;&#xFF0C;" class="headerlink" title="&#x751F;&#x6210;&#x5BC6;&#x7801;&#x5E76;&#x9A8C;&#x8BC1;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x6B63;&#x5219;&#xFF0C;"></a>&#x751F;&#x6210;&#x5BC6;&#x7801;&#x5E76;&#x9A8C;&#x8BC1;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x6B63;&#x5219;&#xFF0C;</h4><p>&#x6B63;&#x5219;&#xFF0C; &#x5305;&#x542B;&#x5927;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x548C;&#x6570;&#x5B57;&#xFF0C;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x7279;&#x6B8A;&#x5B57;&#x7B26; &#xFF0C;10&#x4F4D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">	public static void main(String[] args) {</div><div class="line">		UserService service = new UserService();</div><div class="line">//		String pattern = &quot;/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[\S]{8,16}$/&quot;;</div><div class="line">//	    boolean isMatch = Pattern.matches(pattern, pass);</div><div class="line">		Pattern pattern = Pattern.compile(&quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[\\S]{8,16}$&quot;); </div><div class="line">	    String pass = service.createPassWord(10);</div><div class="line">	    Matcher matcher = pattern.matcher(pass); </div><div class="line">	    boolean isMatch =   matcher.matches();</div><div class="line">//		System.out.println(pass+&quot;:&quot;+isMatch+&quot;:&quot;+service.getDigPwd(&quot;MuWajayC1G&quot;));</div><div class="line">	}</div><div class="line"></div><div class="line">	//&#x751F;&#x6210;&#x5BC6;&#x7801;</div><div class="line">	private String generatePwd(){</div><div class="line">        String pass = createPassWord(10);</div><div class="line">		Pattern pattern = Pattern.compile(&quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[\\S]{8,16}$&quot;); </div><div class="line">		Matcher matcher = pattern.matcher(pass); </div><div class="line">	    boolean isMatch =   matcher.matches();</div><div class="line"></div><div class="line">	      if(isMatch){</div><div class="line">				return pass;</div><div class="line">		  }else{</div><div class="line">			  return generatePwd();</div><div class="line">		  }</div><div class="line">	}</div><div class="line">	// &#x52A0;&#x5BC6;Password</div><div class="line">	private String getDigPwd(String pwd){</div><div class="line">		return DigestUtils.md5Hex(FORP.MD5_SALT_PREFIX + pwd);</div><div class="line">	}</div><div class="line">	private String createPassWord(int len){</div><div class="line">	    int random = this.createRandomInt();</div><div class="line">	    return this.createPassWord(random, len);</div><div class="line">	}</div><div class="line">	private String createPassWord(int random,int len){</div><div class="line">	    Random rd = new Random(random);</div><div class="line">	    final int maxNum = 62;</div><div class="line">	    StringBuffer sb = new StringBuffer();</div><div class="line">	    int rdGet;//&#x53D6;&#x5F97;&#x968F;&#x673A;&#x6570;</div><div class="line">	    char[] str = { &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;h&apos;, &apos;i&apos;, &apos;j&apos;, &apos;k&apos;,</div><div class="line">	        &apos;l&apos;, &apos;m&apos;, &apos;n&apos;, &apos;o&apos;, &apos;p&apos;, &apos;q&apos;, &apos;r&apos;, &apos;s&apos;, &apos;t&apos;, &apos;u&apos;, &apos;v&apos;, &apos;w&apos;,</div><div class="line">	        &apos;x&apos;, &apos;y&apos;, &apos;z&apos;, &apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;D&apos;,&apos;E&apos;,&apos;F&apos;,&apos;G&apos;,&apos;H&apos;,&apos;I&apos;,&apos;J&apos;,&apos;K&apos;,</div><div class="line">	        &apos;L&apos;, &apos;M&apos;, &apos;N&apos;, &apos;O&apos;, &apos;P&apos;, &apos;Q&apos;, &apos;R&apos;, &apos;S&apos;, &apos;T&apos;, &apos;U&apos;, &apos;V&apos;, &apos;W&apos;,</div><div class="line">	        &apos;X&apos;, &apos;Y&apos; ,&apos;Z&apos;, &apos;0&apos;, &apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos; };</div><div class="line">	    int count=0;</div><div class="line">	    while(count &lt; len){</div><div class="line">	      rdGet = Math.abs(rd.nextInt(maxNum));//&#x751F;&#x6210;&#x7684;&#x6570;&#x6700;&#x5927;&#x4E3A;62-1</div><div class="line">	      if (rdGet &gt;= 0 &amp;&amp; rdGet &lt; str.length) {</div><div class="line">	        sb.append(str[rdGet]);</div><div class="line">	        count ++;</div><div class="line">	      }</div><div class="line">	    }</div><div class="line">	    return sb.toString();</div><div class="line">	  }</div><div class="line">	  private int createRandomInt(){</div><div class="line">	    //&#x5F97;&#x5230;0.0&#x5230;1.0&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x5E76;&#x6269;&#x5927;100000&#x500D;</div><div class="line">	    double temp = Math.random()*100000;</div><div class="line">	    //&#x5982;&#x679C;&#x6570;&#x636E;&#x7B49;&#x4E8E;100000&#xFF0C;&#x5219;&#x51CF;&#x5C11;1</div><div class="line">	    if(temp&gt;=100000){</div><div class="line">	      temp = 99999;</div><div class="line">	    }</div><div class="line">	    int tempint = (int)Math.ceil(temp);</div><div class="line">	    return tempint;</div><div class="line">	  }</div></pre></td></tr></table></figure>
<h2 id="&#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A;-&#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E0D;&#x4E3A;&#x7A7A;"><a href="#&#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A;-&#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E0D;&#x4E3A;&#x7A7A;" class="headerlink" title="&#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A; &#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E0D;&#x4E3A;&#x7A7A;"></a>&#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A; &#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E0D;&#x4E3A;&#x7A7A;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/**</div><div class="line">	 * &#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A;</div><div class="line">	 * </div><div class="line">	 * @param obj</div><div class="line">	 * @return</div><div class="line">	 */</div><div class="line">	public static boolean isEmpty(Object obj) {</div><div class="line">		if (obj == null)</div><div class="line">			return true;</div><div class="line"></div><div class="line">		if (obj instanceof CharSequence)</div><div class="line">			return ((CharSequence) obj).length() == 0;</div><div class="line"></div><div class="line">		if (obj instanceof Collection)</div><div class="line">			return ((Collection) obj).isEmpty();</div><div class="line"></div><div class="line">		if (obj instanceof Map)</div><div class="line">			return ((Map) obj).isEmpty();</div><div class="line"></div><div class="line">		if (obj instanceof String)</div><div class="line">			return &quot;&quot;.equals(obj);</div><div class="line"></div><div class="line">		if (obj instanceof Object[]) {</div><div class="line">			Object[] object = (Object[]) obj;</div><div class="line">			if (object.length == 0) {</div><div class="line">				return true;</div><div class="line">			}</div><div class="line">			boolean empty = true;</div><div class="line">			for (int i = 0; i &lt; object.length; i++) {</div><div class="line">				if (!isEmpty(object[i])) {</div><div class="line">					empty = false;</div><div class="line">					break;</div><div class="line">				}</div><div class="line">			}</div><div class="line">			return empty;</div><div class="line">		}</div><div class="line">		return false;</div><div class="line">	}</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * &#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x4E0D;&#x4E3A;&#x7A7A;</div><div class="line">	 * </div><div class="line">	 * @param obj</div><div class="line">	 * @return</div><div class="line">	 */</div><div class="line">	public static boolean isNotEmpty(Object obj) {</div><div class="line">		return !isEmpty(obj);</div><div class="line">	}</div></pre></td></tr></table></figure>
<h4 id="Arrays-&#x5DE5;&#x5177;"><a href="#Arrays-&#x5DE5;&#x5177;" class="headerlink" title="Arrays &#x5DE5;&#x5177;"></a>Arrays &#x5DE5;&#x5177;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">String[] arr ={&quot;1&quot;,&quot;aaa2&quot;,&quot;3aaa&quot;,&quot;asds4&quot;};</div><div class="line">String arrString = Arrays.toString(arr);</div><div class="line">System.out.println(arrString);</div></pre></td></tr></table></figure>
<h2 id="JSON-&#x76F8;&#x5173;"><a href="#JSON-&#x76F8;&#x5173;" class="headerlink" title="JSON &#x76F8;&#x5173;"></a>JSON &#x76F8;&#x5173;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">FastJson </div><div class="line">&#x6309;&#x987A;&#x5E8F;</div><div class="line">Map&lt;String, Object&gt; itemMap = JSONObject.parseObject(exportFiled, LinkedHashMap.class);</div></pre></td></tr></table></figure>
<h2 id="&#x65E5;&#x671F;&#x76F8;&#x5173;"><a href="#&#x65E5;&#x671F;&#x76F8;&#x5173;" class="headerlink" title="&#x65E5;&#x671F;&#x76F8;&#x5173;"></a>&#x65E5;&#x671F;&#x76F8;&#x5173;</h2><h4 id="&#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x76F8;&#x5DEE;&#x5929;&#x6570;-xx&#x5929;-xx&#x5929;xx&#x65F6;xx&#x5206;xx&#x79D2;"><a href="#&#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x76F8;&#x5DEE;&#x5929;&#x6570;-xx&#x5929;-xx&#x5929;xx&#x65F6;xx&#x5206;xx&#x79D2;" class="headerlink" title="&#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x76F8;&#x5DEE;&#x5929;&#x6570;  xx&#x5929; xx&#x5929;xx&#x65F6;xx&#x5206;xx&#x79D2;"></a>&#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x76F8;&#x5DEE;&#x5929;&#x6570;  xx&#x5929; xx&#x5929;xx&#x65F6;xx&#x5206;xx&#x79D2;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">public  String getDatePoor(Date beginDate, Date endDate) {</div><div class="line">		 </div><div class="line">	    long nd = 1000 * 24 * 60 * 60;</div><div class="line">	    long nh = 1000 * 60 * 60;</div><div class="line">	    long nm = 1000 * 60;</div><div class="line">	     long ns = 1000;</div><div class="line">	    // &#x83B7;&#x5F97;&#x4E24;&#x4E2A;&#x65F6;&#x95F4;&#x7684;&#x6BEB;&#x79D2;&#x65F6;&#x95F4;&#x5DEE;&#x5F02;</div><div class="line">	    long diff = endDate.getTime() - beginDate.getTime();</div><div class="line">	    // &#x8BA1;&#x7B97;&#x5DEE;&#x591A;&#x5C11;&#x5929;</div><div class="line">	    long day = diff / nd;</div><div class="line">	    // &#x8BA1;&#x7B97;&#x5DEE;&#x591A;&#x5C11;&#x5C0F;&#x65F6;</div><div class="line">	    long hour = diff % nd / nh;</div><div class="line">	    // &#x8BA1;&#x7B97;&#x5DEE;&#x591A;&#x5C11;&#x5206;&#x949F;</div><div class="line">	    long min = diff % nd % nh / nm;</div><div class="line">	    // &#x8BA1;&#x7B97;&#x5DEE;&#x591A;&#x5C11;&#x79D2;//&#x8F93;&#x51FA;&#x7ED3;&#x679C;</div><div class="line">	     long sec = diff % nd % nh % nm / ns;</div><div class="line">	    return day + &quot;&#x5929;&quot; + hour + &quot;&#x5C0F;&#x65F6;&quot; + min + &quot;&#x5206;&quot; + sec + &quot;&#x79D2;&quot;;</div><div class="line">	}</div></pre></td></tr></table></figure>
<p>#### </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">	 * &#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x4E4B;&#x95F4;&#x76F8;&#x5DEE;&#x7684;&#x5929;&#x6570;</div><div class="line">	 * </div><div class="line">	 * @param smdate &#x8F83;&#x5C0F;&#x7684;&#x65F6;&#x95F4;</div><div class="line">	 * @param bdate &#x8F83;&#x5927;&#x7684;&#x65F6;&#x95F4;</div><div class="line">	 * @return &#x76F8;&#x5DEE;&#x5929;&#x6570;</div><div class="line">	 * @throws ParseException</div><div class="line">	 */</div><div class="line">	public static int daysBetween(Date smdate, Date bdate) throws ParseException {</div><div class="line">		SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</div><div class="line">		smdate = sdf.parse(sdf.format(smdate));</div><div class="line">		bdate = sdf.parse(sdf.format(bdate));</div><div class="line">		Calendar cal = Calendar.getInstance();</div><div class="line">		cal.setTime(smdate);</div><div class="line">		long time1 = cal.getTimeInMillis();</div><div class="line">		cal.setTime(bdate);</div><div class="line">		long time2 = cal.getTimeInMillis();</div><div class="line">		long between_days = (time2 - time1) / (1000 * 3600 * 24);</div><div class="line">		return Integer.parseInt(String.valueOf(between_days));</div><div class="line">	}</div></pre></td></tr></table></figure>
<h4 id="string2Date"><a href="#string2Date" class="headerlink" title="string2Date"></a>string2Date</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/**</div><div class="line">	 * &#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x65E5;&#x671F;</div><div class="line">	 * </div><div class="line">	 * @param strDate &#x5B57;&#x7B26;&#x4E32;&#x65E5;&#x671F;</div><div class="line">	 * @param pattern &#x65E5;&#x671F;&#x683C;&#x5F0F;</div><div class="line">	 * @return</div><div class="line">	 * @throws ParseException</div><div class="line">	 */</div><div class="line">	public static Date string2Date(String strDate, String pattern) throws ParseException {</div><div class="line">		SimpleDateFormat sdf = new SimpleDateFormat(pattern);</div><div class="line">		Date date = sdf.parse(strDate);</div><div class="line">		return date;</div><div class="line">	}</div></pre></td></tr></table></figure>
<h4 id="date2String"><a href="#date2String" class="headerlink" title="date2String"></a>date2String</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * &#x65E5;&#x671F;&#x8F6C;&#x5B57;&#x7B26;&#x4E32;</div><div class="line"> * </div><div class="line"> * @param date</div><div class="line"> * @return</div><div class="line"> * @throws ParseException</div><div class="line"> */</div><div class="line"></div><div class="line">public static String date2String(Date date, String pattern) throws ParseException {</div><div class="line">	SimpleDateFormat formatter = new SimpleDateFormat(pattern);</div><div class="line">	return formatter.format(date);</div><div class="line">}</div></pre></td></tr></table></figure>
<h4 id="getFirstDayOfMonth-&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x7B2C;&#x4E00;&#x5929;"><a href="#getFirstDayOfMonth-&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x7B2C;&#x4E00;&#x5929;" class="headerlink" title="getFirstDayOfMonth &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x7B2C;&#x4E00;&#x5929;"></a>getFirstDayOfMonth &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x7B2C;&#x4E00;&#x5929;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">    * &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x7B2C;&#x4E00;&#x5929;</div><div class="line">    * @param year</div><div class="line">    * @param month</div><div class="line">    * @return</div><div class="line">    */</div><div class="line">   public static String getFirstDayOfMonth(int year, int month) {     </div><div class="line">       Calendar cal = Calendar.getInstance();   </div><div class="line">       //&#x8BBE;&#x7F6E;&#x5E74;&#x4EFD;</div><div class="line">       cal.set(Calendar.YEAR, year);</div><div class="line">       //&#x8BBE;&#x7F6E;&#x6708;&#x4EFD; </div><div class="line">       cal.set(Calendar.MONTH, month-1); </div><div class="line">       //&#x83B7;&#x53D6;&#x67D0;&#x6708;&#x6700;&#x5C0F;&#x5929;&#x6570;</div><div class="line">       int firstDay = cal.getMinimum(Calendar.DATE);</div><div class="line">       //&#x8BBE;&#x7F6E;&#x65E5;&#x5386;&#x4E2D;&#x6708;&#x4EFD;&#x7684;&#x6700;&#x5C0F;&#x5929;&#x6570; </div><div class="line">       cal.set(Calendar.DAY_OF_MONTH,firstDay);  </div><div class="line">       //&#x683C;&#x5F0F;&#x5316;&#x65E5;&#x671F;</div><div class="line">       SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</div><div class="line">       return sdf.format(cal.getTime());  </div><div class="line">   }</div><div class="line">   public  String getLastDayOfMonth1(String yearmonth) { </div><div class="line"> 	  int year = Integer.parseInt(yearmonth.split(&quot;-&quot;)[0]);</div><div class="line"> 	  int month =  Integer.parseInt(yearmonth.split(&quot;-&quot;)[1]);</div><div class="line"> 	  return getLastDayOfMonth1(year,month);</div><div class="line"> 	}</div></pre></td></tr></table></figure>
<h4 id="getLastDayOfMonth-&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5929;"><a href="#getLastDayOfMonth-&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5929;" class="headerlink" title="getLastDayOfMonth &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5929;"></a>getLastDayOfMonth &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5929;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">    * &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5E74;&#x6708;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5929;</div><div class="line">    * @param year</div><div class="line">    * @param month</div><div class="line">    * @return</div><div class="line">    */</div><div class="line">    public  String getLastDayOfMonth1(int year, int month) {     </div><div class="line">        Calendar cal = Calendar.getInstance();     </div><div class="line">        //&#x8BBE;&#x7F6E;&#x5E74;&#x4EFD;  </div><div class="line">        cal.set(Calendar.YEAR, year);  </div><div class="line">        //&#x8BBE;&#x7F6E;&#x6708;&#x4EFD;  </div><div class="line">        cal.set(Calendar.MONTH, month-1); </div><div class="line">        //&#x83B7;&#x53D6;&#x67D0;&#x6708;&#x6700;&#x5927;&#x5929;&#x6570;</div><div class="line">        int lastDay = cal.getActualMaximum(Calendar.DATE);</div><div class="line">        //&#x8BBE;&#x7F6E;&#x65E5;&#x5386;&#x4E2D;&#x6708;&#x4EFD;&#x7684;&#x6700;&#x5927;&#x5929;&#x6570;  </div><div class="line">        cal.set(Calendar.DAY_OF_MONTH, lastDay);  </div><div class="line">        //&#x683C;&#x5F0F;&#x5316;&#x65E5;&#x671F;</div><div class="line">        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);  </div><div class="line">        return sdf.format(cal.getTime());</div><div class="line">    }</div></pre></td></tr></table></figure>
<h2 id="&#x63A5;&#x53E3;&#x65B9;&#x9762;"><a href="#&#x63A5;&#x53E3;&#x65B9;&#x9762;" class="headerlink" title="&#x63A5;&#x53E3;&#x65B9;&#x9762;"></a>&#x63A5;&#x53E3;&#x65B9;&#x9762;</h2><h4 id="webservice"><a href="#webservice" class="headerlink" title="webservice"></a>webservice</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">public static String postMethod(String url,String method,Object[] param){</div><div class="line">           Service s = new  Service();</div><div class="line">           String val =null;</div><div class="line">           Call call;</div><div class="line">			try {</div><div class="line">				call = (Call) s.createCall();</div><div class="line">			    call.setTargetEndpointAddress(url);</div><div class="line">	            call.setOperation(method);</div><div class="line">	            call.setTimeout(new Integer(5000));</div><div class="line">	            val = (String)call.invoke(param);</div><div class="line">	            System.out.println(&quot;method:&quot;+ method+&quot;,param:&quot;  + param+&quot;,return:&quot;  + val);</div><div class="line">			} catch (Exception e) {</div><div class="line">				e.printStackTrace();</div><div class="line">			}</div><div class="line">		  	return val;</div><div class="line">		}</div><div class="line">	  public static String postMethod(String url,String method,Object[] param, List in){</div><div class="line">          Service s = new  Service();</div><div class="line">          String val =null;</div><div class="line">          Call call;</div><div class="line">			try {</div><div class="line">				call = (Call) s.createCall();</div><div class="line">			    call.setTargetEndpointAddress(url);</div><div class="line">	            call.setOperation(method);</div><div class="line">	            call.setTimeout(new Integer(5000));</div><div class="line">	            for (Iterator iterator = in.iterator(); iterator.hasNext();) {</div><div class="line">					String type = (String) iterator.next();</div><div class="line">					call.addParameter(type, org.apache.axis.encoding.XMLType.XSD_STRING, javax.xml.rpc.ParameterMode.IN);</div><div class="line">				}</div><div class="line">	              val = (String)call.invoke(param);</div><div class="line">	            System.out.println(&quot;method:&quot;+ method+&quot;,param:&quot;  + param+&quot;,return:&quot;  + val);</div><div class="line">			} catch (Exception e) {</div><div class="line">				e.printStackTrace();</div><div class="line">			}</div><div class="line">		  	return val;</div><div class="line">		}</div></pre></td></tr></table></figure>
<h4 id="rest-&#x8BF7;&#x6C42;-get-and-post-use-HttpURLConnection"><a href="#rest-&#x8BF7;&#x6C42;-get-and-post-use-HttpURLConnection" class="headerlink" title="rest &#x8BF7;&#x6C42; get and post use HttpURLConnection"></a>rest &#x8BF7;&#x6C42; get and post use HttpURLConnection</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line">	  /**</div><div class="line">	   * rest &#x8BF7;&#x6C42;</div><div class="line">	   * @param url</div><div class="line">	   * @param param</div><div class="line">	   * @return</div><div class="line">	   */</div><div class="line">	  public static String postMethod(String url,String method,String params){</div><div class="line">          String val =&quot;&quot;;</div><div class="line">		try {</div><div class="line">			 URL restServiceURL = new URL(url);</div><div class="line">             HttpURLConnection httpConnection = (HttpURLConnection) restServiceURL.openConnection();</div><div class="line">             httpConnection.setRequestMethod(method);</div><div class="line">             httpConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);</div><div class="line">             httpConnection.setDoOutput(true);     //&#x9700;&#x8981;&#x8F93;&#x51FA;</div><div class="line">             httpConnection.setDoInput(true);      //&#x9700;&#x8981;&#x8F93;&#x5165;</div><div class="line">//             Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; entries = params.entrySet().iterator(); </div><div class="line">//             while (entries.hasNext()) { </div><div class="line">//               Map.Entry&lt;String, Object&gt; entry = entries.next(); </div><div class="line">//               System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getKey()); </div><div class="line">//               httpConnection.setRequestProperty(entry.getKey(), entry.getKey());</div><div class="line">//             }</div><div class="line">             </div><div class="line">             </div><div class="line">             //&#x5EFA;&#x7ACB;&#x8F93;&#x5165;&#x6D41;&#xFF0C;&#x5411;&#x6307;&#x5411;&#x7684;URL&#x4F20;&#x5165;&#x53C2;&#x6570;</div><div class="line">             DataOutputStream dos=new DataOutputStream(httpConnection.getOutputStream());</div><div class="line">             dos.writeBytes(params);</div><div class="line">             dos.flush();</div><div class="line">             </div><div class="line">             if (httpConnection.getResponseCode() != 200) {</div><div class="line">                    throw new RuntimeException(&quot;HTTP GET Request Failed with Error code : &quot;</div><div class="line">                                  + httpConnection.getResponseCode());</div><div class="line">             }</div><div class="line">             BufferedReader responseBuffer = new BufferedReader(new InputStreamReader(</div><div class="line">                    (httpConnection.getInputStream())));</div><div class="line"></div><div class="line">             String output;</div><div class="line">//             System.out.println(&quot;Output from Server:  \n&quot;);</div><div class="line">             </div><div class="line">             while ((output = responseBuffer.readLine()) != null) {</div><div class="line">                    System.out.println(output);</div><div class="line">                    val = val + output;</div><div class="line">             }</div><div class="line"></div><div class="line">             httpConnection.disconnect();</div><div class="line">			 System.out.println(&quot;url:&quot;+ url+&quot;,params:&quot;  + params+&quot;,return:&quot;  + val);</div><div class="line">		} catch (Exception e) {</div><div class="line">			e.printStackTrace();</div><div class="line">		}</div><div class="line">		return val;</div><div class="line">	}</div><div class="line">	</div><div class="line">	</div><div class="line">	 /** </div><div class="line">     * &#x53D1;&#x8D77;http&#x8BF7;&#x6C42;&#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x7ED3;&#x679C; </div><div class="line">     * @param req_url &#x8BF7;&#x6C42;&#x5730;&#x5740; </div><div class="line">     * @return </div><div class="line">     */ </div><div class="line">    public  String getMethod(String req_url) {</div><div class="line">        StringBuffer buffer = new StringBuffer();  </div><div class="line">        try {  </div><div class="line">            URL url = new URL(req_url);  </div><div class="line">            HttpURLConnection httpUrlConn = (HttpURLConnection) url.openConnection();  </div><div class="line"></div><div class="line">            httpUrlConn.setDoOutput(false);  </div><div class="line">            httpUrlConn.setDoInput(true);  </div><div class="line">            httpUrlConn.setUseCaches(false);  </div><div class="line"></div><div class="line">            httpUrlConn.setRequestMethod(&quot;GET&quot;);  </div><div class="line">            httpUrlConn.connect();  </div><div class="line"></div><div class="line">            // &#x5C06;&#x8FD4;&#x56DE;&#x7684;&#x8F93;&#x5165;&#x6D41;&#x8F6C;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32;  </div><div class="line">            InputStream inputStream = httpUrlConn.getInputStream();  </div><div class="line">            InputStreamReader inputStreamReader = new InputStreamReader(inputStream, &quot;utf-8&quot;);  </div><div class="line">            BufferedReader bufferedReader = new BufferedReader(inputStreamReader);  </div><div class="line"></div><div class="line">            String str = null;  </div><div class="line">            while ((str = bufferedReader.readLine()) != null) {  </div><div class="line">                buffer.append(str);  </div><div class="line">            }  </div><div class="line">            bufferedReader.close();  </div><div class="line">            inputStreamReader.close();  </div><div class="line">            // &#x91CA;&#x653E;&#x8D44;&#x6E90;  </div><div class="line">            inputStream.close();  </div><div class="line">            inputStream = null;  </div><div class="line">            httpUrlConn.disconnect();  </div><div class="line"></div><div class="line">        } catch (Exception e) {  </div><div class="line">            System.out.println(e.getStackTrace());  </div><div class="line">        }  </div><div class="line">        return buffer.toString();  </div><div class="line">    } </div><div class="line"></div><div class="line">	public static void main(String[] args) throws ConfigurationException {</div><div class="line">		Object[] objects = {&quot;taskid&quot;};</div><div class="line">		List&lt;String&gt; in = new ArrayList&lt;String&gt;();</div><div class="line">		in.add(&quot;taskid&quot;);</div><div class="line">		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();</div><div class="line">			params.put(&quot;acc&quot;, &quot;admin&quot;);</div><div class="line">			params.put(&quot;pwd&quot;, &quot;q7A1ArKxRM8=&quot;);</div><div class="line">//				params.put(&quot;accessToken&quot;, &quot;&quot;);</div><div class="line">		String pa = &quot;acc=admin&amp;pwd=q7A1ArKxRM8=&quot;;</div><div class="line">		String par = &quot;accessToken=MpOfjtPXtYGGrQhBU3mHNH/TmQZNUoN8uNBzCd9fTGxPxVnCjxR2+m5p/DTWySzX&quot;;</div><div class="line">		</div><div class="line">//			postMethod(&quot;http://10.32.71.85:9080/KayangWebApis/KayangWebApi/Data/StartSession&quot;,</div><div class="line">//					&quot;POST&quot;,pa);</div><div class="line">		postMethod(&quot;http://10.32.71.85:9080/KayangWebApis/KayangWebApi/Data/CloseSession&quot;,</div><div class="line">				&quot;POST&quot;,par);</div><div class="line">		</div><div class="line">//			postMethod(&quot;http://10.32.1.91:7007/OAUAcenter/services/OAOrgService&quot;,</div><div class="line">//					&quot;getOrgData&quot;,null);</div><div class="line">//			postMethod(&quot;http://10.32.1.91:7007/OAUAcenter/services/OAProcessTaskService&quot;,</div><div class="line">//					&quot;endDb&quot;,objects);</div><div class="line">//			getUserToken(&quot;admin&quot;);</div><div class="line">	}</div></pre></td></tr></table></figure>
<h2 id="&#x53CD;&#x5C04;&#x5E38;&#x7528;&#x8C03;&#x7528;"><a href="#&#x53CD;&#x5C04;&#x5E38;&#x7528;&#x8C03;&#x7528;" class="headerlink" title="&#x53CD;&#x5C04;&#x5E38;&#x7528;&#x8C03;&#x7528;"></a>&#x53CD;&#x5C04;&#x5E38;&#x7528;&#x8C03;&#x7528;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">String methodName = new StringBuffer(&quot;get&quot;).append(key.substring(0, 1).toUpperCase())</div><div class="line">       	.append(key.substring(1)).toString();</div><div class="line"> Method method =  PrjProject.class.getMethod(methodName);</div><div class="line"> Object result = method.invoke(info);</div></pre></td></tr></table></figure>
<h2 id="jdbc-&#x6570;&#x636E;&#x64CD;&#x4F5C;"><a href="#jdbc-&#x6570;&#x636E;&#x64CD;&#x4F5C;" class="headerlink" title="jdbc &#x6570;&#x636E;&#x64CD;&#x4F5C;"></a>jdbc &#x6570;&#x636E;&#x64CD;&#x4F5C;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">String sql = &quot; select count(1) as count from demo_userrole t where t.fk_userid = ? and t.fk_roleid = ? &quot;;</div><div class="line">SqlRowSet rs = jdbc.queryForRowSet(sql, userId, roleid);</div><div class="line">if (rs.next()) {</div><div class="line">   rs.getInt(&quot;count&quot;);</div><div class="line">}</div></pre></td></tr></table></figure>
<h2 id="log-Linux-&#x6743;&#x9650;&#x95EE;&#x9898;"><a href="#log-Linux-&#x6743;&#x9650;&#x95EE;&#x9898;" class="headerlink" title="log Linux &#x6743;&#x9650;&#x95EE;&#x9898;"></a>log Linux &#x6743;&#x9650;&#x95EE;&#x9898;</h2><p>&#x901A;&#x8FC7;&#x7EE7;&#x627F;RollingFileAppender&#x6216;&#x8005;DailyRollingFileAppender&#x6765;&#x5B9E;&#x73B0;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">log4j.properties&#x914D;&#x7F6E;</div><div class="line"></div><div class="line">#&#x8F93;&#x51FA;&#x5230;&#x6587;&#x4EF6;   </div><div class="line">log4j.appender.fileInfo = com.core.log4jconfig.Mylog4jWriter</div><div class="line">log4j.appender.fileInfo.Threshold = DEBUG   </div><div class="line">log4j.appender.fileInfo.layout = org.apache.log4j.PatternLayout   </div><div class="line">log4j.appender.fileInfo.layout.ConversionPattern = %d{yyyy-MM-dd HH\:mm\:ss} %p %c %x - %m%n  </div><div class="line">log4j.appender.fileInfo.Append = TRUE   </div><div class="line">log4j.appender.fileInfo.File = /data/my/logs/my.log   </div><div class="line">log4j.appender.fileInfo.File=&apos;.&apos;yyyy-MM-dd</div></pre></td></tr></table></figure>
<p>com.core.log4jconfig.Mylog4jWriter.java&#x4EE3;&#x7801;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">public class Mylog4jWriter extends DailyRollingFileAppender{  </div><div class="line">      </div><div class="line">    @Override  </div><div class="line">    public synchronized void setFile(String fileName, boolean append,  </div><div class="line">            boolean bufferedIO, int bufferSize) throws IOException {  </div><div class="line">        super.setFile(fileName, append, bufferedIO, bufferSize);  </div><div class="line">        File f = new File(fileName);  </div><div class="line">        Set&lt;PosixFilePermission&gt; set = new HashSet&lt;PosixFilePermission&gt;();  </div><div class="line">        set.add(PosixFilePermission.OWNER_READ);  </div><div class="line">        set.add(PosixFilePermission.OTHERS_WRITE);  </div><div class="line">        set.add(PosixFilePermission.GROUP_READ);  </div><div class="line">        set.add(PosixFilePermission.OTHERS_READ);  </div><div class="line">        if(f.exists()){  </div><div class="line">            Files.setPosixFilePermissions(f.toPath(), set);  </div><div class="line">        }  </div><div class="line">    }  </div><div class="line">  </div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x542F;&#x52A8;&#x9879;&#x76EE;&#x5373;&#x53EF;<br>&#x751F;&#x6210;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x4E3A;rw-r&#x2013;r&#x2013;</p>
<p>&#x6240;&#x6709;&#x7528;&#x6237;&#x90FD;&#x6709;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x8BFB;&#x6743;&#x9650;</p>
<h4 id="&#x4FEE;&#x6539;-Sequence"><a href="#&#x4FEE;&#x6539;-Sequence" class="headerlink" title="&#x4FEE;&#x6539; Sequence"></a>&#x4FEE;&#x6539; Sequence</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">public void updateSequence() {</div><div class="line">  String sql = &quot;select SEQUENCE_NAME from ALL_SEQUENCES WHERE SEQUENCE_OWNER=&apos;database&apos;&quot;;</div><div class="line">  List&lt;xxxx&gt; list = findByList(sql, xxxx.class);</div><div class="line">  String updateSql1 = &quot;&quot;;</div><div class="line">  String updateSql2 = &quot;&quot;;</div><div class="line">  String selectSql = &quot;&quot;;</div><div class="line">  for (xxxx p:list) {</div><div class="line">      updateSql1 = &quot;alter sequence &quot;+p.getSequence_name()+&quot; increment by 1000000&quot;;</div><div class="line">      jdbc.update(updateSql1);</div><div class="line">      selectSql = &quot;select &quot;+p.getSequence_name()+&quot;.nextval from dual&quot;;</div><div class="line">      List&lt;xxxx&gt; byList = findByList(selectSql, xxxx.class);</div><div class="line">      updateSql2 = &quot;alter sequence &quot;+p.getSequence_name()+&quot; increment by 1&quot;;</div><div class="line">      jdbc.update(updateSql2);</div><div class="line">  }</div><div class="line">}</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      java常用代码汇总，读取配置文件，日期，接口调用，是否为空，
    
    </summary>
    
      <category term="java" scheme="https://muxiaobai.github.io/categories/java/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库操作语句2</title>
    <link href="https://muxiaobai.github.io/2018/09/04/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E8%AF%AD%E5%8F%A52/"/>
    <id>https://muxiaobai.github.io/2018/09/04/数据库操作语句2/</id>
    <published>2018-09-04T10:13:53.000Z</published>
    <updated>2019-04-10T08:24:49.049Z</updated>
    
    <content type="html"><![CDATA[<p>&#x5E38;&#x7528;&#x7684;SQL&#x8BED;&#x53E5;&#xFF0C;&#x6C47;&#x603B;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E4B;&#x540E;&#x67E5;&#x9605;&#x3002;<br><a id="more"></a></p>
<h2 id="&#x5907;&#x4EFD;"><a href="#&#x5907;&#x4EFD;" class="headerlink" title="&#x5907;&#x4EFD;"></a>&#x5907;&#x4EFD;</h2><h4 id="MongoDB-&#x5907;&#x4EFD;"><a href="#MongoDB-&#x5907;&#x4EFD;" class="headerlink" title="MongoDB &#x5907;&#x4EFD;"></a>MongoDB &#x5907;&#x4EFD;</h4><p>&#x5907;&#x4EFD;&#x751F;&#x4EA7;&#x6570;&#x636E;&#xFF1A;    </p>
<blockquote>
<p>/db/mongodb-3.4.7/bin/mongodump -h 127.0.0.1:9430 -d daochufilename -o  /db/mongodb-3.4.7/data/mongo_bak/180414  </p>
</blockquote>
<p>&#x5220;&#x9664;&#x8001;&#x6570;&#x636E;:</p>
<blockquote>
<p>&#x8FDB;&#x5165;&#x6D4B;&#x8BD5;mongdb:       ./mongo 127.0.0.1:9430<br>&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x5E93;:           show dbs<br>&#x9009;&#x62E9;&#x5F85;&#x5220;&#x9664;&#x7684;&#x5E93;:         use  databaseName<br>&#x5220;&#x9664;&#x5F53;&#x524D;&#x5E93;:             db.dropDatabase()<br>&#x9000;&#x51FA;:                   exit                    </p>
</blockquote>
<p>&#x5BFC;&#x5165;&#x6570;&#x636E;</p>
<blockquote>
<p>/db/mongodb-3.4.7/bin/mongorestore &#x2013;host=127.0.0.1 &#x2013;port 9430 &#x2013;db databasename     /db/mongodb-3.4.7/data/mongo_bak/180414/daochufilename</p>
</blockquote>
<h4 id="Oracle-&#x5907;&#x4EFD;"><a href="#Oracle-&#x5907;&#x4EFD;" class="headerlink" title="Oracle &#x5907;&#x4EFD;"></a>Oracle &#x5907;&#x4EFD;</h4><p>11G &#x5BFC;&#x51FA;&#xFF0C; &#x6CA1;&#x6709;&#x6570;&#x636E;&#x7684;&#x8868;&#x65E0;&#x6CD5;&#x5BFC;&#x51FA;</p>
<h5 id="&#x5171;&#x6709;&#x591A;&#x5C11;&#x5F20;&#x8868;"><a href="#&#x5171;&#x6709;&#x591A;&#x5C11;&#x5F20;&#x8868;" class="headerlink" title="&#x5171;&#x6709;&#x591A;&#x5C11;&#x5F20;&#x8868;:"></a>&#x5171;&#x6709;&#x591A;&#x5C11;&#x5F20;&#x8868;:</h5><ul>
<li>select count(1) from  user_tables ;</li>
<li>select &#x2018;drop table &#x2018;||table_name||&#x2019; cascade constraints;&#x2019; from user_tables;  </li>
<li>select &#x2018;drop trigger &#x2018; || trigger_name || &#x2018;;&#x2019;  from user_triggers;  </li>
<li>select &#x2018;drop sequence &#x2018; || sequence_name || &#x2018;;&#x2019;  from user_sequences;  </li>
</ul>
<p>1&#x3001;&#x5148;&#x67E5;&#x8BE2;&#x4E00;&#x4E0B;&#x5F53;&#x524D;&#x7528;&#x6237;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7A7A;&#x8868;</p>
<p>select table_name from user_tables where NUM_ROWS=0;</p>
<p>2&#x3001;&#x7528;&#x4EE5;&#x4E0B;&#x8FD9;&#x53E5;&#x67E5;&#x627E;&#x7A7A;&#x8868;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select &apos;alter table &apos;||table_name||&apos; allocate extent;&apos; </div><div class="line">from user_tables where num_rows = 0 ;</div></pre></td></tr></table></figure></p>
<p>&#x6216;&#x8005;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select &#x2018;alter table &#x2018;||table_name||&#x2019; allocate extent;&#x2019; </div><div class="line">from user_tables where num_rows=0;</div></pre></td></tr></table></figure></p>
<p>alter table table_name allocate extent;</p>
<p>&#x539F;&#x56E0;:</p>
<p>Oracle 11G &#x51FA;&#x73B0;EXP-00003: &#x672A;&#x627E;&#x5230;&#x6BB5; (0,0) &#x7684;&#x5B58;&#x50A8;&#x5B9A;&#x4E49;<br>oracle 11g&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x5728;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#xFF0C;alter system set deferred_segment_creation=false; &#x8BE5;&#x53C2;&#x6570;&#x610F;&#x601D;&#x662F;&#x5F53;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF08;&#x5982;&#x8868;&#xFF09;&#xFF0C;&#x521D;&#x59CB;&#x6CA1;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x5426;&#x7ACB;&#x5373;&#x521B;&#x5EFA;segment&#x3002;&#x9ED8;&#x8BA4;&#x662F;true&#x3002;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5728;exp&#x65F6;&#xFF0C;&#x6CA1;&#x6709;segment&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x5BFC;&#x51FA;&#x3002;<br>&#x4F46;&#x6B64;&#x547D;&#x4EE4;&#x53EA;&#x5BF9;&#x4EE5;&#x540E;&#x7684;&#x8868;&#x6709;&#x6548;&#xFF0C;&#x4E4B;&#x524D;&#x7684;&#x8868;&#x6CA1;&#x6709;Segment&#x7684;&#x8FD8;&#x662F;&#x6CA1;&#x6709;&#x3002;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#x58F0;&#x660E;&#x7ACB;&#x5373;&#x521B;&#x5EFA;Segment &#xFF0C;create table XXX (XXX  XXX) SEGMENT CREATION IMMEDIATE;<br>&#x5BF9;&#x4E8E;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x6709;Segment&#x7684;&#x8868;&#x6765;&#x8BF4;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;alter table TabelName allocate extent&#x6765;&#x4F7F;&#x5176;&#x521B;&#x5EFA;&#x51FA;Segment,&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x5176;&#x521B;&#x5EFA;Segment .<br>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;<br>1&#x3001;&#x5148;&#x67E5;&#x8BE2;&#x4E00;&#x4E0B;&#x5F53;&#x524D;&#x7528;&#x6237;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7A7A;&#x8868;<br>select table_name from user_tables where NUM_ROWS=0;<br>2&#x3001;&#x7528;&#x4EE5;&#x4E0B;&#x8FD9;&#x53E5;&#x67E5;&#x627E;&#x7A7A;&#x8868;<br>select &#x2018;alter table &#x2018;||table_name||&#x2019; allocate extent;&#x2019; from user_tables where num_rows=0 ;<br>3&#x3001;&#x628A;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5BFC;&#x51FA;&#xFF0C;&#x6267;&#x884C;&#x5BFC;&#x51FA;&#x7684;&#x8BED;&#x53E5; &#x5982;&#xFF1A;<br>alter table table_name allocate extent;</p>
<p>exp username/password@192.168.5.214/ORCL file=d:\daochu.dmp FULL=y</p>
<p>exp XNJD20171225/12345678@192.168.2.240/ORCL file=d:\daochu.dmp owner=(XNJD20171225,sys) &#x5BFC;&#x51FA;&#x5BF9;&#x5E94;&#x7528;&#x6237;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5185;&#x5BB9;</p>
<p>exp username/pwd@sid file=d:/data/bak.dmp owner=(user)rows=n   &#x4E0D;&#x5BFC;&#x51FA;&#x6570;&#x636E;</p>
<p>&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;</p>
<p>imp username/password@192.168.5.214/ORCL tablespaces=xxx fromuser=cccccc touser=zzzzz file=D:\daoru.dmp FULL=y</p>
<p>&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93; &#x6CE8;&#x610F;&#x7248;&#x672C;&#x8981;&#x4E00;&#x81F4;&#xFF0C;10g &#x5BF9;10g 11g&#x5BF9;11g &#x5426;&#x5219;&#x4F1A;&#x51FA;&#x9519;&#x3002;&#x56E0;&#x4E3A;&#x6709;exp&#x7248;&#x672C;&#x548C;server&#x7248;&#x672C;&#x4E4B;&#x5206;</p>
<p>exp_dir=/fo</p>
<h4 id="&#x7BA1;&#x7406;&#x5458;"><a href="#&#x7BA1;&#x7406;&#x5458;" class="headerlink" title="&#x7BA1;&#x7406;&#x5458;"></a>&#x7BA1;&#x7406;&#x5458;</h4><p>sqlplus / as sysdba</p>
<p>sqlplus /nolog<br>conn  username/password as sysdba </p>
<h4 id="&#x8BBE;&#x7F6E;directory"><a href="#&#x8BBE;&#x7F6E;directory" class="headerlink" title="&#x8BBE;&#x7F6E;directory"></a>&#x8BBE;&#x7F6E;directory</h4><p>&#x2013;&#x67E5;&#x8DEF;&#x5F84;<br>select * from dba_directories;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SYS                EXP_IMP_DATA</div><div class="line">/opt/oracle/oradata/forp/db_bakup</div></pre></td></tr></table></figure></p>
<p>create or replace  directory dmp_dir as &#x2018;/data/testdata/&#x2018;;</p>
<p>grant read,write on directory dmp_dir to username;</p>
<p><a href="https://blog.csdn.net/eason_oracle/article/details/77101563" target="_blank" rel="external">&#x8BBE;&#x7F6E;directory&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</a></p>
<ul>
<li><ol>
<li>su - oracle</li>
</ol>
</li>
<li><p>1.&#x5BFC;&#x51FA;&#x751F;&#x4EA7;&#x5E93; oracle&#x6570;&#x636E;</p>
<blockquote>
<p>&#x8FDB;&#x5165;127.0.0.1&#x670D;&#x52A1;&#x5668;<br>  &#x5BFC;&#x51FA;&#xFF1A;    expdp TEST1/PITAYA_7Na1 file=/20180922.dmp directory=exp_dir schemas=TEST1;</p>
</blockquote>
</li>
<li><p>2.&#x5BFC;&#x5165;Oracle&#x6570;&#x636E;&#x5230;&#x6D4B;&#x8BD5;&#x5E93;</p>
<blockquote>
<p>   impdp TEST/PITAYA_7Na1_TEST file=/20180922.dmp directory=exp_dir REMAP_SCHEMA=TEST1:TEST; </p>
</blockquote>
</li>
</ul>
<h2 id="&#x8BBE;&#x7F6E;plsql&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;"><a href="#&#x8BBE;&#x7F6E;plsql&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;" class="headerlink" title="&#x8BBE;&#x7F6E;plsql&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;"></a>&#x8BBE;&#x7F6E;plsql&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;</h2><p>sqlplus TEST/PITAYA_7Na1_TEST@orcl</p>
<p>&#x6253;&#x5F00;PL/SQL&#xFF0C;&#x5728;Tools-&gt;Perferences-&gt;Editor&#x4E2D;Autoreplaces&#x9009;&#x62E9;&#x914D;&#x7F6E;&#x7684;short.txt&#x6587;&#x4EF6; ,&#x7136;&#x540E;&#x91CD;&#x542F;&#x4E00;&#x4E0B;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">s = select * from </div><div class="line">w = where </div><div class="line">sf = select t.*, t.rowid from  </div><div class="line">sc = select count(1) from </div><div class="line">d = delete from</div></pre></td></tr></table></figure>
<h2 id="&#x67E5;&#x8BE2;&#x5916;&#x952E;"><a href="#&#x67E5;&#x8BE2;&#x5916;&#x952E;" class="headerlink" title="&#x67E5;&#x8BE2;&#x5916;&#x952E;"></a>&#x67E5;&#x8BE2;&#x5916;&#x952E;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">select a.constraint_name, a.table_name, b.constraint_name  from user_constraints a, user_constraints b</div><div class="line">where a.constraint_type = &apos;R&apos; and b.constraint_type = &apos;P&apos;  and a.r_constraint_name = b.constraint_name</div><div class="line">and a.constraint_name = &apos;FK_CRM_7&apos;</div></pre></td></tr></table></figure>
<h2 id="&#x9501;&#x8868;"><a href="#&#x9501;&#x8868;" class="headerlink" title="&#x9501;&#x8868;"></a>&#x9501;&#x8868;</h2><p>&#x67E5;&#x8BE2;&#x9501;&#x8868;&#x7684;&#x5BF9;&#x8C61;</p>
<p>&#x8FD9;&#x4E2A;&#x4E24;&#x4E2A;sql&#x90FD;&#x662F;&#x8981;&#x5728;&#x5177;&#x6709;dba&#x6743;&#x9650;&#x7684;&#x7528;&#x6237;&#x4E0B;&#x6267;&#x884C;&#x7684;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">select t2.username,</div><div class="line">       t2.sid,</div><div class="line">       t2.serial#,</div><div class="line">       t3.object_name,</div><div class="line">       t2.OSUSER,</div><div class="line">       t2.MACHINE,</div><div class="line">       t2.PROGRAM,</div><div class="line">       t2.LOGON_TIME,</div><div class="line">       t2.COMMAND,</div><div class="line">       t2.LOCKWAIT,</div><div class="line">       t2.SADDR,</div><div class="line">       t2.PADDR,</div><div class="line">       t2.TADDR,</div><div class="line">       t2.SQL_ADDRESS,</div><div class="line">       t1.LOCKED_MODE</div><div class="line">  from v$locked_object t1, v$session t2, dba_objects t3</div><div class="line"> where t1.session_id = t2.sid</div><div class="line">   and t1.object_id = t3.object_id</div><div class="line"> order by t2.logon_time;</div></pre></td></tr></table></figure>
<p>kill &#x9501;&#x8868;&#x64CD;&#x4F5C;   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ALTER system KILL session &apos;SID,serial#&apos;;</div></pre></td></tr></table></figure>
<p>&#x9501;&#x7684;&#x7EA7;&#x522B;</p>
<p>v$locked_object&#x4E2D;&#x7684;LOCKED_MODE&#x5B57;&#x6BB5;&#x8868;&#x793A;&#x9501;&#x7684;&#x6A21;&#x5F0F;&#xFF0C;oracle&#x4E2D;&#x9501;&#x7684;&#x6A21;&#x5F0F;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x79CD;:<br>0&#xFF1A;none<br>1&#xFF1A;null &#x7A7A;<br>2&#xFF1A;Row-S &#x884C;&#x5171;&#x4EAB;(RS)&#xFF1A;&#x5171;&#x4EAB;&#x8868;&#x9501;&#xFF0C;sub share<br>3&#xFF1A;Row-X &#x884C;&#x72EC;&#x5360;(RX)&#xFF1A;&#x7528;&#x4E8E;&#x884C;&#x7684;&#x4FEE;&#x6539;&#xFF0C;sub exclusive<br>4&#xFF1A;Share &#x5171;&#x4EAB;&#x9501;(S)&#xFF1A;&#x963B;&#x6B62;&#x5176;&#x4ED6;DML&#x64CD;&#x4F5C;&#xFF0C;share<br>5&#xFF1A;S/Row-X &#x5171;&#x4EAB;&#x884C;&#x72EC;&#x5360;(SRX)&#xFF1A;&#x963B;&#x6B62;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#xFF0C;share/sub exclusive<br>6&#xFF1A;exclusive &#x72EC;&#x5360;(X)&#xFF1A;&#x72EC;&#x7ACB;&#x8BBF;&#x95EE;&#x4F7F;&#x7528;&#xFF0C;exclusive</p>
<p>&#x6570;&#x5B57;&#x8D8A;&#x5927;&#x9501;&#x7EA7;&#x522B;&#x8D8A;&#x9AD8;, &#x5F71;&#x54CD;&#x7684;&#x64CD;&#x4F5C;&#x8D8A;&#x591A;&#x3002;</p>
<p>1&#x7EA7;&#x9501;&#x6709;&#xFF1A;Select&#xFF0C;&#x6709;&#x65F6;&#x4F1A;&#x5728;v$locked_object&#x51FA;&#x73B0;&#x3002;<br>2&#x7EA7;&#x9501;&#x6709;&#xFF1A;Select for update,Lock For Update,Lock Row Share<br>select for update&#x5F53;&#x5BF9;&#x8BDD;&#x4F7F;&#x7528;for update&#x5B50;&#x4E32;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x6E38;&#x6807;&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x8FD4;&#x56DE;&#x96C6;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x884C;&#x90FD;&#x5C06;&#x5904;&#x4E8E;&#x884C;&#x7EA7;(Row-X)&#x72EC;&#x5360;&#x5F0F;&#x9501;&#x5B9A;&#xFF0C;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x53EA;&#x80FD;&#x67E5;&#x8BE2;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x884C;&#xFF0C;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;update&#x3001;delete&#x6216;select for update&#x64CD;&#x4F5C;&#x3002;<br>3&#x7EA7;&#x9501;&#x6709;&#xFF1A;Insert, Update, Delete, Lock Row Exclusive<br>&#x6CA1;&#x6709;commit&#x4E4B;&#x524D;&#x63D2;&#x5165;&#x540C;&#x6837;&#x7684;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x4F1A;&#x6CA1;&#x6709;&#x53CD;&#x5E94;, &#x56E0;&#x4E3A;&#x540E;&#x4E00;&#x4E2A;3&#x7684;&#x9501;&#x4F1A;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x4E0A;&#x4E00;&#x4E2A;3&#x7684;&#x9501;, &#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x91CA;&#x653E;&#x6389;&#x4E0A;&#x4E00;&#x4E2A;&#x624D;&#x80FD;&#x7EE7;&#x7EED;&#x5DE5;&#x4F5C;&#x3002;<br>4&#x7EA7;&#x9501;&#x6709;&#xFF1A;Create Index, Lock Share<br>locked_mode&#x4E3A;2,3,4&#x4E0D;&#x5F71;&#x54CD;DML(insert,delete,update,select)&#x64CD;&#x4F5C;, &#x4F46;DDL(alter,drop&#x7B49;)&#x64CD;&#x4F5C;&#x4F1A;&#x63D0;&#x793A;ora-00054&#x9519;&#x8BEF;&#x3002;<br>00054, 00000, &#x201C;resource busy and acquire with NOWAIT specified&#x201D;<br>// <em>Cause: Resource interested is busy.<br>// </em>Action: Retry if necessary.<br>5&#x7EA7;&#x9501;&#x6709;&#xFF1A;Lock Share Row Exclusive<br>&#x5177;&#x4F53;&#x6765;&#x8BB2;&#x6709;&#x4E3B;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x65F6;update / delete &#x2026; ; &#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;4,5&#x7684;&#x9501;&#x3002;<br>6&#x7EA7;&#x9501;&#x6709;&#xFF1A;Alter table, Drop table, Drop Index, Truncate table, Lock Exclusive</p>
<hr>
<p>&#x67E5;&#x67D0;session &#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;sql&#x8BED;&#x53E5;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5B9A;&#x4F4D;&#x5230;&#x54EA;&#x4E9B;&#x64CD;&#x4F5C;&#x6216;&#x8005;&#x4EE3;&#x7801;&#x5BFC;&#x81F4;&#x4E8B;&#x52A1;&#x4E00;&#x76F4;&#x8FDB;&#x884C;&#x6CA1;&#x6709;&#x7ED3;&#x675F;&#x7B49;.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">SELECT /*+ ORDERED */ </div><div class="line"> sql_text</div><div class="line">  FROM v$sqltext a</div><div class="line"> WHERE (a.hash_value, a.address) IN</div><div class="line">       (SELECT DECODE(sql_hash_value, 0, prev_hash_value, sql_hash_value),</div><div class="line">               DECODE(sql_hash_value, 0, prev_sql_addr, sql_address)</div><div class="line">          FROM v$session b</div><div class="line">         WHERE b.sid = &apos;67&apos;)  /* &#x6B64;&#x5904;67 &#x4E3A;SID*/</div><div class="line"> ORDER BY piece ASC;</div></pre></td></tr></table></figure>
<hr>
<p>plsql &#x5DE5;&#x5177;   Tools &#x2014;&#x2013;&gt;Sessions&#x2014;&#x2014;&#x2014;&gt; &#x67E5;&#x770B;</p>
<h4 id="&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;"><a href="#&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;" class="headerlink" title="&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;"></a>&#x6570;&#x636E;&#x5E93;&#x6BD4;&#x5BF9;&#x5DE5;&#x5177;</h4><p>plsql Tools &#x2014;&#x2014;&#x2014;-&gt;Compare User Objects &#x9009;&#x62E9;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5E93;</p>
<h4 id="Oracle-&#x6570;&#x636E;&#x5E93;&#x8868;&#x3001;&#x5B57;&#x6BB5;&#x7EA7;&#x522B;&#xFF0C;"><a href="#Oracle-&#x6570;&#x636E;&#x5E93;&#x8868;&#x3001;&#x5B57;&#x6BB5;&#x7EA7;&#x522B;&#xFF0C;" class="headerlink" title="Oracle &#x6570;&#x636E;&#x5E93;&#x8868;&#x3001;&#x5B57;&#x6BB5;&#x7EA7;&#x522B;&#xFF0C;"></a>Oracle &#x6570;&#x636E;&#x5E93;&#x8868;&#x3001;&#x5B57;&#x6BB5;&#x7EA7;&#x522B;&#xFF0C;</h4><p>select <em> from  user_tables  t;&#x2013;&#x6240;&#x6709;&#x8868;<br>select </em> from all_tab_columns  t;&#x2013;&#x7CFB;&#x7EDF;<br>select <em> from ALL_TAB_COLS t;&#x2013;&#x7CFB;&#x7EDF;&#x8868;<br>select </em> from cols t;&#x2013;&#x5B57;&#x6BB5;<br>select <em> from USER_TAB_COLS t;&#x2013;&#x7528;&#x6237;&#x5B57;&#x6BB5;<br>select </em> from user_tab_comments  t&#x2013;&#x6240;&#x6709;&#x8868;&#x5B57;&#x6BB5;<br>select * from user_col_comments t;&#x2013;&#x6240;&#x6709;&#x8868;&#x6CE8;&#x91CA;</p>
<p>SELECT INSTANCE_NAME FROM V$INSTANCE; &#x2013;&#x67E5;&#x8BE2;sid s_name</p>
<h4 id="Oracle-&#x65B9;&#x6CD5;&#x7B49;"><a href="#Oracle-&#x65B9;&#x6CD5;&#x7B49;" class="headerlink" title="Oracle &#x65B9;&#x6CD5;&#x7B49;"></a>Oracle &#x65B9;&#x6CD5;&#x7B49;</h4><ul>
<li>t.createdate &lt; to_date(&#x2018;2018-09-01&#x2019;,&#x2019;yyyy-mm-dd hh24:mi:ss&#x2019;) &#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x5C0F;&#x4E8E;2018-09-01 </li>
<li>to_char( t.CreateDate,&#x2019;yyyyMMdd&#x2019;)=to_char(sysdate,&#x2019;yyyyMMdd&#x2019;)  &#x5F53;&#x5929;&#xFF0C;&#x7C7B;&#x4F3C;&#x5F53;&#x6708;yyyyMM&#x5F53;&#x5E74;yyyy</li>
<li>case f.state when 0 then &#x2018;&#x7B2C;&#x58F9;&#x2019; when 2 then &#x2018;&#x7B2C;&#x8D30;&#x2019; when 3 then &#x2018;&#x7B2C;&#x53C1;&#x2019; else null end as &#x72B6;&#x6001;,</li>
<li>&#x9017;&#x53F7;&#x5B58;ID&#xFF0C;&#x67E5;&#x8BE2;    &#x201C;    INSTR((SELECT &#x2018;,&#x2019;||(deptId)||&#x2019;,&#x2019; FROM Pop_Dept_DutyPeo WHERE userId=? AND grade=1 GROUP BY userId), &#x2018;,&#x2019;||prj.FK_DeptID||&#x2019;,&#x2019;) &gt; 0 &#x201C;</li>
<li>&#x5217;&#x4F20;&#x884C; select listagg(to_char(b.id),&#x2019;,&#x2019;) within group(order by b.orderId)</li>
</ul>
]]></content>
    
    <summary type="html">
    
      写一些常用的SQL语句，高级操作,备份，查外键，Session 锁等，Oracle非常规操作
    
    </summary>
    
      <category term="SQL" scheme="https://muxiaobai.github.io/categories/SQL/"/>
    
      <category term="数据库" scheme="https://muxiaobai.github.io/categories/SQL/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="常用代码" scheme="https://muxiaobai.github.io/tags/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Spring源码阅读之AOP两种代理模式</title>
    <link href="https://muxiaobai.github.io/2018/06/25/Spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E4%B9%8BAOP%E4%B8%A4%E7%A7%8D%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"/>
    <id>https://muxiaobai.github.io/2018/06/25/Spring源码阅读之AOP两种代理模式/</id>
    <published>2018-06-25T03:13:09.000Z</published>
    <updated>2018-06-28T03:44:11.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/2018/06/25/Spring&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;AOP&#x4E24;&#x79CD;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;/20180628.png" alt="AOP"><br><a id="more"></a></p>
<p><a href="https://github.com/code4craft/tiny-spring" target="_blank" rel="external">github&#x7B80;&#x6613;Spring&#x5B9E;&#x73B0;</a></p>
<p>&#x4E00;&#x822C;&#x7528;&#x4F5C;&#xFF1A;&#x65E5;&#x5FD7;&#xFF0C;&#x6743;&#x9650;&#x63A7;&#x5236;&#xFF0C;&#x5F02;&#x5E38;&#xFF0C;&#x4E8B;&#x52A1;&#x7B49;&#x60C5;&#x51B5;&#x4E0B;&#x3002;</p>
<p>xml&#x4E2D;&#x7684;&#x89E3;&#x6790;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;autoProxyCreator&quot; class=&quot;us.codecraft.tinyioc.aop.AspectJAwareAdvisorAutoProxyCreator&quot;&gt;&lt;/bean&gt;</div><div class="line"></div><div class="line">&lt;bean id=&quot;timeInterceptor&quot; class=&quot;us.codecraft.tinyioc.aop.TimerInterceptor&quot;&gt;&lt;/bean&gt;</div><div class="line"></div><div class="line">&lt;bean id=&quot;aspectjAspect&quot; class=&quot;us.codecraft.tinyioc.aop.AspectJExpressionPointcutAdvisor&quot;&gt;</div><div class="line">    &lt;property name=&quot;advice&quot; ref=&quot;timeInterceptor&quot;&gt;&lt;/property&gt;</div><div class="line">    &lt;property name=&quot;expression&quot; value=&quot;execution(* us.codecraft.tinyioc.*.*(..))&quot;&gt;&lt;/property&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>AspectJAwareAdvisorAutoProxyCreator implements BeanPostProcessor<br>&#x6240;&#x4EE5;&#x626B;&#x63CF;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x6267;&#x884C;AspectJAwareAdvisorAutoProxyCreator.postProcessAfterInitialization()&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">public Object postProcessAfterInitialization(Object bean, String beanName) throws Exception {</div><div class="line">		if (bean instanceof AspectJExpressionPointcutAdvisor) {</div><div class="line">			return bean;</div><div class="line">		}</div><div class="line">		if (bean instanceof MethodInterceptor) {</div><div class="line">			return bean;</div><div class="line">		}</div><div class="line">		List&lt;AspectJExpressionPointcutAdvisor&gt; advisors = beanFactory</div><div class="line">				.getBeansForType(AspectJExpressionPointcutAdvisor.class);</div><div class="line">		for (AspectJExpressionPointcutAdvisor advisor : advisors) {</div><div class="line">			if (advisor.getPointcut().getClassFilter().matches(bean.getClass())) {</div><div class="line">                ProxyFactory advisedSupport = new ProxyFactory();</div><div class="line">				advisedSupport.setMethodInterceptor((MethodInterceptor) advisor.getAdvice());</div><div class="line">				advisedSupport.setMethodMatcher(advisor.getPointcut().getMethodMatcher());</div><div class="line"></div><div class="line">				TargetSource targetSource = new TargetSource(bean, bean.getClass(), bean.getClass().getInterfaces());</div><div class="line">				advisedSupport.setTargetSource(targetSource);</div><div class="line"></div><div class="line">				return advisedSupport.getProxy();</div><div class="line">			}</div><div class="line">		}</div><div class="line">		return bean;</div><div class="line">	}</div></pre></td></tr></table></figure>
<p>&#x7136;&#x540E;&#x904D;&#x5386;&#x6240;&#x6709;&#x7684;AspectJExpressionPointcutAdvisor,&#x5982;&#x679C;&#x6709;&#x5176;&#x4ED6;&#x7684;bean&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;advisor.getPointcut().getClassFilter().matches(bean.getClass())&#x90A3;&#x4E48;&#x5219;&#x8FD4;&#x56DE;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x9762;&#x7684;&#x8FD4;&#x56DE;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x5982;&#x679C;&#x7528;&#x4EE3;&#x7801;&#x6765;&#x5199;&#x7684;&#x8BDD;&#x5C31;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#xFF0C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">   // 1. &#x8BBE;&#x7F6E;&#x88AB;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;(Joinpoint)</div><div class="line">AdvisedSupport advisedSupport = new AdvisedSupport();</div><div class="line">TargetSource targetSource = new TargetSource(helloWorldService, HelloWorldServiceImpl.class,</div><div class="line">		HelloWorldService.class);</div><div class="line">advisedSupport.setTargetSource(targetSource);</div><div class="line"></div><div class="line">//&#x8BBE;&#x7F6E;&#x5339;&#x914D;&#x7684;match</div><div class="line">MethodMatcher methodMatcher = new MethodMatcher() {</div><div class="line">       </div><div class="line">       @Override</div><div class="line">       public boolean matches(Method method, Class targetClass) {</div><div class="line">           return true;</div><div class="line">       }</div><div class="line">   };</div><div class="line">advisedSupport.setMethodMatcher(methodMatcher);</div><div class="line"></div><div class="line">// 2. &#x8BBE;&#x7F6E;&#x62E6;&#x622A;&#x5668;(Advice)</div><div class="line">TimerInterceptor timerInterceptor = new TimerInterceptor();</div><div class="line">advisedSupport.setMethodInterceptor(timerInterceptor);</div><div class="line"></div><div class="line">// 3. &#x521B;&#x5EFA;&#x4EE3;&#x7406;(Proxy)</div><div class="line">JdkDynamicAopProxy jdkDynamicAopProxy = new JdkDynamicAopProxy(advisedSupport);</div><div class="line">HelloWorldService helloWorldServiceProxy = (HelloWorldService) jdkDynamicAopProxy.getProxy();</div><div class="line"></div><div class="line">// 4. &#x57FA;&#x4E8E;AOP&#x7684;&#x8C03;&#x7528;</div><div class="line">helloWorldServiceProxy.helloWorld();</div></pre></td></tr></table></figure>
<p>advisedSupport{targetSource,methodMatcher,methodInterceptor}<br>&#x8FD9;&#x4E2A;&#x91CC;&#x9762;&#x8BB0;&#x5F55;&#x4E86;&#x4EE3;&#x7406;&#x76EE;&#x6807;&#xFF0C;&#x548C;&#x5339;&#x914D;&#x7684;expression&#x548C;&#x5177;&#x4F53;&#x7684;&#x62E6;&#x622A;&#x64CD;&#x4F5C;</p>
<h4 id="JDK&#x52A8;&#x6001;&#x4EE3;&#x7406;"><a href="#JDK&#x52A8;&#x6001;&#x4EE3;&#x7406;" class="headerlink" title="JDK&#x52A8;&#x6001;&#x4EE3;&#x7406;"></a>JDK&#x52A8;&#x6001;&#x4EE3;&#x7406;</h4><p>implements InvocationHandler</p>
<p>&#x5148;&#x83B7;&#x53D6;&#x4EE3;&#x7406;&#x7C7B;Proxy.newProxyInstance(getClass().getClassLoader(), advised.getTargetSource().getInterfaces(), this);&#xFF0C;&#x7136;&#x540E;implements InvocationHandler ,&#x4E0A;&#x9762;&#x7684;this,&#x6267;&#x884C;target&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x4F18;&#x5148;&#x6267;&#x884C;InvocationHandler.invoke(final Object proxy, final Method method, final Object[] args);</p>
<h5 id="Proxy-newProxyInstance"><a href="#Proxy-newProxyInstance" class="headerlink" title="Proxy.newProxyInstance()"></a>Proxy.newProxyInstance()</h5><p>&#x8FD9;&#x4E2A;&#x662F;jdk&#x52A8;&#x6001;&#x4EE3;&#x7406;&#xFF0C;&#x9700;&#x8981;&#x4EE3;&#x7406;&#x7C7B;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x80FD;&#x4EE3;&#x7406;&#x63A5;&#x53E3;&#x91CC;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x6765;&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x3002;</p>
<p>Proxy.newProxyInstance(),&#x83B7;&#x53D6;&#x4EE3;&#x7406;&#x7C7B;&#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">public static Object newProxyInstance(ClassLoader loader,</div><div class="line">                                         Class&lt;?&gt;[] interfaces,</div><div class="line">                                         InvocationHandler h)</div><div class="line">       throws IllegalArgumentException</div><div class="line">   {</div><div class="line">       Objects.requireNonNull(h);//InvocationHandler &#x4E0D;&#x4E3A;&#x7A7A;</div><div class="line"></div><div class="line">       final Class&lt;?&gt;[] intfs = interfaces.clone();</div><div class="line">       </div><div class="line">       /*</div><div class="line">        * Look up or generate the designated proxy class.</div><div class="line">        * &#x67E5;&#x627E;&#x6216;&#x751F;&#x6210;&#x6307;&#x5B9A;&#x7684;&#x4EE3;&#x7406;&#x7C7B;&#x3002;</div><div class="line">        */</div><div class="line">       Class&lt;?&gt; cl = getProxyClass0(loader, intfs);//</div><div class="line"></div><div class="line">       /*</div><div class="line">        * Invoke its constructor with the designated invocation handler.</div><div class="line">        * &#x7528;&#x6307;&#x5B9A;&#x7684;&#x8C03;&#x7528;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x8C03;&#x7528;&#x5B83;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002; constructorParams = InvocationHandler.class</div><div class="line">        */</div><div class="line">       final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);</div><div class="line">      </div><div class="line">       return cons.newInstance(new Object[]{h});//&#x8FD4;&#x56DE;&#x4EE3;&#x7406;&#x7C7B;</div><div class="line"></div><div class="line">   }</div></pre></td></tr></table></figure>
<p>getProxyClass0()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">private static Class&lt;?&gt; getProxyClass0(ClassLoader loader,</div><div class="line">                                          Class&lt;?&gt;... interfaces) {</div><div class="line">       if (interfaces.length &gt; 65535) {</div><div class="line">           throw new IllegalArgumentException(&quot;interface limit exceeded&quot;);</div><div class="line">       }</div><div class="line"></div><div class="line">       // If the proxy class defined by the given loader implementing</div><div class="line">       // the given interfaces exists, this will simply return the cached copy;</div><div class="line">       // otherwise, it will create the proxy class via the ProxyClassFactory</div><div class="line">       //&#x5982;&#x679C;classloader&#x52A0;&#x8F7D;&#x7684;&#x63A5;&#x53E3;&#x4EE3;&#x7406;&#x7C7B;&#x5B58;&#x5728;&#xFF0C;&#x76F4;&#x63A5;&#x4ECE;cache&#x4E2D;&#x56FD;&#x8FD4;&#x56DE;</div><div class="line">       //&#x5426;&#x5219;&#x4ECE;ProxyClassFactory&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4EE3;&#x7406;&#x7C7B;</div><div class="line">       return proxyClassCache.get(loader, interfaces);</div><div class="line">   }</div></pre></td></tr></table></figure>
<h4 id="CGLIB"><a href="#CGLIB" class="headerlink" title="CGLIB"></a>CGLIB</h4><p>implements MethodInterceptor </p>
<p>&#x83B7;&#x53D6;&#x4EE3;&#x7406;&#x7C7B;</p>
<p>Enhancer e=new Enhancer();//&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7C7B;<br>e.setSuperclass(object.getClass());//&#x58F0;&#x660E;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x7236;&#x7C7B;&#x662F;&#x8C01;&#xFF08;&#x662F;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#xFF09;<br>e.setCallback(this);//&#x8BBE;&#x7F6E;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x8C03;&#x7528;intercept()<br>return e.create();//&#x8FD4;&#x56DE;&#x521B;&#x5EFA;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</p>
<p>&#x6267;&#x884C;intercept(Object obj, Method method, Object[] args, MethodProxy proxy);</p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/27757233" target="_blank" rel="external">Java JDK&#x4EE3;&#x7406;&#x3001;CGLIB&#x3001;AspectJ&#x4EE3;&#x7406;&#x5206;&#x6790;&#x6BD4;&#x8F83;</a></li>
<li><a href="https://blog.csdn.net/moreevan/article/details/11977115" target="_blank" rel="external">Spring AOP &#x5B9E;&#x73B0;&#x539F;&#x7406;</a></li>
<li><a href="http://www.cnblogs.com/dazhaxie/archive/2012/06/18/2553300.html" target="_blank" rel="external">Spring&#x6E90;&#x4EE3;&#x7801;&#x89E3;&#x6790;(&#x6536;&#x85CF;)</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      源码阅读两大模块之AOP,面向切面编程，与jdk代理和cglib代理
    
    </summary>
    
      <category term="java" scheme="https://muxiaobai.github.io/categories/java/"/>
    
    
      <category term="Spring" scheme="https://muxiaobai.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Spring源码阅读之Ioc控制反转</title>
    <link href="https://muxiaobai.github.io/2018/06/22/Spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E4%B9%8BIoc%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC/"/>
    <id>https://muxiaobai.github.io/2018/06/22/Spring源码阅读之Ioc控制反转/</id>
    <published>2018-06-22T07:55:45.000Z</published>
    <updated>2018-06-25T03:08:03.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/2018/06/22/Spring&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;Ioc&#x63A7;&#x5236;&#x53CD;&#x8F6C;/SpringIOC.png" alt="IOC"><br><a id="more"></a></p>
<p><a href="https://github.com/code4craft/tiny-spring" target="_blank" rel="external">github&#x7B80;&#x6613;Spring&#x5B9E;&#x73B0;</a></p>
<p>&#x52A0;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x89E3;&#x6790;XML</p>
<p>&#x5982;&#x679C;&#x662F;<code>&lt;bean  id =&quot;a1&quot; class =&quot;b&quot;&gt;</code>,AbstractBeanFactory.beanDefinitionMap&#x4E2D;&#x4F1A;&#x6DFB;&#x52A0;&#x4E00;&#x4EFD;Bean&#x7684;&#x63CF;&#x8FF0;&#x5176;&#x4E2D;Map<key="a1",value ="beandefinition"="">beanDefinition&#x4E2D;&#x662F;&#x63CF;&#x8FF0;&#x8FD9;&#x4E2A;Bean&#x7684;&#xFF0C;&#x5305;&#x542B;Bean&#x5BF9;&#x8C61;&#xFF0C;beanClass&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;beanClassName&#x7C7B;&#x540D;&#xFF0C;&#x548C;&#x5BF9;&#x5E94;&#x7684;&#x5C5E;&#x6027;PropertyValues&#xFF0C;&#x5C31;&#x662F;List PropertyValue,</key="a1",value></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">String name = ele.getAttribute(&quot;id&quot;);</div><div class="line">String className = ele.getAttribute(&quot;class&quot;);</div><div class="line">BeanDefinition beanDefinition = new BeanDefinition();</div><div class="line">processProperty(ele, beanDefinition);</div><div class="line">beanDefinition.setBeanClassName(className);</div><div class="line">getRegistry().put(name, beanDefinition);</div></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;Bean&#x5185;&#x90E8;&#x662F;<code>&lt;property  name =&quot;a1&quot; value =&quot;b1&quot;&gt;</code>,&#x8FD9;&#x65F6;&#x5019;PropertyValue&#x5C31;&#x662F;&#x4E00;&#x4E2A;{name =&#x201D;a1&#x201D;,value =&#x201D;b1&#x201D;},</p>
<p>&#x5B9A;&#x4E49;BeanDefination{bean,beanClass,beanClassName,PropertyValues=[list<propertyvalue> propertyValueList]}</propertyvalue></p>
<p>&#x5904;&#x7406;&#x5F15;&#x7528;ref</p>
<p>&#x5982;&#x679C;Bean&#x5185;&#x90E8;&#x662F;<code>&lt;property  name =&quot;a1&quot; ref =&quot;b2&quot;&gt;</code>,&#x8FD9;&#x65F6;&#x5019;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;BeanReference(&#x201C;b2&#x201D;),PropertyValue&#x5C31;&#x662F;&#x4E00;&#x4E2A;{name =&#x201D;a1&#x201D;,value =BeanReference},</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">if (value instanceof BeanReference) {</div><div class="line">				BeanReference beanReference = (BeanReference) value;</div><div class="line">				value = getBean(beanReference.getName());//&#x6839;&#x636E;b2&#x83B7;&#x53D6;bean</div><div class="line">}</div><div class="line"></div><div class="line">Method declaredMethod = bean.getClass().getDeclaredMethod(</div><div class="line">						&quot;set&quot; + propertyValue.getName().substring(0, 1).toUpperCase()</div><div class="line">								+ propertyValue.getName().substring(1), value.getClass());</div><div class="line">declaredMethod.setAccessible(true);</div><div class="line"></div><div class="line">declaredMethod.invoke(bean, value);//&#x628A;b2&#x653E;&#x5230;a1&#x4E2D;&#xFF0C;&#x53CD;&#x5C04;&#x8C03;&#x7528;</div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x91CC;&#x7684;&#x7B80;&#x5316;&#x7248;&#x672C;&#x6240;&#x6709;&#x7684;&#x5F15;&#x7528;&#x90FD;&#x662F;&#x5728;getBean&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x7684;&#x3002;</p>
<p>&#x628A;&#x6240;&#x6709;&#x7684;Bean&#x90FD;&#x6CE8;&#x518C;&#x5230;BeanFactory&#x4E2D;&#x3002;AbstractBeanFactory.beanDefinitionMap&#x4E2D;&#x5305;&#x542B;&#x6240;&#x6709;&#x7684;{name =&#x201D;&#x201D;, BeanDefinition = &#x201C;&#x201D;},&#x5B9A;&#x4E49;&#x7684;Bean&#x7684;&#x540D;&#x5B57;&#x548C;&#x5BF9;&#x5E94;class&#x7684;Bean&#x7684;&#x63CF;&#x8FF0;&#x7C7B;</p>
<p>&#x83B7;&#x53D6;Bean&#x7684;&#x65F6;&#x5019;BeanFactory.getBean()&#xFF0C;&#x53CD;&#x5C04;newInstance()<br><code>beanDefinition.getBeanClass().newInstance();</code>&#x76F4;&#x63A5;&#x5F97;&#x5230;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x8FDB;&#x884C;&#x5B9E;&#x4F8B;&#x5316;&#x3002;&#x518D;&#x5904;&#x7406;&#x5404;&#x79CD;&#x5F15;&#x7528;&#x7B49;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x4EE5;&#x4E0A;&#x8FD9;&#x4E2A;&#x7B80;&#x7248;&#x7684;Spring&#x5DF2;&#x7ECF;&#x628A;&#x4E3B;&#x8981;&#x7684;&#x903B;&#x8F91;&#x8BB2;&#x4E86;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x53EA;&#x662F;&#x539F;&#x7406;&#xFF0C;Spring&#x6BD4;&#x8FD9;&#x4E2A;&#x8DDF;&#x4E25;&#x8C28;&#x66F4;&#x590D;&#x6742;&#x3002;</p>
]]></content>
    
    <summary type="html">
    
      源码阅读两大模块之控制反转IOC（Inversion of Control）
    
    </summary>
    
      <category term="java" scheme="https://muxiaobai.github.io/categories/java/"/>
    
    
      <category term="Spring" scheme="https://muxiaobai.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>浏览器的加载页面过程及优化方法</title>
    <link href="https://muxiaobai.github.io/2018/06/08/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2%E8%BF%87%E7%A8%8B%E5%8F%8A%E4%BC%98%E5%8C%96%E6%96%B9%E6%B3%95/"/>
    <id>https://muxiaobai.github.io/2018/06/08/浏览器的加载页面过程及优化方法/</id>
    <published>2018-06-08T03:45:26.000Z</published>
    <updated>2019-02-16T04:39:29.740Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x63A5;&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#x7684;DOM&#x6240;&#x6709;&#x65F6;&#x95F4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x505A;&#x4E9B;&#x4EC0;&#x4E48;&#xFF1F;"><a href="#&#x63A5;&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#x7684;DOM&#x6240;&#x6709;&#x65F6;&#x95F4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x505A;&#x4E9B;&#x4EC0;&#x4E48;&#xFF1F;" class="headerlink" title="&#x63A5;&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#x7684;DOM&#x6240;&#x6709;&#x65F6;&#x95F4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x505A;&#x4E9B;&#x4EC0;&#x4E48;&#xFF1F;"></a>&#x63A5;&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#x7684;DOM&#x6240;&#x6709;&#x65F6;&#x95F4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x505A;&#x4E9B;&#x4EC0;&#x4E48;&#xFF1F;</h2><p>&#x4E4B;&#x524D;&#x662F;&#x63A5;&#x53D7;&#x8D44;&#x6E90;,domLoading,domInteractive,domContentLoadedEventStart,domContentLoadedEventEnd,domComplete,&#x4E4B;&#x540E;&#x662F;&#x5176;&#x4ED6;&#xFF0C;&#x4E3B;&#x8981;&#x5206;&#x6790;&#x8FD9;&#x4E2D;&#x95F4;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x505A;&#x4EC0;&#x4E48;&#x6765;&#x5C55;&#x793A;&#x5185;&#x5BB9;&#x3002;<br>loadEventStart,loadEventEnd</p>
<h3 id="&#x6784;&#x5EFA;DOM-&#x6E32;&#x67D3;-&#x7ED8;&#x753B;"><a href="#&#x6784;&#x5EFA;DOM-&#x6E32;&#x67D3;-&#x7ED8;&#x753B;" class="headerlink" title="&#x6784;&#x5EFA;DOM &#x6E32;&#x67D3; &#x7ED8;&#x753B;"></a>&#x6784;&#x5EFA;DOM &#x6E32;&#x67D3; &#x7ED8;&#x753B;</h3><p>&#x5173;&#x952E;&#x6E32;&#x67D3;&#x8DEF;&#x5F84;:DOM javascript CSSOM Render Tree Layout Paint</p>
<ul>
<li>1.&#x5904;&#x7406; HTML &#x6807;&#x8BB0;&#x5E76;&#x6784;&#x5EFA; DOM &#x6811;&#x3002;</li>
<li>2.&#x5904;&#x7406; CSS &#x6807;&#x8BB0;&#x5E76;&#x6784;&#x5EFA; CSSOM &#x6811;&#x3002;</li>
<li>3.&#x5C06; DOM &#x4E0E; CSSOM &#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x6E32;&#x67D3;&#x6811;&#x3002;&#xFF08;Render Tree&#xFF09;</li>
<li>4.&#x6839;&#x636E;&#x6E32;&#x67D3;&#x6811;&#x6765;&#x5E03;&#x5C40;&#xFF0C;&#x4EE5;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x51E0;&#x4F55;&#x4FE1;&#x606F;&#x3002;&#xFF08;Layout&#xFF09;</li>
<li>5.&#x5C06;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x7ED8;&#x5236;&#x5230;&#x5C4F;&#x5E55;&#x4E0A;&#x3002;&#xFF08;Paint&#xFF09;</li>
</ul>
<h2 id="&#x6027;&#x80FD;&#x5206;&#x6790;"><a href="#&#x6027;&#x80FD;&#x5206;&#x6790;" class="headerlink" title="&#x6027;&#x80FD;&#x5206;&#x6790;"></a>&#x6027;&#x80FD;&#x5206;&#x6790;</h2><h3 id="&#x7F51;&#x7EDC;"><a href="#&#x7F51;&#x7EDC;" class="headerlink" title="&#x7F51;&#x7EDC;"></a>&#x7F51;&#x7EDC;</h3><p><img src="/2018/06/08/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x52A0;&#x8F7D;&#x9875;&#x9762;&#x8FC7;&#x7A0B;&#x53CA;&#x4F18;&#x5316;&#x65B9;&#x6CD5;/website3.png" alt="&#x770B;&#x4E00;&#x4E0B;&#x65F6;&#x95F4;&#x7684;&#x95EE;&#x9898;"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&quot;network(dns+tcp):&quot;+(window.performance.timing.requestStart - window.performance.timing.fetchStart)+&quot;ms,&quot;+</div><div class="line">&quot;TTFB:&quot;+ (window.performance.timing.responseStart  - window.performance.timing.requestStart)+&quot;ms,&quot;+</div><div class="line">&quot;Download HTML:&quot;+(window.performance.timing.responseEnd -window.performance.timing.responseStart)+&quot;ms,&quot;+</div><div class="line">&quot;other:&quot;+(window.performance.timing.domLoading -window.performance.timing.responseEnd)+&quot;ms,&quot;+</div><div class="line">&quot;DOM:&quot;+(window.performance.timing.domInteractive - window.performance.timing.domLoading)+&quot;ms,&quot;+</div><div class="line">&quot;DomContentLoaded:&quot; +(window.performance.timing.domInteractive -window.performance.timing.fetchStart)+&quot;ms,&quot;+</div><div class="line">&quot;DOMContentLoaded: 36+364+34+1+167 = 602ms,&quot;+</div><div class="line">&quot;download Other(css,js,pic)&amp;hander:&quot;+ (window.performance.timing.domComplete- window.performance.timing.domInteractive)+&quot;ms,&quot;+</div><div class="line">&quot;load Event:&quot; + (window.performance.timing.domContentLoadedEventEnd - window.performance.timing.domContentLoadedEventStart) +&quot;ms,&quot;+</div><div class="line">&quot;Load: 602+1034 = 1634ms&quot;</div></pre></td></tr></table></figure></p>
<p>&#x5148;&#x4ECE;&#x65F6;&#x95F4;&#x4E0A;&#x770B;&#xFF1A;</p>
<p>&#x6027;&#x80FD;&#x7684;&#x8BDD;&#xFF0C;&#x5982;&#x679C;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;(requestStart - fetchStart) &#x65F6;&#x95F4;&#x5F88;&#x5927;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x770B;&#x4E00;&#x4E0B;&#x662F;&#x4E0D;&#x662F;&#x7F51;&#x7EDC;&#x7684;&#x95EE;&#x9898;&#x4E86;&#xFF1B;&#x5982;&#x679C;responseStart - requestStart&#x5F88;&#x5927;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x6709;&#x95EE;&#x9898;&#x5462;&#xFF1F;&#x8FD9;&#x4E2A;&#x9700;&#x8981;&#x540E;&#x53F0;&#xFF0C;&#x8D1F;&#x8F7D;&#x7B49;&#x5904;&#x7406;&#xFF0C;&#x67E5;&#x4E00;&#x4E0B;&#x8BF7;&#x6C42;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x957F;&#xFF1F;&#x7136;&#x540E;&#x5728;responseEnd&#x4E4B;&#x540E;&#xFF0C;&#x5F97;&#x5230;&#x4E86;HTML&#xFF0C;&#x5C31;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x6E32;&#x67D3;&#x7B49;&#x95EE;&#x9898;&#x4E86;&#x3002;</p>
<h3 id="&#x6784;&#x5EFA;&#x5BF9;&#x8C61;&#x751F;&#x6210;&#x65F6;&#x95F4;-&#x751F;&#x6210;DOM&#x548C;CSSOM"><a href="#&#x6784;&#x5EFA;&#x5BF9;&#x8C61;&#x751F;&#x6210;&#x65F6;&#x95F4;-&#x751F;&#x6210;DOM&#x548C;CSSOM" class="headerlink" title="&#x6784;&#x5EFA;&#x5BF9;&#x8C61;&#x751F;&#x6210;&#x65F6;&#x95F4;,&#x751F;&#x6210;DOM&#x548C;CSSOM"></a>&#x6784;&#x5EFA;&#x5BF9;&#x8C61;&#x751F;&#x6210;&#x65F6;&#x95F4;,&#x751F;&#x6210;DOM&#x548C;CSSOM</h3><p>&#x6D89;&#x53CA;&#x5230;&#x89E3;&#x6790;HTML&#x7B49;&#xFF0C;&#x8BED;&#x6CD5;&#x89E3;&#x6790;&#x95EE;&#x9898;&#x3002;</p>
<p>CSSOM&#xFF0C;&#x5C42;&#x7EA7;&#x7EA7;&#x8054;&#x6837;&#x5F0F;&#x600E;&#x4E48;&#x6700;&#x7B80;&#x5316;&#xFF0C;&#x600E;&#x4E48;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;&#x6784;&#x5EFA;Render Tree&#x6700;&#x4F18;&#x3002;</p>
<p>CSS&#x9009;&#x62E9;&#x5668;&#x5185;&#x5957;&#x591A;&#x5C42;&#xFF0C;&#x8D8A;&#x6765;&#x8D8A;&#x590D;&#x6742;;&#x7CBE;&#x7B80;&#x4E0D;&#x7528;&#x7684;&#x6837;&#x5F0F;</p>
<h3 id="&#x52A0;&#x8F7D;&#x8D44;&#x6E90;&#x65F6;&#x95F4;"><a href="#&#x52A0;&#x8F7D;&#x8D44;&#x6E90;&#x65F6;&#x95F4;" class="headerlink" title="&#x52A0;&#x8F7D;&#x8D44;&#x6E90;&#x65F6;&#x95F4;"></a>&#x52A0;&#x8F7D;&#x8D44;&#x6E90;&#x65F6;&#x95F4;</h3><blockquote>
<p>HTML &#x548C; CSS &#x90FD;&#x662F;&#x963B;&#x585E;&#x6E32;&#x67D3;&#x7684;&#x8D44;&#x6E90;</p>
</blockquote>
<p>HTML &#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x6E32;&#x67D3;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x7136;&#x540E;&#x662F;CSS&#x8D44;&#x6E90;&#xFF0C;CSS&#x662F;&#x963B;&#x585E;&#x8D44;&#x6E90;&#xFF0C;&#x9700;&#x8981;&#x5C3D;&#x5FEB;&#x52A0;&#x8F7D;&#xFF0C;&#x65B9;&#x4FBF;&#x6D4F;&#x89C8;&#x5668;&#x5FEB;&#x901F;&#x52A0;&#x8F7D;&#x3002;&#x4F7F;&#x7528;&#x5A92;&#x4F53;&#x67E5;&#x8BE2;&#xFF0C;&#x8BA9;&#x4E00;&#x4E9B;&#x6837;&#x5F0F;&#x4E0D;&#x7528;&#x963B;&#x585E;&#x6E32;&#x67D3;&#x3002;</p>
<p>&#x4F8B;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;link href=&quot;style.css&quot; rel=&quot;stylesheet&quot;&gt;  &#x9ED8;&#x8BA4;&#x662F;all</div><div class="line">&lt;link href=&quot;style.css&quot;    rel=&quot;stylesheet&quot; media=&quot;all&quot;&gt;</div><div class="line">&lt;link href=&quot;print.css&quot; rel=&quot;stylesheet&quot; media=&quot;print&quot;&gt; &#x6253;&#x5370;&#x65F6;</div><div class="line">&lt;link href=&quot;other.css&quot; rel=&quot;stylesheet&quot; media=&quot;(min-width: 40em)&quot;&gt;&#x6700;&#x5C0F;&#x5BBD;&#x5EA6;&#x52A0;&#x8F7D;</div><div class="line">&lt;link href=&quot;portrait.css&quot; rel=&quot;stylesheet&quot; media=&quot;orientation:portrait&quot;&gt; &#x5B9A;&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x4E2D;&#x7684;&#x9875;&#x9762;&#x53EF;&#x89C1;&#x533A;&#x57DF;&#x9AD8;&#x5EA6;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;&#x5BBD;&#x5EA6;&#xFF0C;&#x7AD6;&#x5C4F;</div></pre></td></tr></table></figure></p>
<p>&#x6CE8;&#x610F;&#x201C;&#x963B;&#x585E;&#x6E32;&#x67D3;&#x201D;&#x4EC5;&#x662F;&#x6307;&#x6D4F;&#x89C8;&#x5668;&#x662F;&#x5426;&#x9700;&#x8981;&#x6682;&#x505C;&#x7F51;&#x9875;&#x7684;&#x9996;&#x6B21;&#x6E32;&#x67D3;&#xFF0C;&#x76F4;&#x81F3;&#x8BE5;&#x8D44;&#x6E90;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x3002;&#x65E0;&#x8BBA;&#x54EA;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4ECD;&#x4F1A;&#x4E0B;&#x8F7D; CSS &#x8D44;&#x6E90;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x4E0D;&#x963B;&#x585E;&#x6E32;&#x67D3;&#x7684;&#x8D44;&#x6E90;&#x4F18;&#x5148;&#x7EA7;&#x8F83;&#x4F4E;&#x7F62;&#x4E86;&#x3002;</p>
<p>JavaScript &#x4E5F;&#x4F1A;&#x963B;&#x6B62; DOM &#x6784;&#x5EFA;&#x548C;&#x5EF6;&#x7F13;&#x7F51;&#x9875;&#x6E32;&#x67D3;&#x3002; &#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x6700;&#x4F73;&#x6027;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x60A8;&#x7684; JavaScript &#x5F02;&#x6B65;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x53BB;&#x9664;&#x5173;&#x952E;&#x6E32;&#x67D3;&#x8DEF;&#x5F84;&#x4E2D;&#x4EFB;&#x4F55;&#x4E0D;&#x5FC5;&#x8981;&#x7684; JavaScript&#x3002;&#x5F53; HTML &#x89E3;&#x6790;&#x5668;&#x9047;&#x5230;&#x4E00;&#x4E2A; script &#x6807;&#x8BB0;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x6682;&#x505C;&#x6784;&#x5EFA; DOM&#xFF0C;&#x5C06;&#x63A7;&#x5236;&#x6743;&#x79FB;&#x4EA4;&#x7ED9; JavaScript &#x5F15;&#x64CE;&#xFF1B;&#x7B49; JavaScript &#x5F15;&#x64CE;&#x8FD0;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x4ECE;&#x4E2D;&#x65AD;&#x7684;&#x5730;&#x65B9;&#x6062;&#x590D; DOM &#x6784;&#x5EFA;&#x3002;<br><code>&lt;script src=&quot;app.js&quot; async&gt;&lt;/script&gt;</code>&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5F02;&#x6B65;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x7B49;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#x5B8C;&#x540E;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x6267;&#x884C;&#x3002;</p>
<h3 id="&#x5185;&#x5B58;"><a href="#&#x5185;&#x5B58;" class="headerlink" title="&#x5185;&#x5B58;"></a>&#x5185;&#x5B58;</h3><p>&#x5185;&#x5B58;&#x6EA2;&#x51FA;:JS&#x6B7B;&#x5FAA;&#x73AF;&#xFF0C;DOM&#x5F15;&#x7528;</p>
<h3 id="&#x600E;&#x6837;&#x627E;&#x5230;&#x5177;&#x4F53;&#x7684;&#x95EE;&#x9898;&#x4EE3;&#x7801;"><a href="#&#x600E;&#x6837;&#x627E;&#x5230;&#x5177;&#x4F53;&#x7684;&#x95EE;&#x9898;&#x4EE3;&#x7801;" class="headerlink" title="&#x600E;&#x6837;&#x627E;&#x5230;&#x5177;&#x4F53;&#x7684;&#x95EE;&#x9898;&#x4EE3;&#x7801;"></a>&#x600E;&#x6837;&#x627E;&#x5230;&#x5177;&#x4F53;&#x7684;&#x95EE;&#x9898;&#x4EE3;&#x7801;</h3><p><img src="/2018/06/08/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x52A0;&#x8F7D;&#x9875;&#x9762;&#x8FC7;&#x7A0B;&#x53CA;&#x4F18;&#x5316;&#x65B9;&#x6CD5;/website1.png" alt="&#x5206;&#x6790;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x7684;&#x4F4D;&#x7F6E;"></p>
<p><img src="/2018/06/08/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x52A0;&#x8F7D;&#x9875;&#x9762;&#x8FC7;&#x7A0B;&#x53CA;&#x4F18;&#x5316;&#x65B9;&#x6CD5;/website2.png" alt="&#x5206;&#x6790;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x7684;&#x4F4D;&#x7F6E;"><br><a href="https://googlechrome.github.io/devtools-samples/jank/" target="_blank" rel="external">&#x4E0A;&#x9762;&#x56FE;&#x7684;&#x7F51;&#x5740;: https://googlechrome.github.io/devtools-samples/jank/</a><br>&#x5148;&#x5F97;&#x5230;profile&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x5728;Performance&#x9762;&#x677F;&#x4E2D;&#x4E86;&#xFF0C;FPS&#x4E00;&#x822C;&#x90FD;&#x5728;60&#x5DE6;&#x53F3;&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x7EA2;&#x8272;&#x7684;&#x5DF2;&#x7ECF;&#x964D;&#x5230;10&#x4EE5;&#x4E0B;&#x4E86;&#x3002;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x9009;&#x53D6;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;,&#x4E0A;&#x56FE;&#x5206;&#x6790;&#x4E86;&#x7ED3;&#x679C;&#xFF0C;&#x627E;&#x5230;&#x95EE;&#x9898;&#x7684;&#x6240;&#x5728;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x662F;: <code>Layout Forced&#x548C;First Layout Invalidation</code></p>
<blockquote>
<p>&#x6CE8;&#xFF1A;&#x5148;&#x964D;&#x4F4E;CPU&#x7684;&#x901F;&#x5EA6;&#x3002;</p>
</blockquote>
<p>&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/" target="_blank" rel="external">google&#x5B98;&#x65B9;&#x6587;&#x6863;-&#x5173;&#x952E;&#x6E32;&#x67D3;&#x8DEF;&#x5F84;</a></li>
<li><a href="https://developers.google.com/web/tools/chrome-devtools/" target="_blank" rel="external">chrome-devtools</a></li>
<li><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/analyzing-crp" target="_blank" rel="external">&#x5206;&#x6790;&#x5173;&#x952E;&#x6E32;&#x67D3;&#x8DEF;&#x5F84;&#x6027;&#x80FD;</a></li>
<li><a href="https://developers.google.com/web/tools/chrome-devtools/memory-problems/" target="_blank" rel="external">&#x5185;&#x5B58;&#x6A21;&#x578B;</a></li>
<li><a href="https://googlechrome.github.io/devtools-samples/jank/" target="_blank" rel="external">&#x6027;&#x80FD;&#x6F14;&#x793A;&#x6D4B;&#x8BD5;</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      加载页面和优化，接着上一篇，跟着chrome开发者工具中的Memory和Performance来操作
    
    </summary>
    
      <category term="前端" scheme="https://muxiaobai.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="性能优化" scheme="https://muxiaobai.github.io/categories/%E5%89%8D%E7%AB%AF/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
    
      <category term="工具" scheme="https://muxiaobai.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="前端" scheme="https://muxiaobai.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>浏览器的请求与响应过程</title>
    <link href="https://muxiaobai.github.io/2018/06/07/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B/"/>
    <id>https://muxiaobai.github.io/2018/06/07/浏览器的请求与响应过程/</id>
    <published>2018-06-07T03:45:26.000Z</published>
    <updated>2018-06-11T09:47:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x4ECE;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5DE5;&#x5177;&#x8BF4;&#x8D77;:<a href="https://github.com/pod4g/hiper" target="_blank" rel="external">hiper</a></p>
<p><img src="/2018/06/07/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BF7;&#x6C42;&#x4E0E;&#x54CD;&#x5E94;&#x8FC7;&#x7A0B;/baidu.png" alt="&#x767E;&#x5EA6;"><br><img src="/2018/06/07/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BF7;&#x6C42;&#x4E0E;&#x54CD;&#x5E94;&#x8FC7;&#x7A0B;/load.png" alt="&#x53E6;&#x4E00;&#x4E2A;&#x52A0;&#x8F7D;&#x5927;&#x91CF;&#x56FE;&#x7247;&#x7684;&#x7F51;&#x7AD9;"></p>
<ul>
<li>DNS look time: DNS &#x5BFB;&#x5740;</li>
<li>TCP connect time: TCP&#x63E1;&#x624B;</li>
<li>TTFB : &#x6700;&#x521D;&#x7684;&#x53D1;&#x9001;request&#x5230;response&#x63A5;&#x53D7;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x8282;(&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x7B49;&#x5F85;Waiting) Time To First Byte</li>
<li>Download time of the page: &#x4E0B;&#x8F7D;&#x9875;&#x9762;</li>
<li>After DOM Ready download time: &#x4E0B;&#x8F7D;&#x5176;&#x4ED6;&#x8D44;&#x6E90;</li>
<li>White screen time: &#x767D;&#x5C4F;&#x65F6;&#x95F4;&#xFF08;&#x4ECE;&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x9001;&#x5230;DOM&#x89E3;&#x6790;&#x4E4B;&#x524D;&#xFF09;</li>
<li>DOM Ready time: DOM&#x51C6;&#x5907;&#x65F6;&#x95F4;</li>
<li>Load time: Load&#x6240;&#x6709;&#x65F6;&#x95F4;</li>
</ul>
<p>&#x4EE5;&#x4E0A;&#x8FD9;&#x4E9B;&#x65F6;&#x95F4;&#x662F;&#x5224;&#x65AD;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x5BF9;&#x4E8E;&#x4F7F;&#x7528;&#x8005;&#x7684;&#x53CB;&#x597D;&#x7A0B;&#x5EA6;&#xFF0C;&#x8981;&#x6E05;&#x695A;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x4E00;&#x4E2A;&#x73AF;&#x8282;&#x8017;&#x65F6;&#xFF0C;&#x624D;&#x662F;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x7684;&#x91CD;&#x4E2D;&#x4E4B;&#x91CD;&#x3002;</p>
<ul>
<li>1.totalDNSTime += this.getDNSTime(domainLookupStart, domainLookupEnd)</li>
<li>2.totalTCPTime += this.getTCPTime(connectStart, connectEnd)</li>
<li>3.totalTTFBTime += this.getTTFB(requestStart, responseStart)</li>
<li>4.totalDownloadTime += this.getDownloadTime(responseStart, responseEnd)</li>
<li>5.totalAfterDOMReadyTheDownloadTimeOfTheRes += this.getAfterDOMReadyTheDownloadTimeOfTheRes(domInteractive, domComplete)</li>
<li>6.totalWhiteScreenTime += this.getWhiteScreenTime(navigationStart, domInteractive)</li>
<li>7.totalDOMReadyTime += this.getDOMReadyTime(navigationStart, domContentLoadedEventEnd)</li>
<li>8.totalLoadTime += this.getLoadTime(navigationStart, loadEventEnd)</li>
</ul>
<p>&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x4E2D;&#x7684;&#x65F6;&#x95F4;&#x8BA1;&#x7B97;</p>
<p><img src="/2018/06/07/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BF7;&#x6C42;&#x4E0E;&#x54CD;&#x5E94;&#x8FC7;&#x7A0B;/timing-overview.png" alt="timing-overview"></p>
<p>chrome &#x4E2D;&#x7684;performance.timing&#x5BF9;&#x8C61;&#x8BB0;&#x5F55;&#x4E86;&#x6240;&#x6709;&#x7684;&#x65F6;&#x95F4; <a href="https://www.cnblogs.com/btgyoyo/p/6341077.html" target="_blank" rel="external">&#x6D4F;&#x89C8;&#x5668;&#x4ECE;&#x8F93;&#x5165;&#x7F51;&#x5740;&#x53D1;&#x751F;&#x7684;&#x4E8B;(&#x524D;&#x7AEF;&#x4F18;&#x5316;)</a></p>
<p>navigationStart,&#x5982;&#x679C;&#x6CA1;&#x6709;&#x524D;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#xFF0C;&#x5219;&#x7B49;&#x4E8E;fetchStart&#x5C5E;&#x6027;&#x3002;<br>fetchstart,</p>
<p>DNS: domainLookupStart,domainLookupEnd,</p>
<p>TCP: connectStart,secureConnectionStart,connectEnd,</p>
<p>TTFB&#x548C;Download: requestStart,responseStart,responseEnd,</p>
<p>&#x6E32;&#x67D3;DOM:<br>domLoading,&#x5F00;&#x59CB;&#x89E3;&#x6790;&#x6E32;&#x67D3;DOM&#x6811;&#x7684;&#x65F6;&#x95F4;<br>domInteractive,&#x5B8C;&#x6210;&#x89E3;&#x6790;DOM&#x6811;&#x7684;&#x65F6;&#x95F4;</p>
<p>&#x52A0;&#x8F7D;&#x8D44;&#x6E90;:<br>domContentLoadedEventStart,&#x5728;DOM&#x6811;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x7F51;&#x9875;&#x5185;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x95F4;<br>domContentLoadedEventEnd,DOM&#x6811;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x7F51;&#x9875;&#x5185;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x65F6;&#x95F4;&#xFF08;&#x5982;JS&#x811A;&#x672C;&#x52A0;&#x8F7D;&#x6267;&#x884C;&#x5B8C;&#x6210;&#xFF09; &#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#x4F1A;&#x53EF;&#x80FD;&#x4F1A;&#x89E6;&#x53D1; domcontentLoaded &#x4E8B;&#x4EF6;<br>domComplete,DOM&#x5DF2;&#x7ECF;&#x7ED3;&#x675F;&#xFF0C;&#x800C;&#x4E14;&#x8D44;&#x6E90;&#x4E5F;&#x52A0;&#x8F7D;&#x5B8C;&#x4E86;&#x3002;</p>
<p>DOM&#x7684;onload&#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#x65F6;&#x95F4;: loadEventStart,loadEventEnd load&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x95F4;<br><img src="/2018/06/07/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BF7;&#x6C42;&#x4E0E;&#x54CD;&#x5E94;&#x8FC7;&#x7A0B;/dom-navtiming.png" alt="&#x8BE6;&#x7EC6;&#x653E;&#x5927;&#x56FE;"><br><a href="https://blog.csdn.net/redtopic/article/details/70677690" target="_blank" rel="external">&#x5404;&#x4E2A;&#x65F6;&#x95F4;</a><br><a href="https://www.cnblogs.com/btgyoyo/p/6341077.html" target="_blank" rel="external">&#x4ECB;&#x7ECD;performance&#x4E2D;&#x7684;time</a></p>
<h3 id="DOMContentLoaded-Load-&#x4E24;&#x4E2A;&#x4E8B;&#x4EF6;"><a href="#DOMContentLoaded-Load-&#x4E24;&#x4E2A;&#x4E8B;&#x4EF6;" class="headerlink" title="DOMContentLoaded Load &#x4E24;&#x4E2A;&#x4E8B;&#x4EF6;"></a>DOMContentLoaded Load &#x4E24;&#x4E2A;&#x4E8B;&#x4EF6;</h3><p><a href="https://testdrive-archive.azurewebsites.net/HTML5/DOMContentLoaded/Default.html" target="_blank" rel="external">DOMContentLoaded&#x548C;Load&#x4E24;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;&#x84DD;&#x7EBF;&#x548C;&#x7EA2;&#x7EBF;</a><br>&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x5DEE;&#x522B;&#xFF0C;DOMContentLoaded&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x51FA;&#x6765;&#xFF0C;&#x7ED3;&#x675F;&#x767D;&#x5C4F;&#x72B6;&#x6001;&#xFF0C;&#x5F53;Load&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x56FE;&#x7247;&#xFF0C;&#x7B49;&#x5176;&#x4ED6;&#x8D44;&#x6E90;&#x4E5F;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x3002;</p>
<p><a href="https://www.cnblogs.com/Bonnie3449/p/8419609.html" target="_blank" rel="external">DOMContentLoaded &#x4E0E; load&#x4E8B;&#x4EF6;</a></p>
<h3 id="DOM&#x4E2D;&#x7684;document-readystate&#x5C5E;&#x6027;&#x503C;&#xFF1A;"><a href="#DOM&#x4E2D;&#x7684;document-readystate&#x5C5E;&#x6027;&#x503C;&#xFF1A;" class="headerlink" title="DOM&#x4E2D;&#x7684;document.readystate&#x5C5E;&#x6027;&#x503C;&#xFF1A;"></a>DOM&#x4E2D;&#x7684;document.readystate&#x5C5E;&#x6027;&#x503C;&#xFF1A;</h3><ul>
<li>uninitialized (&#x672A;&#x521D;&#x59CB;&#x5316;) &#xFF1A;&#x5BF9;&#x8C61;&#x5C1A;&#x672A;&#x521D;&#x59CB;&#x5316;</li>
<li>loading (&#x6B63;&#x5728;&#x52A0;&#x8F7D;) &#xFF1A;&#x5BF9;&#x8C61;&#x6B63;&#x5728;&#x52A0;&#x8F7D;</li>
<li>loaded (&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;) &#xFF1A;&#x5BF9;&#x8C61;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5B8C;&#x6210;</li>
<li>interactive (&#x4EA4;&#x4E92;)&#xFF1A;&#x53EF;&#x4EE5;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x8FD8;&#x6CA1;&#x5B8C;&#x5168;&#x52A0;&#x8F7D;</li>
<li>complete (&#x5B8C;&#x6210;)&#xFF1A;&#x5BF9;&#x8C61;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;</li>
</ul>
<h3 id="DOMContentLoaded-jquery-ready&#x4E8B;&#x4EF6;"><a href="#DOMContentLoaded-jquery-ready&#x4E8B;&#x4EF6;" class="headerlink" title="DOMContentLoaded/ jquery ready&#x4E8B;&#x4EF6;"></a>DOMContentLoaded/ jquery ready&#x4E8B;&#x4EF6;</h3><p>$(function(){})$(document).ready(function(){})jQuery&#x4E2D;&#x662F;&#x600E;&#x4E48;&#x5904;&#x7406;&#x8FD9;&#x4E24;&#x79CD;&#x52A0;&#x8F7D;&#x60C5;&#x51B5;&#x7684;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">jQuery.readyException = function( error ) {</div><div class="line">	window.setTimeout( function() {</div><div class="line">		throw error</div><div class="line">	} )</div><div class="line">}</div><div class="line">&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E86;Deferred&#x5BF9;&#x8C61;&#xFF0C;&#x6700;&#x7EC8;&#x4F1A;&#x6267;&#x884C;&#x8FD9;&#x4E2A;fn&#xFF0C;&#x800C;&#x4E14;&#x4F1A;&#x7ED9;&#x53C2;&#x6570; readyList.resolveWith( document, [ jQuery ] ) &#x628A;&#x5F53;&#x524D;&#x7684;document &#x548C;jQUery&#x7ED9;fn&#x5185;&#x90E8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</div><div class="line">// The deferred used on DOM ready</div><div class="line">var readyList = jQuery.Deferred()</div><div class="line">jQuery.fn.ready = function( fn ) {</div><div class="line">--------3-----------</div><div class="line">	readyList.then( fn )</div><div class="line">		// Wrap jQuery.readyException in a function so that the lookup</div><div class="line">		// happens at the time of error handling instead of callback</div><div class="line">		// registration.</div><div class="line">		.catch( function( error ) {</div><div class="line">			jQuery.readyException( error )</div><div class="line">		} )</div><div class="line">	return this</div><div class="line">}</div><div class="line">jQuery.extend( {</div><div class="line">	// Is the DOM ready to be used? Set to true once it occurs.</div><div class="line">	isReady: false,</div><div class="line">	// A counter to track how many items to wait for before</div><div class="line">	// the ready event fires. See #6781</div><div class="line">	readyWait: 1,</div><div class="line">	//ready&#x7B49;&#x4F1A;</div><div class="line">	// Hold (or release) the ready event</div><div class="line">	holdReady: function( hold ) {</div><div class="line">		if ( hold ) {</div><div class="line">			jQuery.readyWait++</div><div class="line">		} else {</div><div class="line">			jQuery.ready( true )</div><div class="line">		}</div><div class="line">	},</div><div class="line">	// Handle when the DOM is ready</div><div class="line">	ready: function( wait ) {</div><div class="line">		// Abort if there are pending holds or we&amp;aposre already ready</div><div class="line">		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {</div><div class="line">			return</div><div class="line">		}</div><div class="line">		// Remember that the DOM is ready</div><div class="line">		jQuery.isReady = true</div><div class="line">		// If a normal DOM Ready event fired, decrement, and wait if need be</div><div class="line">		if ( wait !== true &amp;&amp; --jQuery.readyWait &gt; 0 ) {</div><div class="line">			return</div><div class="line">		}</div><div class="line">        //&#x8FD9;&#x91CC;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#xFF0C;jQuery.ready()--------2-----------</div><div class="line">		// If there are functions bound, to execute</div><div class="line">		readyList.resolveWith( document, [ jQuery ] )</div><div class="line">	}</div><div class="line">} )</div><div class="line">jQuery.ready.then = readyList.then</div><div class="line">// The ready event handler and self cleanup method</div><div class="line">function completed() {</div><div class="line">	document.removeEventListener( &quot;DOMContentLoaded&quot;, completed )</div><div class="line">	window.removeEventListener( &quot;load&quot;, completed )</div><div class="line">	jQuery.ready()</div><div class="line">}</div><div class="line">--------1-----------</div><div class="line">// Catch cases where $(document).ready() is called</div><div class="line">// after the browser event has already occurred.</div><div class="line">// Support: IE &lt;=9 - 10 only</div><div class="line">// Older IE sometimes signals &quot;interactive&quot; too soon</div><div class="line">if ( document.readyState === &quot;complete&quot; ||</div><div class="line">	( document.readyState !== &quot;loading&quot; &amp;&amp; !document.documentElement.doScroll ) ) {</div><div class="line">    </div><div class="line">	// Handle it asynchronously to allow scripts the opportunity to delay ready</div><div class="line">	window.setTimeout( jQuery.ready )</div><div class="line">} else {</div><div class="line">	// Use the handy event callback</div><div class="line">	document.addEventListener( &quot;DOMContentLoaded&quot;, completed )</div><div class="line">	// A fallback to window.onload, that will always work</div><div class="line">	window.addEventListener( &quot;load&quot;, completed )</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x6309;&#x7167;1,2,3&#x7684;&#x4EE3;&#x7801;&#x987A;&#x5E8F;&#x6267;&#x884C;&#xFF0C;&#x9996;&#x5148;1&#x540E;&#x9762;&#xFF0C;&#x5224;&#x65AD;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x7684;document&#x72B6;&#x6001;&#x5DF2;&#x7ECF;&#x5B8C;&#x6574;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7ACB;&#x5373;&#x6267;&#x884C;2&#xFF0C;|| &#x4E0D;&#x662F;&#x5728;&#x52A0;&#x8F7D;&#x72B6;&#x6001;&#xFF0C;&#x517C;&#x5BB9;IE&#xFF0C; &#x5426;&#x5219;&#x7684;&#x8BDD;&#xFF0C;&#x5728;document&#x4E2D;&#x6DFB;&#x52A0;&#x4E24;&#x4E2A;&#x4E8B;&#x4EF6;&#x7684;&#x76D1;&#x542C;&#xFF0C;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x4E8B;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x6267;&#x884C;completed&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x4F1A;&#x8C03;&#x7528;jQuery.ready()&#x2014;-2<br>2&#x6700;&#x540E;&#x8FD8;&#x662F;&#x8C03;&#x7528;3&#xFF0C;</p>
<p><a href="https://segmentfault.com/a/1190000005869515" target="_blank" rel="external">&#x6D45;&#x8C08;DOMContentLoaded&#x4E8B;&#x4EF6;&#x53CA;&#x5176;&#x5C01;&#x88C5;&#x65B9;&#x6CD5;</a></p>
<h4 id="load-onload-&#x4E8B;&#x4EF6;"><a href="#load-onload-&#x4E8B;&#x4EF6;" class="headerlink" title="load/onload &#x4E8B;&#x4EF6;"></a>load/onload &#x4E8B;&#x4EF6;</h4><p>&#x4E0A;&#x9762;&#x4E8B;&#x4EF6;&#x987A;&#x5E8F;&#x7406;&#x89E3;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x7ED3;&#x5408;&#x4E0A;&#x9762;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x53EA;&#x662F;&#x4E8B;&#x4EF6;&#x66F4;&#x9760;&#x540E;&#x4E00;&#x70B9;&#x3002;</p>
<p>body&#x6807;&#x7B7E;&#x4E2D;&#x52A0;onload&#x4E8B;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x505A;&#x51FA;&#x6765;&#x7B49;&#x5F85;&#x7684;&#x60C5;&#x51B5;&#xFF0C;<a href="https://muxiaobai.github.io/2016/12/17/%E7%AD%89%E5%BE%85-%E7%AD%89%E5%BE%85-%E7%AD%89%E5%BE%85/">&#x8F6C;&#x5708;&#x6548;&#x679C;</a></p>
<h2 id="&#x5404;&#x5927;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;&#x4ECB;&#x7ECD;"><a href="#&#x5404;&#x5927;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;&#x4ECB;&#x7ECD;" class="headerlink" title="&#x5404;&#x5927;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;&#x4ECB;&#x7ECD;"></a>&#x5404;&#x5927;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;&#x4ECB;&#x7ECD;</h2><p>&#x5E38;&#x89C1;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;:</p>
<ul>
<li>IE : Trident</li>
<li>firefox: Gecko(Mozilla)</li>
<li>Safari: Webkit</li>
<li>Chrome Blink</li>
<li>Opera: Presto,&#x73B0;&#x4F7F;&#x7528;Chrome&#x7684;Blink</li>
</ul>
<p>&#x6CE8;&#xFF1A;Blink&#x662F;Chromium&#x7684;&#x6838;&#x5FC3;,&#x5B83;&#x7684;&#x524D;&#x8EAB;&#x662F;Webkit.&#x56FD;&#x5185;&#x7684;&#x5927;&#x90E8;&#x5206;&#x6D4F;&#x89C8;&#x5668;,&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x5185;&#x6838;&#x662F;Trident&#xFF0C;&#x7136;&#x540E;&#x518D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5176;&#x4ED6;&#x5185;&#x6838;&#x3002;&#x56FD;&#x5185;&#x7684;&#x5382;&#x5546;&#x4E00;&#x822C;&#x628A;&#x5176;&#x4ED6;&#x5185;&#x6838;&#x53EB;&#x505A;&#x201C;&#x9AD8;&#x901F;&#x6D4F;&#x89C8;&#x6A21;&#x5F0F;&#x201D;&#xFF0C;&#x800C;Trident&#x5219;&#x662F;&#x201C;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x6A21;&#x5F0F;&#x201D;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x6765;&#x56DE;&#x5207;&#x6362;&#x3002;</p>
<h2 id="chrome-F12&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;"><a href="#chrome-F12&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;" class="headerlink" title="chrome F12&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;"></a>chrome F12&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;</h2><p>&#x5E38;&#x7528;&#x9762;&#x677F;: Console Elements Sources</p>
<p>&#x7F51;&#x7EDC;&#x95EE;&#x9898;: Network Audits</p>
<p>&#x6027;&#x80FD;&#x5176;&#x4ED6;: Application Performance Momery</p>
<ul>
<li>Elements: &#x6700;&#x7EC8;&#x6D4F;&#x89C8;&#x5668;&#x5C55;&#x793A;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;&#x5143;&#x7D20;&#x7684;&#x6837;&#x5F0F;Style&#xFF0C;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#x7684;&#x5143;&#x7D20;&#x4F4D;&#x7F6E;Computed&#xFF0C;&#x4E8B;&#x4EF6;&#x7684;&#x76D1;&#x542C;Event&#xFF1B;</li>
<li>Network: &#x89E3;&#x51B3;&#x5E38;&#x7528;&#x6570;&#x636E;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x524D;&#x540E;&#x7AEF;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x5440;&#x3002;&#x67E5;&#x770B;&#x8BF7;&#x6C42;&#x5934;&#xFF0C;&#x54CD;&#x5E94;&#x5934;&#xFF0C;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#xFF0C;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7B49;&#x3002;&#x4EE5;&#x53CA;&#x6BCF;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x7684;Timing&#xFF08;Waterfall&#xFF09;&#xFF08;&#x8BF7;&#x6C42;- &#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF09;Network</li>
<li>Console: &#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x67E5;&#x770B;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#x5440;&#xFF0C;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#x7B49;&#x3002;</li>
<li>Application: &#x53C2;&#x8003;<a href="https://muxiaobai.github.io/2016/08/20/HTML5-API-%E6%96%B0%E7%89%B9%E6%80%A7/">HTML5-API&#x65B0;&#x7279;&#x6027;</a>,&#x4E3B;&#x8981;&#x662F;Cookie,Session,Storage,&#x8FD8;&#x6709;&#x4E24;&#x4E2A;&#x65B0;&#x7279;&#x6027;&#xFF0C;Manifest,Service Workers,&#x4E00;&#x822C;&#x7F51;&#x7AD9;&#x5F00;&#x53D1;&#xFF0C;&#x4E0A;&#x9762;&#x5DF2;&#x7ECF;&#x591F;&#x7528;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x9047;&#x5230;&#x5176;&#x4ED6;&#x9875;&#x9762;&#x54CD;&#x5E94;&#x6162;&#x7B49;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x9762;&#x677F;:</li>
<li>Performance: &#x6027;&#x80FD;</li>
<li>Momery: &#x5185;&#x5B58;</li>
</ul>
<p>&#x4E0B;&#x9762;&#x8FD9;&#x4E24;&#x4E2A;&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#x5F88;&#x5168;&#x7684;&#x3002;</p>
<ul>
<li><a href="http://www.cnblogs.com/constantince/category/712675.html" target="_blank" rel="external">Chrome&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x4E0D;&#x5B8C;&#x5168;&#x6307;&#x5357;</a></li>
<li><a href="http://www.cnblogs.com/charliechu/p/5948448.html" target="_blank" rel="external">Chrome&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x8BE6;&#x89E3;</a></li>
</ul>
<p>&#x7F3A;&#x5C11;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x6E32;&#x67D3;&#x548C;&#x4F18;&#x5316;&#x65B9;&#x5411;</p>
<p>&#x53C2;&#x8003;&#x6587;&#x732E;:</p>
<ul>
<li><a href="https://developers.google.com/web/tools/chrome-devtools/" target="_blank" rel="external">chrome&#x5B98;&#x65B9;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x6587;&#x6863;</a></li>
<li><a href="https://developer.chrome.com/devtools/docs/demos/memory" target="_blank" rel="external">memory&#x6D4B;&#x8BD5;</a></li>
<li><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/measure-crp" target="_blank" rel="external">google&#x6587;&#x6863; &#x8BC4;&#x4F30;&#x5173;&#x952E;&#x6E32;&#x67D3;&#x8DEF;&#x5F84;</a>&#x2606;&#x2606;</li>
<li><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/analyzing-crp" target="_blank" rel="external">google&#x6587;&#x6863; &#x5206;&#x6790;&#x5173;&#x952E;&#x6E32;&#x67D3;&#x8DEF;&#x5F84;&#x6027;&#x80FD;</a>&#x2606;&#x2606;&#x2606;&#x2606;</li>
</ul>
]]></content>
    
    <summary type="html">
    
      从浏览器的请求响应，重新认识chrome
    
    </summary>
    
      <category term="前端" scheme="https://muxiaobai.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="工具" scheme="https://muxiaobai.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="前端" scheme="https://muxiaobai.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>Tomcat源码阅读之Container责任链</title>
    <link href="https://muxiaobai.github.io/2018/04/20/Tomcat%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E4%B9%8BContainer%E8%B4%A3%E4%BB%BB%E9%93%BE/"/>
    <id>https://muxiaobai.github.io/2018/04/20/Tomcat源码阅读之Container责任链/</id>
    <published>2018-04-20T07:39:00.000Z</published>
    <updated>2018-05-14T09:12:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x4E0A;&#x7BC7;&#x8BB2;&#x5230;Connector&#x5230;Container&#x7684;&#x8F6C;&#x6362;&#xFF0C;&#x672C;&#x6587;&#x4E3B;&#x8981;&#x662F;Container&#x5185;&#x90E8;&#x7684;&#x8F6C;&#x6362;&#xFF0C;&#x56DB;&#x4E2A;&#x7EC4;&#x4EF6;Engine&#x3001;Host&#x3001;Context&#x3001;Wrapper&#x3002;<br>&#x987A;&#x4FBF;&#x63D0;&#x4E00;&#x4E0B;Pipeline&#x548C;Value.</p>
<p>&#x63A5;&#x4E0A;&#x6587;&#x7684;CoyoteAdapter.service()<code>connector.getService().getContainer().getPipeline().getFirst().invoke(request, response);</code>,</p>
<p>&#x5982;&#x56FE;&#x5982;&#x56FE;<br><img src="/2018/04/20/Tomcat&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;Container&#x8D23;&#x4EFB;&#x94FE;/665375-20160119184923890-1995839223.png" alt="&#x8BF7;&#x6C42;&#x6D41;&#x56FE;"><br><img src="/2018/04/20/Tomcat&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;Container&#x8D23;&#x4EFB;&#x94FE;/818454-20161025170804984-654825756.png" alt="&#x8BF7;&#x6C42;&#x6D41;&#x56FE;"><br>&#x9ED8;&#x8BA4;&#x7684;Engine&#x662F;StandardEngine&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x5728;EngineRuleSet&#x4E2D;&#x901A;&#x8FC7;digester&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">digester.addObjectCreate(prefix + &quot;Engine&quot;,</div><div class="line">                         &quot;org.apache.catalina.core.StandardEngine&quot;,</div><div class="line">                         &quot;className&quot;);</div><div class="line">digester.addSetProperties(prefix + &quot;Engine&quot;);</div><div class="line">digester.addRule(prefix + &quot;Engine&quot;,</div><div class="line">                 new LifecycleListenerRule</div><div class="line">                 (&quot;org.apache.catalina.startup.EngineConfig&quot;,</div><div class="line">                  &quot;engineConfigClass&quot;));</div><div class="line">digester.addSetNext(prefix + &quot;Engine&quot;,</div><div class="line">                    &quot;setContainer&quot;,</div><div class="line">                    &quot;org.apache.catalina.Engine&quot;);</div></pre></td></tr></table></figure></p>
<p>&#x7136;&#x540E;&#x8FD9;&#x4E2A;<code>org.apache.catalina.core.StandardEngine</code>&#x5C31;&#x662F;connector.getService().getContainer()&#x7684;&#x5B9E;&#x9645;Container&#xFF0C;&#x6240;&#x6709;&#x7684;Container&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90FD;&#x6709;pipeline&#x548C;setBasic()&#x3002;</p>
<p>StandardEngine&#x6784;&#x9020;&#x65B9;&#x6CD5;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">public StandardEngine() {</div><div class="line"></div><div class="line">    super();</div><div class="line">    pipeline.setBasic(new StandardEngineValve());</div><div class="line">    /* Set the jmvRoute using the system property jvmRoute */</div><div class="line">    try {</div><div class="line">        setJvmRoute(System.getProperty(&quot;jvmRoute&quot;));</div><div class="line">    } catch(Exception ex) {</div><div class="line">        log.warn(sm.getString(&quot;standardEngine.jvmRouteFail&quot;));</div><div class="line">    }</div><div class="line">    // By default, the engine will hold the reloading thread</div><div class="line">    backgroundProcessorDelay = 10;</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>ContainerBase&#x4E2D;&#x4F1A;&#x6709;&#x8FD9;&#x4E2A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">protected final Pipeline pipeline = new StandardPipeline(this);</div></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6837;&#x518D;Engine&#x8FD9;&#x4E2A;&#x7EA7;&#x522B;&#x7684;Container&#x4E2D;&#x5C31;&#x6709;&#x4E00;&#x4E2A;&#x6D41;&#x6C34;&#x7EBF;&#x4E86;StandardPipeline&#xFF0C;&#x7136;&#x540E;&#x8FD9;&#x4E2A;&#x6D41;&#x6C34;&#x7EBF;&#x7684;getFirst(),&#x8FD9;&#x91CC;&#x7684;getFirst&#x662F;StandardEngine.&#x6784;&#x9020;&#x51FD;&#x6570;setBasic&#x65B9;&#x6CD5;&#x7ED9;&#x5230;&#x7684;&#x4E00;&#x4E2A;StandardEngineValve(),&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x628A;StandardEngineValve&#x5C31;&#x662F;<code>connector.getService().getContainer().getPipeline().getFirst()</code> (&#x5982;&#x679C;&#x6CA1;&#x6709;first&#x7684;&#x8BDD;)&#x7684;&#x6700;&#x7EC8;&#x6548;&#x679C;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E5F;&#x662F;&#x6700;&#x540E;&#x4E00;&#x4E2A;Valve(&#x9600;&#x95E8;)&#x3002;<br>&#x5982;&#x679C;&#x6709;&#x5176;&#x4ED6;&#x7684;Valve&#x5462;&#xFF0C;EngineRuleSet&#x4E2D;&#x5C31;&#x4F1A;&#x8BFB;&#x53D6;&#x5230;&#x5BF9;&#x5E94;&#x7684;Valve&#x8C03;&#x7528;addValve&#xFF0C;&#x6DFB;&#x52A0;&#x5230;base&#x7684;&#x524D;&#x9762;(&#x94FE;&#x8868;&#x64CD;&#x4F5C;),&#x56E0;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x7EE7;&#x627F;ValveBase&#x90FD;&#x8981;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;<code>invoke</code>&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x6700;&#x540E;&#x90FD;&#x4F1A;&#x6267;&#x884C;&#x4E00;&#x4E2A;<code>getNext().invoke(request, response);</code>&#x8FD9;&#x6837;&#x5C31;&#x627E;&#x5230;&#x4E86;&#x4E0B;&#x4E00;&#x4E2A;Next&#xFF0C;&#x76F4;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5230;StandardXXXValve&#x3002;&#x63A5;&#x7740;&#x4E0B;&#x4E00;&#x6B65;&#x6267;&#x884C;&#x3002;<br>&#x4E0B;&#x9762;&#x662F;StandardPipeline<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line"> @Override</div><div class="line">    public void addValve(Valve valve) {</div><div class="line"></div><div class="line">        // Validate that we can add this Valve</div><div class="line">        if (valve instanceof Contained)</div><div class="line">            ((Contained) valve).setContainer(this.container);</div><div class="line"></div><div class="line">        // Start the new component if necessary</div><div class="line">        if (getState().isAvailable()) {</div><div class="line">            if (valve instanceof Lifecycle) {</div><div class="line">                try {</div><div class="line">                    ((Lifecycle) valve).start();</div><div class="line">                } catch (LifecycleException e) {</div><div class="line">                    log.error(&quot;StandardPipeline.addValve: start: &quot;, e);</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">        //&#x94FE;&#x8868;&#x64CD;&#x4F5C;,&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7B2C;&#x4E00;&#x4E2A;&#x5F53;&#x524D;&#x7684;&#x5C31;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#xFF0C;</div><div class="line">        // Add this Valve to the set associated with this Pipeline</div><div class="line">        if (first == null) {</div><div class="line">            first = valve;</div><div class="line">            valve.setNext(basic);</div><div class="line">        } else {</div><div class="line">        //&#x5982;&#x679C;&#x6709;&#x628A;&#x5F53;&#x524D;&#x7684;&#x5C31;&#x8BBE;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;,</div><div class="line">            Valve current = first;</div><div class="line">            while (current != null) {</div><div class="line">            //&#x76F4;&#x5230;&#x90A3;&#x4E2A;&#x662F;StandardXXXValve,&#x7684;&#x65F6;&#x5019;&#x5C31;&#x628A;&#x4F20;&#x5165;&#x7684;&#x8FD9;&#x4E2A;valve&#x63D2;&#x5165;&#x8FDB;&#x53BB;&#xFF0C;&#x5E76;valve&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x4FDD;&#x8BC1;&#x662F;&#x6700;&#x540E;&#x4E00;&#x4E2A;StandardXXXValve.</div><div class="line">                if (current.getNext() == basic) {</div><div class="line">                    current.setNext(valve);</div><div class="line">                    valve.setNext(basic);</div><div class="line">                    break;</div><div class="line">                }</div><div class="line">            //&#x7136;&#x540E;&#x5F53;&#x524D;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x8D4B;&#x503C;&#x7ED9;&#x5F53;&#x524D;&#x8FD9;&#x4E2A;</div><div class="line">                current = current.getNext();</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        container.fireContainerEvent(Container.ADD_VALVE_EVENT, valve);</div><div class="line">    }</div><div class="line">@Override</div><div class="line">    public void setBasic(Valve valve) {</div><div class="line"></div><div class="line">        // Change components if necessary</div><div class="line">        Valve oldBasic = this.basic;</div><div class="line">        if (oldBasic == valve)</div><div class="line">            return;</div><div class="line"></div><div class="line">        // Stop the old component if necessary</div><div class="line">        if (oldBasic != null) {</div><div class="line">            if (getState().isAvailable() &amp;&amp; (oldBasic instanceof Lifecycle)) {</div><div class="line">                try {</div><div class="line">                    ((Lifecycle) oldBasic).stop();</div><div class="line">                } catch (LifecycleException e) {</div><div class="line">                    log.error(&quot;StandardPipeline.setBasic: stop&quot;, e);</div><div class="line">                }</div><div class="line">            }</div><div class="line">            if (oldBasic instanceof Contained) {</div><div class="line">                try {</div><div class="line">                    ((Contained) oldBasic).setContainer(null);</div><div class="line">                } catch (Throwable t) {</div><div class="line">                    ExceptionUtils.handleThrowable(t);</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        // Start the new component if necessary</div><div class="line">        if (valve == null)</div><div class="line">            return;</div><div class="line">        if (valve instanceof Contained) {</div><div class="line">            ((Contained) valve).setContainer(this.container);</div><div class="line">        }</div><div class="line">        if (getState().isAvailable() &amp;&amp; valve instanceof Lifecycle) {</div><div class="line">            try {</div><div class="line">                ((Lifecycle) valve).start();</div><div class="line">            } catch (LifecycleException e) {</div><div class="line">                log.error(&quot;StandardPipeline.setBasic: start&quot;, e);</div><div class="line">                return;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        // Update the pipeline</div><div class="line">        Valve current = first;</div><div class="line">        while (current != null) {</div><div class="line">            if (current.getNext() == oldBasic) {</div><div class="line">                current.setNext(valve);</div><div class="line">                break;</div><div class="line">            }</div><div class="line">            current = current.getNext();</div><div class="line">        }</div><div class="line"></div><div class="line">        this.basic = valve;//&#x8BBE;&#x7F6E;base</div><div class="line"></div><div class="line">    }</div><div class="line">    @Override</div><div class="line">    public Valve getFirst() {</div><div class="line">        if (first != null) {</div><div class="line">            return first;</div><div class="line">        }</div><div class="line"></div><div class="line">        return basic;</div><div class="line">    }</div></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x628A;StandardEngineValve&#x5C31;&#x662F;Engine&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x63A5;&#x7740;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x627E;&#x5230;Host&#x3002;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">   public final void invoke(Request request, Response response)</div><div class="line">       throws IOException, ServletException {</div><div class="line"></div><div class="line">       // Select the Host to be used for this Request</div><div class="line">       Host host = request.getHost();</div><div class="line">       if (host == null) {</div><div class="line">           response.sendError</div><div class="line">               (HttpServletResponse.SC_BAD_REQUEST,</div><div class="line">                sm.getString(&quot;standardEngine.noHost&quot;,</div><div class="line">                             request.getServerName()));</div><div class="line">           return;</div><div class="line">       }</div><div class="line">       if (request.isAsyncSupported()) {</div><div class="line">           request.setAsyncSupported(host.getPipeline().isAsyncSupported());</div><div class="line">       }</div><div class="line"></div><div class="line">       // Ask this Host to process this request</div><div class="line">       host.getPipeline().getFirst().invoke(request, response);</div><div class="line"></div><div class="line">   }</div></pre></td></tr></table></figure></p>
<p>&#x800C;&#x540C;&#x6837;host&#x8BBE;&#x7F6E;&#x7684;&#x914D;&#x7F6E;&#x662F;&#x5728;HostRuleSet&#x4E2D;&#x3002;&#x5176;&#x4ED6;&#x7684;&#x6B65;&#x9AA4;&#x548C;&#x4E0A;&#x4E00;&#x9762;&#x4E00;&#x6837;&#x54E6;&#x3002;Engine&#x2014;-&gt;Host&#x2014;-&gt;Context&#x2014;-&gt;Wrapper<br>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5C31;&#x627E;&#x5230;&#x6700;&#x540E;&#x4E00;&#x5C42;&#x7684;StandardWrapper.&#x627E;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;StandardWrapperValve&#x9600;&#x95E8;&#x7684;invoke&#x65B9;&#x6CD5;<br>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x6709;&#x4E2A;Filter.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">// Create the filter chain for this request</div><div class="line">       ApplicationFilterChain filterChain =</div><div class="line">               ApplicationFilterFactory.createFilterChain(request, wrapper, servlet);</div><div class="line">       // Call the filter chain for this request</div><div class="line">       // NOTE: This also calls the servlet&apos;s service() method</div><div class="line">       filterChain.doFilter(request.getRequest(),</div><div class="line">               response.getResponse());</div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x91CC;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x6CE8;&#x91CA; Call the filter chain for this request&#xFF0C;&#x8C03;&#x7528;request&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#x94FE;<code>calls the servlet&apos;s service() method</code>&#x8C03;&#x7528;servlet&#x7684;service()&#x65B9;&#x6CD5;&#x3002;</p>
<p>ApplicationFilterChain&#x8FD9;&#x4E2A;&#x7C7B;&#x4E2D;&#x3002;doFilter&#x6700;&#x540E;&#xFF0C;<code>servlet.service(request, response);</code></p>
<h4 id="Pipeline-Value"><a href="#Pipeline-Value" class="headerlink" title="Pipeline Value"></a>Pipeline Value</h4><p>&#x7BA1;&#x9053;&#xFF0C;&#x9600;&#x95E8;&#xFF0C;&#x8D23;&#x4EFB;&#x94FE;&#xFF0C;&#x5916;&#x754C;&#x8FDB;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5148;&#x4ECE;Connector&#x5230;Container,&#x4E2D;&#x95F4;&#x7ECF;&#x8FC7;&#x534F;&#x8BAE;&#x5904;&#x7406;&#xFF0C;&#x7136;&#x540E;&#x5728;Container&#x4E2D;&#xFF0C;&#x4F9D;&#x6B21;&#x8BB2;&#x8BF7;&#x6C42;&#x901A;&#x8FC7;&#x5404;&#x79CD;&#x7BA1;&#x9053;&#xFF0C;&#x6BCF;&#x4E00;&#x5C42;&#x7BA1;&#x9053;&#x7684;&#x6700;&#x540E;&#x9600;&#x95E8;&#x90FD;&#x662F;StandardXXXValve,&#x7136;&#x540E;&#x4EA4;&#x5230;&#x4E0B;&#x4E00;&#x5C42;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x9600;&#x95E8;&#x518D;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x6700;&#x7EC8;&#x4F1A;&#x6D41;&#x5230;Servlet.service(),&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6B63;&#x5E38;&#x5199;&#x7684;&#x4EE3;&#x7801;&#xFF0C;<code>doGet();doPost();</code></p>
<p>HttpServlet.service();<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">protected void service(HttpServletRequest req, HttpServletResponse resp)</div><div class="line">    throws ServletException, IOException {</div><div class="line"></div><div class="line">    String method = req.getMethod();</div><div class="line"></div><div class="line">    if (method.equals(METHOD_GET)) {</div><div class="line">        long lastModified = getLastModified(req);</div><div class="line">        if (lastModified == -1) {</div><div class="line">            // servlet doesn&apos;t support if-modified-since, no reason</div><div class="line">            // to go through further expensive logic</div><div class="line">            doGet(req, resp);//Get</div><div class="line">        } else {</div><div class="line">            long ifModifiedSince;</div><div class="line">            try {</div><div class="line">                ifModifiedSince = req.getDateHeader(HEADER_IFMODSINCE);</div><div class="line">            } catch (IllegalArgumentException iae) {</div><div class="line">                // Invalid date header - proceed as if none was set</div><div class="line">                ifModifiedSince = -1;</div><div class="line">            }</div><div class="line">            if (ifModifiedSince &lt; (lastModified / 1000 * 1000)) {</div><div class="line">                // If the servlet mod time is later, call doGet()</div><div class="line">                // Round down to the nearest second for a proper compare</div><div class="line">                // A ifModifiedSince of -1 will always be less</div><div class="line">                maybeSetLastModified(resp, lastModified);</div><div class="line">                doGet(req, resp);</div><div class="line">            } else {</div><div class="line">                resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">    } else if (method.equals(METHOD_HEAD)) {</div><div class="line">        long lastModified = getLastModified(req);</div><div class="line">        maybeSetLastModified(resp, lastModified);</div><div class="line">        doHead(req, resp);</div><div class="line"></div><div class="line">    } else if (method.equals(METHOD_POST)) {</div><div class="line">        doPost(req, resp);//Post</div><div class="line"></div><div class="line">    } else if (method.equals(METHOD_PUT)) {</div><div class="line">        doPut(req, resp);</div><div class="line"></div><div class="line">    } else if (method.equals(METHOD_DELETE)) {</div><div class="line">        doDelete(req, resp);</div><div class="line"></div><div class="line">    } else if (method.equals(METHOD_OPTIONS)) {</div><div class="line">        doOptions(req,resp);</div><div class="line"></div><div class="line">    } else if (method.equals(METHOD_TRACE)) {</div><div class="line">        doTrace(req,resp);</div><div class="line"></div><div class="line">    } else {</div><div class="line">        //</div><div class="line">        // Note that this means NO servlet supports whatever</div><div class="line">        // method was requested, anywhere on this server.</div><div class="line">        //</div><div class="line"></div><div class="line">        String errMsg = lStrings.getString(&quot;http.method_not_implemented&quot;);</div><div class="line">        Object[] errArgs = new Object[1];</div><div class="line">        errArgs[0] = method;</div><div class="line">        errMsg = MessageFormat.format(errMsg, errArgs);</div><div class="line"></div><div class="line">        resp.sendError(HttpServletResponse.SC_NOT_IMPLEMENTED, errMsg);</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>&#x81F3;&#x6B64;&#xFF0C;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x7684;URL&#x5C31;&#x7ED9;&#x6211;&#x4EEC;&#x5904;&#x7406;&#x4E86;&#xFF0C;&#x5199;doGet&#xFF0C;doPost&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#x7684;Tomcat&#x6E90;&#x7801;&#x5C31;&#x5148;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x544A;&#x4E00;&#x6BB5;&#x843D;&#xFF01;</p>
<p>&#x7CFB;&#x5217;&#x6587;&#x7AE0;</p>
<ul>
<li><a href="http://muxiaobai.github.io/2018/04/16/Tomcat%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E4%B9%8B%E4%BB%8Eserver-xml%E7%9C%8B%E7%BB%84%E4%BB%B6%E5%85%B3%E7%B3%BB/">Tomcat&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;&#x4ECE;server.xml&#x770B;&#x7EC4;&#x4EF6;&#x5173;&#x7CFB;</a></li>
<li><a href="http://muxiaobai.github.io/2018/04/16/Tomcat%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E4%B9%8B%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/">Tomcat&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;&#x7EC4;&#x4EF6;&#x751F;&#x547D;&#x5468;&#x671F;</a></li>
<li><a href="http://muxiaobai.github.io/2018/04/17/Tomcat%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E4%B9%8BURL%E8%AF%B7%E6%B1%82%E8%A7%A3%E6%9E%90/">Tomcat&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;URL&#x8BF7;&#x6C42;&#x89E3;&#x6790;</a></li>
<li><a href="https://muxiaobai.github.io/2018/04/20/Tomcat%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E4%B9%8BContainer%E8%B4%A3%E4%BB%BB%E9%93%BE/">Tomcat&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E4B;Container&#x8D23;&#x4EFB;&#x94FE;</a></li>
</ul>
<p>&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;</p>
<ul>
<li><a href="https://www.cnblogs.com/coldridgeValley/p/6606271.html" target="_blank" rel="external">Tomcat&#x4E2D;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</a></li>
<li>&#x300A;&#x6DF1;&#x5165;&#x5256;&#x6790;Tomcat&#x300B;</li>
</ul>
]]></content>
    
    <summary type="html">
    
      研究tomcat系列,Container内部怎么进行请求处理？
    
    </summary>
    
      <category term="java" scheme="https://muxiaobai.github.io/categories/java/"/>
    
    
      <category term="tomcat" scheme="https://muxiaobai.github.io/tags/tomcat/"/>
    
  </entry>
  
</feed>
