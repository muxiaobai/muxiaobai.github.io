<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="API,Canvas,Storage,Cache," />





  <link rel="alternate" href="/atom.xml" title="技术笔记" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico?v=5.0.1" />






<meta name="description" content="HTML5 新特性,近期在做项目的时候发现了File,挺好用的，就顺便学习一下其他的新特性。">
<meta property="og:type" content="article">
<meta property="og:title" content="HTML5 API 新特性">
<meta property="og:url" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/index.html">
<meta property="og:site_name" content="技术笔记">
<meta property="og:description" content="HTML5 新特性,近期在做项目的时候发现了File,挺好用的，就顺便学习一下其他的新特性。">
<meta property="og:image" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/201608201813.PNG">
<meta property="og:image" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/201608201816.PNG">
<meta property="og:image" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/201608230954.PNG">
<meta property="og:image" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/201608230958.PNG">
<meta property="og:image" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/201608231046.PNG">
<meta property="og:image" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/201608231049.PNG">
<meta property="og:updated_time" content="2016-08-31T12:24:35.510Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTML5 API 新特性">
<meta name="twitter:description" content="HTML5 新特性,近期在做项目的时候发现了File,挺好用的，就顺便学习一下其他的新特性。">
<meta name="twitter:image" content="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/201608201813.PNG">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/"/>

  <title> HTML5 API 新特性 | 技术笔记 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-80276841-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?G4mEksdCPH";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">技术笔记</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">有输入,有输出</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Kategorien
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            Über
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Suche
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                HTML5 API 新特性
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-08-20T15:32:41+00:00" content="2016-08-20">
              2016-08-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/HTML/" itemprop="url" rel="index">
                    <span itemprop="name">HTML</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/20/HTML5-API-新特性/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/20/HTML5-API-新特性/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="HTML5-API&#x65B0;&#x7279;&#x6027;"><a href="#HTML5-API&#x65B0;&#x7279;&#x6027;" class="headerlink" title="HTML5-API&#x65B0;&#x7279;&#x6027;"></a>HTML5-API&#x65B0;&#x7279;&#x6027;</h1><p>&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#xFF1A;&#x5B58;&#x50A8;&#x3001;&#x6587;&#x4EF6; &#x3001;&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x3001; &#x5A92;&#x4F53;&#xFF08;&#x89C6;&#x9891;&#x3001;&#x97F3;&#x9891;&#xFF09;</p>
<hr>
<h2 id="Storage-&#x5B58;&#x50A8;"><a href="#Storage-&#x5B58;&#x50A8;" class="headerlink" title="Storage &#x5B58;&#x50A8;"></a>Storage &#x5B58;&#x50A8;</h2><h4 id="Local-Storage"><a href="#Local-Storage" class="headerlink" title="Local Storage"></a>Local Storage</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">var local=this.localStorage;</div><div class="line">var STORAGE_KEY = &apos;Local&apos;;</div><div class="line">var items={&quot;name&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;123456&quot;}</div><div class="line">var STORAGE_KEY2 = &apos;Local2&apos;;</div><div class="line">var items2={&quot;name&quot;:&quot;wang&quot;,&quot;sto&quot;:&quot;storage&quot;}</div><div class="line">local.setItem(STORAGE_KEY, JSON.stringify(items));//&#x628A;itemJSON&#x8BDD;&#x540E;&#xFF0C;&#x6DFB;&#x52A0;&#x5230;LocalStorage&#xFF0C;&#x6B64;&#x65F6;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;</div><div class="line">console.log(local.getItem(STORAGE_KEY));//&#x6839;&#x636E;key&#x83B7;&#x53D6;{key:value}</div><div class="line">console.log(local);</div><div class="line">local.setItem(STORAGE_KEY2, JSON.stringify(items2));</div><div class="line">console.log(local);</div><div class="line">console.log(local.key(1));</div><div class="line"></div><div class="line">console.log(local.key(0));&#x83B7;&#x53D6;&#x7B2C;&#x4E00;&#x4E2A;{key:value}</div><div class="line">console.log(local.length);</div><div class="line">local.removeItem(STORAGE_KEY);//&#x6839;&#x636E;key&#x79FB;&#x9664;{key:value}</div><div class="line"></div><div class="line">console.log(local.length);//&#x83B7;&#x53D6;&#x5185;&#x5BB9;&#x7684;&#x957F;&#x5EA6;</div><div class="line"></div><div class="line">console.log(local);</div><div class="line">local.clear();//&#x6E05;&#x9664;localStorage</div><div class="line">console.log(local);</div></pre></td></tr></table></figure>
<p><img src="/2016/08/20/HTML5-API-&#x65B0;&#x7279;&#x6027;/201608201813.PNG" alt="&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;"><br><img src="/2016/08/20/HTML5-API-&#x65B0;&#x7279;&#x6027;/201608201816.PNG" alt="LocalStorage&#x4FE1;&#x606F;"></p>
<ul>
<li><p>&#x83B7;&#x53D6;&#x6DFB;&#x52A0;&#x79FB;&#x9664;:getItem(),setItem() removeItem()</p>
</li>
<li><p>&#x957F;&#x5EA6; length</p>
</li>
<li><p>&#x6E05;&#x9664;&#x6240;&#x6709;{key:value}:LocalStorage.clear()</p>
</li>
</ul>
<p>&#x5176;&#x4E2D;LocalStorage&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x5B58;&#x50A8;5M&#x5DE6;&#x53F3;&#x5185;&#x5BB9;&#xFF0C;&#x540C;&#x65F6;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x548C;Cookies&#x4E0D;&#x540C;&#xFF0C;Cookies&#x4F1A;&#x548C;Server&#x8FDB;&#x884C;&#x4FE1;&#x606F;&#x4F20;&#x9012;&#xFF0C;&#x4F46;&#x662F;LocalStorage&#x4E0D;&#x4F1A;&#xFF0C;&#x6839;&#x636E;&#x540D;&#x5B57;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x53EA;&#x5B58;&#x5728;&#x4E8E;&#x672C;&#x5730;&#x3002;</p>
<h4 id="Session-Storage"><a href="#Session-Storage" class="headerlink" title="Session Storage"></a>Session Storage</h4><p>SessionStorage&#x548C;LocalStorage&#x7C7B;&#x4F3C;&#xFF0C;&#x65B9;&#x6CD5;&#x4E5F;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x5B58;&#x5728;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x548C;&#x5B58;&#x50A8;&#x5927;&#x5C0F;&#x3001;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x540C;&#x3002;&#x6BD4;&#x8F83;&#xFF1A;</p>
<table>
<thead>
<tr>
<th>&#x6BD4;&#x8F83;</th>
<th style="text-align:center">sessionStorage</th>
<th style="text-align:right">localStorage</th>
<th style="text-align:right">cookie</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x5B58;&#x50A8;&#x5927;&#x5C0F;</td>
<td style="text-align:center">5M</td>
<td style="text-align:right">5M&#x6216;&#x8005;&#x66F4;&#x5927;</td>
<td style="text-align:right">cookie&#x6570;&#x636E;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;4k&#xFF0C;cookie&#x53EA;&#x9002;&#x5408;&#x4FDD;&#x5B58;&#x5F88;&#x5C0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x4F1A;&#x8BDD;&#x6807;&#x8BC6;&#x3002;</td>
</tr>
<tr>
<td>&#x751F;&#x547D;&#x5468;&#x671F;</td>
<td style="text-align:center">&#x4E00;&#x65E6;&#x7A97;&#x53E3;&#x6216;&#x6807;&#x7B7E;&#x9875;&#x88AB;&#x6C38;&#x4E45;&#x5173;&#x95ED;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x6240;&#x6709;&#x901A;&#x8FC7;sessionStorage&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x4E5F;&#x5C31;&#x88AB;&#x6E05;&#x7A7A;&#x4E86;&#x3002;</td>
<td style="text-align:right">&#x59CB;&#x7EC8;&#x6709;&#x6548;</td>
<td style="text-align:right">&#x53D6;&#x51B3;&#x4E8E;expires/max-age</td>
</tr>
<tr>
<td>&#x540C;&#x6E90;&#x7B56;&#x7565;</td>
<td style="text-align:center">&#x4E0D;&#x53EF;&#x8DE8;&#x57DF;</td>
<td style="text-align:right">&#x5728;&#x6240;&#x6709;&#x540C;&#x6E90;&#x7A97;&#x53E3;&#x4E2D;&#x90FD;&#x662F;&#x5171;&#x4EAB;&#x7684;</td>
<td style="text-align:right">&#x4E0D;&#x53EF;&#x4EE5;&#x8DE8;&#x57DF;&#x8C03;&#x7528;&#x3002;</td>
</tr>
<tr>
<td>&#x662F;&#x5426;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x6362;&#x6570;&#x636E;</td>
<td style="text-align:center">&#x6570;&#x636E;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x6362;</td>
<td style="text-align:right">&#x53EA;&#x5B58;&#x5728;&#x4E8E;&#x672C;&#x5730;</td>
<td style="text-align:right">&#x6BCF;&#x6B21;http&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x643A;&#x5E26;cookie&#xFF0C;</td>
</tr>
</tbody>
</table>
<h4 id="IndexedDB-Web-SQL"><a href="#IndexedDB-Web-SQL" class="headerlink" title="IndexedDB  Web SQL"></a>IndexedDB  Web SQL</h4><p>&#x8FD9;&#x4E24;&#x4E2A;&#x5B58;&#x50A8;&#xFF0C;&#x4E00;&#x822C;&#x5C5E;&#x4E8E;&#x79BB;&#x7EBF;&#x5E94;&#x7528;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x3002;web&#x7F51;&#x9875;&#x4E00;&#x822C;&#x4E0D;&#x4F7F;&#x7528;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x5E94;&#x7528;&#x3001;&#x6E38;&#x620F;&#x7B49;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x652F;&#x6301;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF1A;WEB SQL DATABASE SUPPORT</p>
<table>
<thead>
<tr>
<th style="text-align:right">IE</th>
<th style="text-align:center">FIREFOX</th>
<th style="text-align:right">SAFARI</th>
<th style="text-align:right">CHROME</th>
<th style="text-align:right">OPERA</th>
<th style="text-align:right">IPHONE</th>
<th>ANDROID</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">&#xB7;    &#xB7;</td>
<td style="text-align:center">4.0+</td>
<td style="text-align:right">4.0+</td>
<td style="text-align:right">10.5+</td>
<td style="text-align:right">3.0+</td>
<td style="text-align:right">2.0+</td>
</tr>
</tbody>
</table>
<h4 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h4><p>document.cookie=&#x201D;userId=1&#x201D;;</p>
<p>document.cookie=&#x201D;userName=hulk&#x201D;;</p>
<p>document.cookie&#x5B83;&#x7684;&#x8D4B;&#x503C;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x4E22;&#x5931;&#x539F;&#x6765;&#x7684;&#x503C;&#xFF0C;&#x4E0A;&#x9762;&#x4E24;&#x53E5;&#x8BF4;&#x660E;&#x6D4F;&#x89C8;&#x5668;&#x5C06;&#x7EF4;&#x62A4;&#x4E24;&#x4E2A;cookie&#xFF0C;&#x5206;&#x522B;&#x662F;userId&#x548C;userName&#xFF0C;&#x56E0;&#x6B64;&#x7ED9;document.cookie&#x8D4B;&#x503C;&#x66F4;&#x50CF;&#x6267;<br>&#x884C;&#x7C7B;&#x4F3C;&#x8FD9;&#x6837;&#x7684;&#x8BED;&#x53E5;&#xFF1A;</p>
<p>document.addCookie(&#x201C;userId=1&#x201D;);</p>
<p>document.addCookie(&#x201C;userName=hulk&#x201D;);</p>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5C31;&#x662F;&#x6309;&#x7167;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8BBE;&#x7F6E;cookie&#x7684;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x6539;&#x53D8;&#x4E00;&#x4E2A;cookie&#x7684;&#x503C;&#xFF0C;&#x53EA;&#x9700;&#x91CD;&#x65B0;&#x8D4B;&#x503C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<p>document.cookie=&#x201D;userId=2&#x201D;;</p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x5C06;&#x540D;&#x4E3A;userId&#x7684;cookie&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E86;2&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var date=new Date();</div><div class="line">var expireDays=10;</div><div class="line">//&#x5C06;date&#x8BBE;&#x7F6E;&#x4E3A;10&#x5929;&#x4EE5;&#x540E;&#x7684;&#x65F6;&#x95F4;</div><div class="line">date.setTime(date.getTime()+expireDays*24*3600*1000);</div><div class="line">document.cookie = &apos;cookiename=cookievalue;expires=+&apos;+date.toGMTString()+&apos;;&apos;;</div><div class="line">document.cookie = &apos;cookiez=zhangsad; max-age=&apos;+(60*60*24*365)+&apos;;path=/;&apos;;</div><div class="line">function getCookie(c_name){</div><div class="line">	 var i,x,y; </div><div class="line">	 var cookieArray = document.cookie.split(&quot;;&quot;); </div><div class="line">	 console.log(cookieArray);</div><div class="line">	 for (i=0;i&lt;cookieArray.length;i++){</div><div class="line">	  x = cookieArray[i].substr(0,cookieArray[i].indexOf(&quot;=&quot;)); </div><div class="line">	  y = cookieArray[i].substr(cookieArray[i].indexOf(&quot;=&quot;)+1); </div><div class="line">	  x = x.replace(/^\s+|\s+$/g,&quot;&quot;); </div><div class="line">	  console.log(y);</div><div class="line">	  if(x == c_name){ </div><div class="line">		  return unescape(y); </div><div class="line">	  }</div><div class="line">	 }</div><div class="line"> } </div><div class="line">console.log(getCookie(&apos;cookiez&apos;));</div><div class="line">console.log(document.cookie);</div></pre></td></tr></table></figure>
<p>Chrome&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#x7684;&#x663E;&#x793A;&#x7ED3;&#x679C;:</p>
<p><img src="/2016/08/20/HTML5-API-&#x65B0;&#x7279;&#x6027;/201608230954.PNG" alt="Chrome&#x6D4F;&#x89C8;&#x5668;Cookies"><br><img src="/2016/08/20/HTML5-API-&#x65B0;&#x7279;&#x6027;/201608230958.PNG" alt="Chrome&#x6D4F;&#x89C8;&#x5668;&#x63A7;&#x5236;&#x53F0;"></p>
<h2 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h2><h4 id="Cache-Storage-Application-Cache"><a href="#Cache-Storage-Application-Cache" class="headerlink" title="Cache Storage Application Cache"></a>Cache Storage Application Cache</h4><p>&#x79BB;&#x7EBF;&#x7F13;&#x5B58;&#x6280;&#x672F;&#x4E3B;&#x8981;&#x662F;&#x5E94;&#x7528;&#x4E8E;&#x5728;&#x6CA1;&#x6709;&#x7F51;&#x7EDC;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;&#x521B;&#x5EFA;cache manifest&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x7684;&#x521B;&#x5EFA;&#x79BB;&#x7EBF;&#x5E94;&#x7528;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot; manifest=&quot;static/manifest/manifest.appcache&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;APP CACHE&lt;/title&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;http://api.map.baidu.com/api?v=1.4&quot;&gt;&lt;/script&gt;</div><div class="line"> &lt;script type=&quot;text/javascript&quot; src=&quot;http://developer.baidu.com/map/jsdemo/demo/convertor.js&quot;&gt;&lt;/script&gt;</div><div class="line">  &lt;script src=&quot;static/ajaxjs/myzhang.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><div class="line"> &lt;script src=&quot;static/ajaxjs/geolocation.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;/head&gt;&lt;!-- text/cache-mainfest --&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;img src=&quot;static/img/1.jpg&quot;&gt;</div><div class="line">    &lt;img src=&quot;static/img/2.jpg&quot;&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    window.addEventListener(&apos;load&apos;, function(e){</div><div class="line">        console.log(window.applicationCache.status);</div><div class="line">    })</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>&#x5728;html&#x4E0A;&#x4F7F;&#x7528;manifest&#x5C5E;&#x6027;&#xFF0C;&#x5F15;&#x7528;appcache&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x4E0B;&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">CACHE MANIFEST</div><div class="line">#version 1.3</div><div class="line"># &#x9700;&#x8981;&#x7F13;&#x5B58;&#x7684;&#x5217;&#x8868;</div><div class="line">CACHE:</div><div class="line">    ../ajaxjs/myzhang.js</div><div class="line">    ../ajaxjs/geolocation.js</div><div class="line">    ../img/2.jpg</div><div class="line">    ../img/2.jpg</div><div class="line">NETWORK:</div><div class="line"># &#x4E0D;&#x9700;&#x8981;&#x7F13;&#x5B58;&#x7684;</div><div class="line">    *</div><div class="line"></div><div class="line">FALLBACK:</div><div class="line"># &#x8BBF;&#x95EE;&#x7F13;&#x5B58;&#x5931;&#x8D25;&#x540E;&#xFF0C;&#x5907;&#x7528;&#x8BBF;&#x95EE;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x8BBF;&#x95EE;&#x6E90;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x66FF;&#x6362;&#x6587;&#x4EF6;*.html /offline.html</div><div class="line">2.jpg/3.jpg</div></pre></td></tr></table></figure>
<p>CACHE&#x4E0A;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x662F;&#x4E0B;&#x8F7D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#xFF0C;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x3002;</p>
<p><img src="/2016/08/20/HTML5-API-&#x65B0;&#x7279;&#x6027;/201608231046.PNG" alt="Cache"><br><img src="/2016/08/20/HTML5-API-&#x65B0;&#x7279;&#x6027;/201608231049.PNG" alt="Cache"><br><a href="http://www.admin10000.com/document/5921.html" target="_blank" rel="external">HTML5&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7F13;&#x5B58;Application Cache&#x8BE6;&#x89E3;</a><br><a href="https://www.nihaoshijie.com.cn/index.php/archives/425" target="_blank" rel="external">HTML5&#x79BB;&#x7EBF;&#x5B58;&#x50A8;&#x4E4B;Application Cache</a></p>
<h2 id="&#x6587;&#x4EF6;"><a href="#&#x6587;&#x4EF6;" class="headerlink" title="&#x6587;&#x4EF6;"></a>&#x6587;&#x4EF6;</h2><h4 id="File"><a href="#File" class="headerlink" title="File"></a>File</h4><p>&#x5177;&#x4F53;&#x5E94;&#x7528;&#xFF1A;<br><a href="http://blog.csdn.net/a35038438/article/details/51162291" target="_blank" rel="external">&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x7ACB;&#x5373;&#x663E;&#x793A;</a><br>1.&#x6587;&#x4EF6;&#x5373;&#x4F20;&#x5373;&#x663E;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$(&quot;input:file&quot;).on(&quot;click&quot;,function(){</div><div class="line">    console.log($(this));</div><div class="line">    var img=$($($(this).next(&quot;label&quot;))).find(&quot;img&quot;);</div><div class="line">    //*&#x539F;&#x7406;&#x662F;&#x628A;&#x672C;&#x5730;&#x56FE;&#x7247;&#x8DEF;&#x5F84;&#xFF1A;&quot;D(&#x76D8;&#x7B26;):/image/...&quot;&#x8F6C;&#x4E3A;&quot;http://...&quot;&#x683C;&#x5F0F;&#x8DEF;&#x5F84;&#x6765;&#x8FDB;&#x884C;&#x663E;&#x793A;&#x56FE;&#x7247;*/  </div><div class="line">    $(this).change(function() {  </div><div class="line">        var $file = $(this);  </div><div class="line">        var objUrl = $file[0].files[0];  </div><div class="line">        var windowURL = window.URL || window.webkitURL;  </div><div class="line">        //createObjectURL&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x8BE5;&#x53C2;&#x6570;&#x5BF9;&#x8C61;(&#x56FE;&#x7247;)&#x7684;URL  </div><div class="line">        var dataURL;  </div><div class="line">        dataURL = windowURL.createObjectURL(objUrl);  </div><div class="line">        $(img).attr(&quot;src&quot;,dataURL);  </div><div class="line">    });  </div><div class="line">})</div></pre></td></tr></table></figure>
<p>2.AJAX&#x4E0A;&#x4F20;&#x6587;&#x4EF6; XMLHttpRequest Level 2&#x4E2D;&#x7684;&#x7684;FormData</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">	</div><div class="line">	var data=new FormData();</div><div class="line">	data.append(&quot;currentPage&quot;, 1);</div><div class="line">	data.append(&quot;order&quot;, &quot;desc&quot;); </div><div class="line">	ajax(&quot;&quot;,&quot;&quot;,data);</div><div class="line"></div><div class="line">function ajax(method,url,data){</div><div class="line">	var xhr ;</div><div class="line">    if (window.XMLHttpRequest) { // Mozilla, Safari, ...</div><div class="line">        xhr = new XMLHttpRequest();</div><div class="line">    } else if (window.ActiveXObject) { // IE</div><div class="line">        xhr = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</div><div class="line">    }</div><div class="line">    xhr.addEventListener(&quot;progress&quot;, updateProgress, false);</div><div class="line">    xhr.addEventListener(&quot;load&quot;, transferComplete, false);</div><div class="line">    xhr.addEventListener(&quot;error&quot;, transferFailed, false);</div><div class="line">    xhr.addEventListener(&quot;abort&quot;, transferCanceled, false);</div><div class="line">    xhr.open(method,url, true);</div><div class="line">    xhr.setRequestHeader(&quot;Content-Type&quot;,&quot;multipart/form-data&quot;);</div><div class="line">    xhr.send(data);</div><div class="line">}</div><div class="line"></div><div class="line">// progress on transfers from the server to the client (downloads)</div><div class="line">function updateProgress(evt) {</div><div class="line">  if (evt.lengthComputable) {</div><div class="line">    var percentComplete = evt.loaded / evt.total;</div><div class="line">    console.log(&quot;The transfer is updateProgress.&quot;);</div><div class="line">  } else {</div><div class="line">    // Unable to compute progress information since the total size is unknown</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line">function transferComplete(evt) {</div><div class="line">	console.log(evt);</div><div class="line">	console.log(this.response);</div><div class="line">	console.log(JSON.parse(this.response));</div><div class="line">	console.log(evt.responseText);</div><div class="line">	console.log(&quot;The transfer is complete.&quot;);</div><div class="line">}</div><div class="line"></div><div class="line">function transferFailed(evt) {</div><div class="line">	 console.log(&quot;An error occurred while transferring the file.&quot;);</div><div class="line">}</div><div class="line"></div><div class="line">function transferCanceled(evt) {</div><div class="line">	 console.log(&quot;The transfer has been canceled by the user.&quot;);</div><div class="line">}</div></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/Using_FormData_Objects" target="_blank" rel="external">&#x4F7F;&#x7528;FormData&#x5BF9;&#x8C61;</a><br><a href="https://developer.mozilla.org/zh-CN/docs/AJAX/Getting_Started" target="_blank" rel="external">&#x4EC0;&#x4E48;&#x662F; AJAX?</a></p>
<h4 id="FileReader-Blob"><a href="#FileReader-Blob" class="headerlink" title="FileReader Blob"></a>FileReader Blob</h4><h2 id="&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x3001;&#x591A;&#x5A92;&#x4F53;"><a href="#&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x3001;&#x591A;&#x5A92;&#x4F53;" class="headerlink" title="&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x3001;&#x591A;&#x5A92;&#x4F53;"></a>&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x3001;&#x591A;&#x5A92;&#x4F53;</h2><h4 id="Canvas-SVG"><a href="#Canvas-SVG" class="headerlink" title="Canvas SVG"></a>Canvas SVG</h4><p>&#x5728;body&#x4E2D;&#x6DFB;&#x52A0;Canvas&#x548C;svg&#x6807;&#x7B7E;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x5C55;&#x793A;&#x9700;&#x8981;&#x5728;js&#x4E2D;&#x4E66;&#x5199;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;canvas id=&quot;myCanvas&quot; width=&quot;200&quot; height=&quot;100&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; height=&quot;190&quot;&gt;&lt;/svg&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var ctx=document.getElementById(&quot;myCanvas&quot;);</div><div class="line">ctx.fillStyle = &quot;green&quot;;</div><div class="line">ctx.fillRect(10, 10, 100, 100);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>&#x5177;&#x4F53;&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;&#x4E86;&#x3002;<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank" rel="external">Canvas</a></p>
<h4 id="video"><a href="#video" class="headerlink" title="video"></a>video</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;video id=&quot;video&quot; width=&quot;420&quot; style=&quot;margin-top:15px;&quot;&gt;</div><div class="line">   &lt;source src=&quot;/example/html5/mov_bbb.mp4&quot; type=&quot;video/mp4&quot; /&gt;</div><div class="line">   &lt;source src=&quot;/example/html5/mov_bbb.ogg&quot; type=&quot;video/ogg&quot; /&gt;</div><div class="line">   Your browser does not support HTML5 video.</div><div class="line"> &lt;/video&gt;</div></pre></td></tr></table></figure>
<h4 id="audio"><a href="#audio" class="headerlink" title="audio"></a>audio</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;audio src=&quot;song.ogg&quot; controls=&quot;controls&quot;&gt;&lt;/audio&gt;</div></pre></td></tr></table></figure>
<h2 id="&#x5176;&#x4ED6;API"><a href="#&#x5176;&#x4ED6;API" class="headerlink" title="&#x5176;&#x4ED6;API"></a>&#x5176;&#x4ED6;API</h2><h4 id="navigator-geolocation-&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;"><a href="#navigator-geolocation-&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;" class="headerlink" title="navigator.geolocation &#x4F4D;&#x7F6E;&#x4FE1;&#x606F;"></a>navigator.geolocation &#x4F4D;&#x7F6E;&#x4FE1;&#x606F;</h4><p>&#x7ED3;&#x5408;&#x624B;&#x673A;&#x548C;PC,&#x901A;&#x8FC7;&#x767E;&#x5EA6;Map&#x548C;google convertor</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;http://api.map.baidu.com/api?v=1.4&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;http://developer.baidu.com/map/jsdemo/demo/convertor.js&quot;&gt;&lt;/script&gt;</div><div class="line"></div><div class="line">//&#x83B7;&#x53D6;&#x5730;&#x7406;&#x4FE1;&#x606F;&#x5E76;Hander</div><div class="line"> $(function(){</div><div class="line">		 </div><div class="line">		 if(check()){</div><div class="line">			 pc();</div><div class="line">		 }else{</div><div class="line">			 phone();</div><div class="line">		 }</div><div class="line">	</div><div class="line"> })</div><div class="line">//geo</div><div class="line"> function Hander(city){</div><div class="line">	 console.log(city);</div><div class="line">	// if(city.charAt(city.length-1)==&quot;&#x5E02;&quot;&amp;&amp;city.substring(city.length-2,city.length-1)!=&quot;&#x5E02;&quot;){</div><div class="line">	//	 city=city.substring(0,city.length-1); </div><div class="line">	// }</div><div class="line"> 	//city=&quot;&#x5F90;&#x5DDE;&quot;;</div><div class="line"> }</div><div class="line"></div><div class="line"> function check() {</div><div class="line">	  var userAgentInfo=navigator.userAgent;</div><div class="line">	  var Agents =new Array(&quot;Android&quot;,&quot;iPhone&quot;,&quot;SymbianOS&quot;,&quot;Windows Phone&quot;,&quot;iPad&quot;,&quot;iPod&quot;);</div><div class="line">	  var flag=true;</div><div class="line">	  for(var v=0;v&lt;Agents.length;v++) {</div><div class="line">	     if(userAgentInfo.indexOf(Agents[v])&gt;0) {</div><div class="line">	       flag=false;</div><div class="line">	       break;</div><div class="line">	     }</div><div class="line">	   }</div><div class="line">	 return flag;</div><div class="line">}</div><div class="line"></div><div class="line">function pc(){</div><div class="line"> $.getScript(&apos;http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js&apos;,getCity);</div><div class="line">}</div><div class="line"></div><div class="line">function getCity(_result){</div><div class="line">	  if (remote_ip_info.ret == &apos;1&apos;) {</div><div class="line">	         console.log(remote_ip_info.country + &apos; ,&apos; + remote_ip_info.province + &apos;&#x7701;,&apos; + remote_ip_info.city+ &apos;&#x5E02;&apos;   );</div><div class="line">	         Hander(remote_ip_info.city);</div><div class="line">	     } else {</div><div class="line">	    	 console.log(&apos;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x5339;&#x914D;&#x7684;IP&#x5730;&#x5740;&#x4FE1;&#x606F;&#xFF01;&apos;);</div><div class="line">	     }</div><div class="line">}</div><div class="line"></div><div class="line">function phone(){</div><div class="line">	    var options={</div><div class="line">	            enableHighAccuracy:true,</div><div class="line">	            maximunAge:1000,</div><div class="line">	            timeout:5000</div><div class="line">	    };</div><div class="line">	    if(window.navigator.geolocation){</div><div class="line">	        navigator.geolocation.getCurrentPosition(successCallback,errorCallback,options);</div><div class="line">	    }else{</div><div class="line">	    	 console.log(&apos;&#x4F60;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x652F;&#x6301;&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#xFF01;&apos;);</div><div class="line">	}</div><div class="line">}</div><div class="line"> </div><div class="line">function successCallback(position){</div><div class="line">		// &#x767E;&#x5EA6;&#x5730;&#x56FE;API&#x529F;&#x80FD;</div><div class="line">	   var lng = position.coords.longitude;</div><div class="line">	   var lat = position.coords.latitude;</div><div class="line">	   var point = new BMap.Point(lng, lat); // &#x521B;&#x5EFA;&#x70B9;&#x5750;&#x6807;//116.331398,39.897445</div><div class="line">	   BMap.Convertor.translate(point,0,translateCallback); </div><div class="line">	   console.log(&apos;&#x5F53;&#x524D;&#x5730;&#x5740;&#x7684;&#x7ECF;&#x7EAC;&#x5EA6;&#xFF1A;&#x7ECF;&#x5EA6;&apos; + lng + &apos;&#xFF0C;&#x7EAC;&#x5EA6;&apos; + lat);</div><div class="line">	   </div><div class="line">}</div><div class="line">function translateCallback(point){</div><div class="line">	 console.log(point);</div><div class="line">	  var geoc = new BMap.Geocoder();//&#x5730;&#x5740;&#x89E3;&#x6790;&#x7C7B; </div><div class="line">	  geoc.getLocation(point, function(rs){</div><div class="line">		 var defCity = {</div><div class="line">			        id: &apos;000001&apos;,</div><div class="line">			        name: &apos;&#x5317;&#x4EAC;&apos;,</div><div class="line">			        date: new Date()//&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x65B9;&#x6CD5;</div><div class="line">		};</div><div class="line">		var addComp = rs.addressComponents;</div><div class="line">		console.log(addComp.province + &quot;, &quot; + addComp.city + &quot;, &quot; + addComp.district + &quot;, &quot; + addComp.street + &quot;, &quot; + addComp.streetNumber);</div><div class="line">		Hander(addComp.city);</div><div class="line">	});</div><div class="line">}</div><div class="line">	</div><div class="line">function errorCallback(error){</div><div class="line">   switch(error.code){</div><div class="line">   case error.PERMISSION_DENIED:</div><div class="line">	   console.log(&quot;you have denied access to your position .&quot;);</div><div class="line">       break;</div><div class="line">   case error.POSITION_UNAVAILABLE:</div><div class="line">	   console.log(&quot;there was a problem getting yout position .&quot;);</div><div class="line">       break;</div><div class="line">   case error.TIMEOUT:</div><div class="line">       console.log(&quot;The application has timed out attempting to get your location .&quot;);</div><div class="line">       break;</div><div class="line">   }</div><div class="line">}</div></pre></td></tr></table></figure>
<p>navigator.geolocation.getCurrentPosition(successCallback,errorCallback,options);</p>
<p>Geolocation.getCurrentPosition()</p>
<p>Determines the device&#x2019;s current location and gives back a Position object with the data.</p>
<p>Geolocation.watchPosition()</p>
<p>Returns a long value representing the newly established callback function to be invoked whenever the device location changes.</p>
<p>Geolocation.clearWatch()</p>
<p>Removes the particular handler previously installed using watchPosition().</p>
<p>geolocation&#x6709;&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x4E2D;getCurrentPosition&#x4E2D;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x4F1A;&#x56DE;&#x4F20;&#x53C2;&#x6570;Position&#x5176;&#x4E2D;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;Coordinates&#x548C;timestamp</p>
<p>Position.coords Read only : Returns a Coordinates object defining the current location.</p>
<p>Position.timestamp Read only : Returns a DOMTimeStamp representing the time at which the location was retrieved.</p>
<h4 id="history-&#x5386;&#x53F2;&#x4FE1;&#x606F;"><a href="#history-&#x5386;&#x53F2;&#x4FE1;&#x606F;" class="headerlink" title="history &#x5386;&#x53F2;&#x4FE1;&#x606F;"></a>history &#x5386;&#x53F2;&#x4FE1;&#x606F;</h4><p>history.back():&#x540E;&#x9000;  &#x52A0;&#x8F7D; history &#x5217;&#x8868;&#x4E2D;&#x7684;&#x524D;&#x4E00;&#x4E2A; URL&#x3002;</p>
<p>history.forward() &#x52A0;&#x8F7D; history &#x5217;&#x8868;&#x4E2D;&#x7684;&#x4E0B;&#x4E00;&#x4E2A; URL&#x3002;</p>
<p>history.go(0);//&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762;</p>
<p>//&#x4EE5;&#x4E0B;&#x662F;&#x8981;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6709;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x7684;,&#x5426;&#x5219;&#x4E0D;&#x4F1A;&#x6709;&#x6548;&#x679C;.<br>history.go(1);//&#x524D;&#x8FDB;&#x4E00;&#x9875;</p>
<p>history.go(-1);//&#x540E;&#x9000;&#x4E00;&#x9875;</p>
<p>history.go(-2);//&#x540E;&#x9000;&#x4E24;&#x9875;</p>
<p>history.length;//&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x5305;&#x542B;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x6761;&#x6570;</p>
<h4 id="Worker"><a href="#Worker" class="headerlink" title="Worker"></a>Worker</h4><p><a href="http://www.ibm.com/developerworks/cn/web/1112_sunch_webworker/" target="_blank" rel="external">&#x6DF1;&#x5165; HTML5 Web Worker &#x5E94;&#x7528;&#x5B9E;&#x8DF5;&#xFF1A;&#x591A;&#x7EBF;&#x7A0B;&#x7F16;&#x7A0B;</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/API/" rel="tag">#API</a>
          
            <a href="/tags/Canvas/" rel="tag">#Canvas</a>
          
            <a href="/tags/Storage/" rel="tag">#Storage</a>
          
            <a href="/tags/Cache/" rel="tag">#Cache</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/08/04/Thinking-in-java-基础之异常/" rel="next" title="Thinking in java 基础之异常">
                <i class="fa fa-chevron-left"></i> Thinking in java 基础之异常
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/08/31/hello-world/" rel="prev" title="Hello World">
                Hello World <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type = "text/javascript" src = "//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-577a08f17286c0c0" async = "async" ></script>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/08/20/HTML5-API-新特性/"
           data-title="HTML5 API 新特性" data-url="https://muxiaobai.github.io/2016/08/20/HTML5-API-新特性/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Inhaltsverzeichnis
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Übersicht
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/img/avatars.jpg"
               alt="Mu Xiaobai(慕小白)" />
          <p class="site-author-name" itemprop="name">Mu Xiaobai(慕小白)</p>
          <p class="site-description motion-element" itemprop="description">记录日常工作中遇到的技术问题</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">Artikel</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">Kategorien</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">Tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#HTML5-API新特性"><span class="nav-number">1.</span> <span class="nav-text">HTML5-API新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Storage-存储"><span class="nav-number">1.1.</span> <span class="nav-text">Storage 存储</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Local-Storage"><span class="nav-number">1.1.0.1.</span> <span class="nav-text">Local Storage</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Session-Storage"><span class="nav-number">1.1.0.2.</span> <span class="nav-text">Session Storage</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IndexedDB-Web-SQL"><span class="nav-number">1.1.0.3.</span> <span class="nav-text">IndexedDB  Web SQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookies"><span class="nav-number">1.1.0.4.</span> <span class="nav-text">Cookies</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cache"><span class="nav-number">1.2.</span> <span class="nav-text">Cache</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cache-Storage-Application-Cache"><span class="nav-number">1.2.0.1.</span> <span class="nav-text">Cache Storage Application Cache</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件"><span class="nav-number">1.3.</span> <span class="nav-text">文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#File"><span class="nav-number">1.3.0.1.</span> <span class="nav-text">File</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FileReader-Blob"><span class="nav-number">1.3.0.2.</span> <span class="nav-text">FileReader Blob</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#图形图像、多媒体"><span class="nav-number">1.4.</span> <span class="nav-text">图形图像、多媒体</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Canvas-SVG"><span class="nav-number">1.4.0.1.</span> <span class="nav-text">Canvas SVG</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#video"><span class="nav-number">1.4.0.2.</span> <span class="nav-text">video</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#audio"><span class="nav-number">1.4.0.3.</span> <span class="nav-text">audio</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他API"><span class="nav-number">1.5.</span> <span class="nav-text">其他API</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#navigator-geolocation-位置信息"><span class="nav-number">1.5.0.1.</span> <span class="nav-text">navigator.geolocation 位置信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#history-历史信息"><span class="nav-number">1.5.0.2.</span> <span class="nav-text">history 历史信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Worker"><span class="nav-number">1.5.0.3.</span> <span class="nav-text">Worker</span></a></li></ol></li></ol></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mu Xiaobai(慕小白)</span>
</div>

<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"muxiaobai"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

</body>
</html>
